/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __markAsModule = (target) => __defProp(target, "__esModule", { value: true });
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[Object.keys(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  __markAsModule(target);
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __reExport = (target, module2, desc) => {
  if (module2 && typeof module2 === "object" || typeof module2 === "function") {
    for (let key of __getOwnPropNames(module2))
      if (!__hasOwnProp.call(target, key) && key !== "default")
        __defProp(target, key, { get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });
  }
  return target;
};
var __toModule = (module2) => {
  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, "default", module2 && module2.__esModule && "default" in module2 ? { get: () => module2.default, enumerable: true } : { value: module2, enumerable: true })), module2);
};
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

// node_modules/obsidian-daily-notes-interface/dist/main.js
var require_main = __commonJS({
  "node_modules/obsidian-daily-notes-interface/dist/main.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var obsidian = require("obsidian");
    var DEFAULT_DAILY_NOTE_FORMAT = "YYYY-MM-DD";
    var DEFAULT_WEEKLY_NOTE_FORMAT = "gggg-[W]ww";
    var DEFAULT_MONTHLY_NOTE_FORMAT = "YYYY-MM";
    var DEFAULT_QUARTERLY_NOTE_FORMAT = "YYYY-[Q]Q";
    var DEFAULT_YEARLY_NOTE_FORMAT = "YYYY";
    function shouldUsePeriodicNotesSettings(periodicity) {
      var _a, _b;
      const periodicNotes = window.app.plugins.getPlugin("periodic-notes");
      return periodicNotes && ((_b = (_a = periodicNotes.settings) == null ? void 0 : _a[periodicity]) == null ? void 0 : _b.enabled);
    }
    function getDailyNoteSettings() {
      var _a, _b, _c, _d;
      try {
        const { internalPlugins, plugins } = window.app;
        if (shouldUsePeriodicNotesSettings("daily")) {
          const { format: format2, folder: folder2, template: template2 } = ((_b = (_a = plugins.getPlugin("periodic-notes")) == null ? void 0 : _a.settings) == null ? void 0 : _b.daily) || {};
          return {
            format: format2 || DEFAULT_DAILY_NOTE_FORMAT,
            folder: (folder2 == null ? void 0 : folder2.trim()) || "",
            template: (template2 == null ? void 0 : template2.trim()) || ""
          };
        }
        const { folder, format, template } = ((_d = (_c = internalPlugins.getPluginById("daily-notes")) == null ? void 0 : _c.instance) == null ? void 0 : _d.options) || {};
        return {
          format: format || DEFAULT_DAILY_NOTE_FORMAT,
          folder: (folder == null ? void 0 : folder.trim()) || "",
          template: (template == null ? void 0 : template.trim()) || ""
        };
      } catch (err) {
        console.info("No custom daily note settings found!", err);
      }
    }
    function getWeeklyNoteSettings() {
      var _a, _b, _c, _d, _e, _f, _g;
      try {
        const pluginManager = window.app.plugins;
        const calendarSettings = (_a = pluginManager.getPlugin("calendar")) == null ? void 0 : _a.options;
        const periodicNotesSettings = (_c = (_b = pluginManager.getPlugin("periodic-notes")) == null ? void 0 : _b.settings) == null ? void 0 : _c.weekly;
        if (shouldUsePeriodicNotesSettings("weekly")) {
          return {
            format: periodicNotesSettings.format || DEFAULT_WEEKLY_NOTE_FORMAT,
            folder: ((_d = periodicNotesSettings.folder) == null ? void 0 : _d.trim()) || "",
            template: ((_e = periodicNotesSettings.template) == null ? void 0 : _e.trim()) || ""
          };
        }
        const settings = calendarSettings || {};
        return {
          format: settings.weeklyNoteFormat || DEFAULT_WEEKLY_NOTE_FORMAT,
          folder: ((_f = settings.weeklyNoteFolder) == null ? void 0 : _f.trim()) || "",
          template: ((_g = settings.weeklyNoteTemplate) == null ? void 0 : _g.trim()) || ""
        };
      } catch (err) {
        console.info("No custom weekly note settings found!", err);
      }
    }
    function getMonthlyNoteSettings() {
      var _a, _b, _c, _d;
      const pluginManager = window.app.plugins;
      try {
        const settings = shouldUsePeriodicNotesSettings("monthly") && ((_b = (_a = pluginManager.getPlugin("periodic-notes")) == null ? void 0 : _a.settings) == null ? void 0 : _b.monthly) || {};
        return {
          format: settings.format || DEFAULT_MONTHLY_NOTE_FORMAT,
          folder: ((_c = settings.folder) == null ? void 0 : _c.trim()) || "",
          template: ((_d = settings.template) == null ? void 0 : _d.trim()) || ""
        };
      } catch (err) {
        console.info("No custom monthly note settings found!", err);
      }
    }
    function getQuarterlyNoteSettings() {
      var _a, _b, _c, _d;
      const pluginManager = window.app.plugins;
      try {
        const settings = shouldUsePeriodicNotesSettings("quarterly") && ((_b = (_a = pluginManager.getPlugin("periodic-notes")) == null ? void 0 : _a.settings) == null ? void 0 : _b.quarterly) || {};
        return {
          format: settings.format || DEFAULT_QUARTERLY_NOTE_FORMAT,
          folder: ((_c = settings.folder) == null ? void 0 : _c.trim()) || "",
          template: ((_d = settings.template) == null ? void 0 : _d.trim()) || ""
        };
      } catch (err) {
        console.info("No custom quarterly note settings found!", err);
      }
    }
    function getYearlyNoteSettings() {
      var _a, _b, _c, _d;
      const pluginManager = window.app.plugins;
      try {
        const settings = shouldUsePeriodicNotesSettings("yearly") && ((_b = (_a = pluginManager.getPlugin("periodic-notes")) == null ? void 0 : _a.settings) == null ? void 0 : _b.yearly) || {};
        return {
          format: settings.format || DEFAULT_YEARLY_NOTE_FORMAT,
          folder: ((_c = settings.folder) == null ? void 0 : _c.trim()) || "",
          template: ((_d = settings.template) == null ? void 0 : _d.trim()) || ""
        };
      } catch (err) {
        console.info("No custom yearly note settings found!", err);
      }
    }
    function join2(...partSegments) {
      let parts = [];
      for (let i = 0, l = partSegments.length; i < l; i++) {
        parts = parts.concat(partSegments[i].split("/"));
      }
      const newParts = [];
      for (let i = 0, l = parts.length; i < l; i++) {
        const part = parts[i];
        if (!part || part === ".")
          continue;
        else
          newParts.push(part);
      }
      if (parts[0] === "")
        newParts.unshift("");
      return newParts.join("/");
    }
    function basename(fullPath) {
      let base = fullPath.substring(fullPath.lastIndexOf("/") + 1);
      if (base.lastIndexOf(".") != -1)
        base = base.substring(0, base.lastIndexOf("."));
      return base;
    }
    function ensureFolderExists2(path) {
      return __async(this, null, function* () {
        const dirs = path.replace(/\\/g, "/").split("/");
        dirs.pop();
        if (dirs.length) {
          const dir = join2(...dirs);
          if (!window.app.vault.getAbstractFileByPath(dir)) {
            yield window.app.vault.createFolder(dir);
          }
        }
      });
    }
    function getNotePath(directory, filename) {
      return __async(this, null, function* () {
        if (!filename.endsWith(".md")) {
          filename += ".md";
        }
        const path = obsidian.normalizePath(join2(directory, filename));
        yield ensureFolderExists2(path);
        return path;
      });
    }
    function getTemplateInfo(template) {
      return __async(this, null, function* () {
        const { metadataCache, vault } = window.app;
        const templatePath = obsidian.normalizePath(template);
        if (templatePath === "/") {
          return Promise.resolve(["", null]);
        }
        try {
          const templateFile = metadataCache.getFirstLinkpathDest(templatePath, "");
          const contents = yield vault.cachedRead(templateFile);
          const IFoldInfo = window.app.foldManager.load(templateFile);
          return [contents, IFoldInfo];
        } catch (err) {
          console.error(`Failed to read the daily note template '${templatePath}'`, err);
          new obsidian.Notice("Failed to read the daily note template");
          return ["", null];
        }
      });
    }
    function getDateUID3(date, granularity = "day") {
      const ts = date.clone().startOf(granularity).format();
      return `${granularity}-${ts}`;
    }
    function removeEscapedCharacters(format) {
      return format.replace(/\[[^\]]*\]/g, "");
    }
    function isFormatAmbiguous(format, granularity) {
      if (granularity === "week") {
        const cleanFormat = removeEscapedCharacters(format);
        return /w{1,2}/i.test(cleanFormat) && (/M{1,4}/.test(cleanFormat) || /D{1,4}/.test(cleanFormat));
      }
      return false;
    }
    function getDateFromFile2(file, granularity) {
      return getDateFromFilename(file.basename, granularity);
    }
    function getDateFromPath(path, granularity) {
      return getDateFromFilename(basename(path), granularity);
    }
    function getDateFromFilename(filename, granularity) {
      const getSettings = {
        day: getDailyNoteSettings,
        week: getWeeklyNoteSettings,
        month: getMonthlyNoteSettings,
        quarter: getQuarterlyNoteSettings,
        year: getYearlyNoteSettings
      };
      const format = getSettings[granularity]().format.split("/").pop();
      const noteDate = window.moment(filename, format, true);
      if (!noteDate.isValid()) {
        return null;
      }
      if (isFormatAmbiguous(format, granularity)) {
        if (granularity === "week") {
          const cleanFormat = removeEscapedCharacters(format);
          if (/w{1,2}/i.test(cleanFormat)) {
            return window.moment(filename, format.replace(/M{1,4}/g, "").replace(/D{1,4}/g, ""), false);
          }
        }
      }
      return noteDate;
    }
    var DailyNotesFolderMissingError = class extends Error {
    };
    function createDailyNote3(date) {
      return __async(this, null, function* () {
        const app2 = window.app;
        const { vault } = app2;
        const moment = window.moment;
        const { template, format, folder } = getDailyNoteSettings();
        const [templateContents, IFoldInfo] = yield getTemplateInfo(template);
        const filename = date.format(format);
        const normalizedPath = yield getNotePath(folder, filename);
        try {
          const createdFile = yield vault.create(normalizedPath, templateContents.replace(/{{\s*date\s*}}/gi, filename).replace(/{{\s*time\s*}}/gi, moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi, filename).replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi, (_, _timeOrDate, calc, timeDelta, unit, momentFormat) => {
            const now = moment();
            const currentDate = date.clone().set({
              hour: now.get("hour"),
              minute: now.get("minute"),
              second: now.get("second")
            });
            if (calc) {
              currentDate.add(parseInt(timeDelta, 10), unit);
            }
            if (momentFormat) {
              return currentDate.format(momentFormat.substring(1).trim());
            }
            return currentDate.format(format);
          }).replace(/{{\s*yesterday\s*}}/gi, date.clone().subtract(1, "day").format(format)).replace(/{{\s*tomorrow\s*}}/gi, date.clone().add(1, "d").format(format)));
          app2.foldManager.save(createdFile, IFoldInfo);
          return createdFile;
        } catch (err) {
          console.error(`Failed to create file: '${normalizedPath}'`, err);
          new obsidian.Notice("Unable to create new file.");
        }
      });
    }
    function getDailyNote2(date, dailyNotes) {
      var _a;
      return (_a = dailyNotes[getDateUID3(date, "day")]) != null ? _a : null;
    }
    function getAllDailyNotes2() {
      const { vault } = window.app;
      const { folder } = getDailyNoteSettings();
      const dailyNotesFolder = vault.getAbstractFileByPath(obsidian.normalizePath(folder));
      if (!dailyNotesFolder) {
        throw new DailyNotesFolderMissingError("Failed to find daily notes folder");
      }
      const dailyNotes = {};
      obsidian.Vault.recurseChildren(dailyNotesFolder, (note) => {
        if (note instanceof obsidian.TFile) {
          const date = getDateFromFile2(note, "day");
          if (date) {
            const dateString = getDateUID3(date, "day");
            dailyNotes[dateString] = note;
          }
        }
      });
      return dailyNotes;
    }
    var WeeklyNotesFolderMissingError = class extends Error {
    };
    function getDaysOfWeek2() {
      const { moment } = window;
      let weekStart = moment.localeData()._week.dow;
      const daysOfWeek = [
        "sunday",
        "monday",
        "tuesday",
        "wednesday",
        "thursday",
        "friday",
        "saturday"
      ];
      while (weekStart) {
        daysOfWeek.push(daysOfWeek.shift());
        weekStart--;
      }
      return daysOfWeek;
    }
    function getDayOfWeekNumericalValue2(dayOfWeekName) {
      return getDaysOfWeek2().indexOf(dayOfWeekName.toLowerCase());
    }
    function createWeeklyNote(date) {
      return __async(this, null, function* () {
        const { vault } = window.app;
        const { template, format, folder } = getWeeklyNoteSettings();
        const [templateContents, IFoldInfo] = yield getTemplateInfo(template);
        const filename = date.format(format);
        const normalizedPath = yield getNotePath(folder, filename);
        try {
          const createdFile = yield vault.create(normalizedPath, templateContents.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi, (_, _timeOrDate, calc, timeDelta, unit, momentFormat) => {
            const now = window.moment();
            const currentDate = date.clone().set({
              hour: now.get("hour"),
              minute: now.get("minute"),
              second: now.get("second")
            });
            if (calc) {
              currentDate.add(parseInt(timeDelta, 10), unit);
            }
            if (momentFormat) {
              return currentDate.format(momentFormat.substring(1).trim());
            }
            return currentDate.format(format);
          }).replace(/{{\s*title\s*}}/gi, filename).replace(/{{\s*time\s*}}/gi, window.moment().format("HH:mm")).replace(/{{\s*(sunday|monday|tuesday|wednesday|thursday|friday|saturday)\s*:(.*?)}}/gi, (_, dayOfWeek, momentFormat) => {
            const day = getDayOfWeekNumericalValue2(dayOfWeek);
            return date.weekday(day).format(momentFormat.trim());
          }));
          window.app.foldManager.save(createdFile, IFoldInfo);
          return createdFile;
        } catch (err) {
          console.error(`Failed to create file: '${normalizedPath}'`, err);
          new obsidian.Notice("Unable to create new file.");
        }
      });
    }
    function getWeeklyNote(date, weeklyNotes) {
      var _a;
      return (_a = weeklyNotes[getDateUID3(date, "week")]) != null ? _a : null;
    }
    function getAllWeeklyNotes2() {
      const weeklyNotes = {};
      if (!appHasWeeklyNotesPluginLoaded()) {
        return weeklyNotes;
      }
      const { vault } = window.app;
      const { folder } = getWeeklyNoteSettings();
      const weeklyNotesFolder = vault.getAbstractFileByPath(obsidian.normalizePath(folder));
      if (!weeklyNotesFolder) {
        throw new WeeklyNotesFolderMissingError("Failed to find weekly notes folder");
      }
      obsidian.Vault.recurseChildren(weeklyNotesFolder, (note) => {
        if (note instanceof obsidian.TFile) {
          const date = getDateFromFile2(note, "week");
          if (date) {
            const dateString = getDateUID3(date, "week");
            weeklyNotes[dateString] = note;
          }
        }
      });
      return weeklyNotes;
    }
    var MonthlyNotesFolderMissingError = class extends Error {
    };
    function createMonthlyNote(date) {
      return __async(this, null, function* () {
        const { vault } = window.app;
        const { template, format, folder } = getMonthlyNoteSettings();
        const [templateContents, IFoldInfo] = yield getTemplateInfo(template);
        const filename = date.format(format);
        const normalizedPath = yield getNotePath(folder, filename);
        try {
          const createdFile = yield vault.create(normalizedPath, templateContents.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi, (_, _timeOrDate, calc, timeDelta, unit, momentFormat) => {
            const now = window.moment();
            const currentDate = date.clone().set({
              hour: now.get("hour"),
              minute: now.get("minute"),
              second: now.get("second")
            });
            if (calc) {
              currentDate.add(parseInt(timeDelta, 10), unit);
            }
            if (momentFormat) {
              return currentDate.format(momentFormat.substring(1).trim());
            }
            return currentDate.format(format);
          }).replace(/{{\s*date\s*}}/gi, filename).replace(/{{\s*time\s*}}/gi, window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi, filename));
          window.app.foldManager.save(createdFile, IFoldInfo);
          return createdFile;
        } catch (err) {
          console.error(`Failed to create file: '${normalizedPath}'`, err);
          new obsidian.Notice("Unable to create new file.");
        }
      });
    }
    function getMonthlyNote(date, monthlyNotes) {
      var _a;
      return (_a = monthlyNotes[getDateUID3(date, "month")]) != null ? _a : null;
    }
    function getAllMonthlyNotes2() {
      const monthlyNotes = {};
      if (!appHasMonthlyNotesPluginLoaded()) {
        return monthlyNotes;
      }
      const { vault } = window.app;
      const { folder } = getMonthlyNoteSettings();
      const monthlyNotesFolder = vault.getAbstractFileByPath(obsidian.normalizePath(folder));
      if (!monthlyNotesFolder) {
        throw new MonthlyNotesFolderMissingError("Failed to find monthly notes folder");
      }
      obsidian.Vault.recurseChildren(monthlyNotesFolder, (note) => {
        if (note instanceof obsidian.TFile) {
          const date = getDateFromFile2(note, "month");
          if (date) {
            const dateString = getDateUID3(date, "month");
            monthlyNotes[dateString] = note;
          }
        }
      });
      return monthlyNotes;
    }
    var QuarterlyNotesFolderMissingError = class extends Error {
    };
    function createQuarterlyNote2(date) {
      return __async(this, null, function* () {
        const { vault } = window.app;
        const { template, format, folder } = getQuarterlyNoteSettings();
        const [templateContents, IFoldInfo] = yield getTemplateInfo(template);
        const filename = date.format(format);
        const normalizedPath = yield getNotePath(folder, filename);
        try {
          const createdFile = yield vault.create(normalizedPath, templateContents.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi, (_, _timeOrDate, calc, timeDelta, unit, momentFormat) => {
            const now = window.moment();
            const currentDate = date.clone().set({
              hour: now.get("hour"),
              minute: now.get("minute"),
              second: now.get("second")
            });
            if (calc) {
              currentDate.add(parseInt(timeDelta, 10), unit);
            }
            if (momentFormat) {
              return currentDate.format(momentFormat.substring(1).trim());
            }
            return currentDate.format(format);
          }).replace(/{{\s*date\s*}}/gi, filename).replace(/{{\s*time\s*}}/gi, window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi, filename));
          window.app.foldManager.save(createdFile, IFoldInfo);
          return createdFile;
        } catch (err) {
          console.error(`Failed to create file: '${normalizedPath}'`, err);
          new obsidian.Notice("Unable to create new file.");
        }
      });
    }
    function getQuarterlyNote(date, quarterly) {
      var _a;
      return (_a = quarterly[getDateUID3(date, "quarter")]) != null ? _a : null;
    }
    function getAllQuarterlyNotes2() {
      const quarterly = {};
      if (!appHasQuarterlyNotesPluginLoaded()) {
        return quarterly;
      }
      const { vault } = window.app;
      const { folder } = getQuarterlyNoteSettings();
      const quarterlyFolder = vault.getAbstractFileByPath(obsidian.normalizePath(folder));
      if (!quarterlyFolder) {
        throw new QuarterlyNotesFolderMissingError("Failed to find quarterly notes folder");
      }
      obsidian.Vault.recurseChildren(quarterlyFolder, (note) => {
        if (note instanceof obsidian.TFile) {
          const date = getDateFromFile2(note, "quarter");
          if (date) {
            const dateString = getDateUID3(date, "quarter");
            quarterly[dateString] = note;
          }
        }
      });
      return quarterly;
    }
    var YearlyNotesFolderMissingError = class extends Error {
    };
    function createYearlyNote2(date) {
      return __async(this, null, function* () {
        const { vault } = window.app;
        const { template, format, folder } = getYearlyNoteSettings();
        const [templateContents, IFoldInfo] = yield getTemplateInfo(template);
        const filename = date.format(format);
        const normalizedPath = yield getNotePath(folder, filename);
        try {
          const createdFile = yield vault.create(normalizedPath, templateContents.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi, (_, _timeOrDate, calc, timeDelta, unit, momentFormat) => {
            const now = window.moment();
            const currentDate = date.clone().set({
              hour: now.get("hour"),
              minute: now.get("minute"),
              second: now.get("second")
            });
            if (calc) {
              currentDate.add(parseInt(timeDelta, 10), unit);
            }
            if (momentFormat) {
              return currentDate.format(momentFormat.substring(1).trim());
            }
            return currentDate.format(format);
          }).replace(/{{\s*date\s*}}/gi, filename).replace(/{{\s*time\s*}}/gi, window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi, filename));
          window.app.foldManager.save(createdFile, IFoldInfo);
          return createdFile;
        } catch (err) {
          console.error(`Failed to create file: '${normalizedPath}'`, err);
          new obsidian.Notice("Unable to create new file.");
        }
      });
    }
    function getYearlyNote(date, yearlyNotes) {
      var _a;
      return (_a = yearlyNotes[getDateUID3(date, "year")]) != null ? _a : null;
    }
    function getAllYearlyNotes2() {
      const yearlyNotes = {};
      if (!appHasYearlyNotesPluginLoaded()) {
        return yearlyNotes;
      }
      const { vault } = window.app;
      const { folder } = getYearlyNoteSettings();
      const yearlyNotesFolder = vault.getAbstractFileByPath(obsidian.normalizePath(folder));
      if (!yearlyNotesFolder) {
        throw new YearlyNotesFolderMissingError("Failed to find yearly notes folder");
      }
      obsidian.Vault.recurseChildren(yearlyNotesFolder, (note) => {
        if (note instanceof obsidian.TFile) {
          const date = getDateFromFile2(note, "year");
          if (date) {
            const dateString = getDateUID3(date, "year");
            yearlyNotes[dateString] = note;
          }
        }
      });
      return yearlyNotes;
    }
    function appHasDailyNotesPluginLoaded() {
      var _a, _b;
      const { app: app2 } = window;
      const dailyNotesPlugin = app2.internalPlugins.plugins["daily-notes"];
      if (dailyNotesPlugin && dailyNotesPlugin.enabled) {
        return true;
      }
      const periodicNotes = app2.plugins.getPlugin("periodic-notes");
      return periodicNotes && ((_b = (_a = periodicNotes.settings) == null ? void 0 : _a.daily) == null ? void 0 : _b.enabled);
    }
    function appHasWeeklyNotesPluginLoaded() {
      var _a, _b;
      const { app: app2 } = window;
      if (app2.plugins.getPlugin("calendar")) {
        return true;
      }
      const periodicNotes = app2.plugins.getPlugin("periodic-notes");
      return periodicNotes && ((_b = (_a = periodicNotes.settings) == null ? void 0 : _a.weekly) == null ? void 0 : _b.enabled);
    }
    function appHasMonthlyNotesPluginLoaded() {
      var _a, _b;
      const { app: app2 } = window;
      const periodicNotes = app2.plugins.getPlugin("periodic-notes");
      return periodicNotes && ((_b = (_a = periodicNotes.settings) == null ? void 0 : _a.monthly) == null ? void 0 : _b.enabled);
    }
    function appHasQuarterlyNotesPluginLoaded() {
      var _a, _b;
      const { app: app2 } = window;
      const periodicNotes = app2.plugins.getPlugin("periodic-notes");
      return periodicNotes && ((_b = (_a = periodicNotes.settings) == null ? void 0 : _a.quarterly) == null ? void 0 : _b.enabled);
    }
    function appHasYearlyNotesPluginLoaded() {
      var _a, _b;
      const { app: app2 } = window;
      const periodicNotes = app2.plugins.getPlugin("periodic-notes");
      return periodicNotes && ((_b = (_a = periodicNotes.settings) == null ? void 0 : _a.yearly) == null ? void 0 : _b.enabled);
    }
    function getPeriodicNoteSettings(granularity) {
      const getSettings = {
        day: getDailyNoteSettings,
        week: getWeeklyNoteSettings,
        month: getMonthlyNoteSettings,
        quarter: getQuarterlyNoteSettings,
        year: getYearlyNoteSettings
      }[granularity];
      return getSettings();
    }
    function createPeriodicNote2(granularity, date) {
      const createFn = {
        day: createDailyNote3,
        month: createMonthlyNote,
        week: createWeeklyNote
      };
      return createFn[granularity](date);
    }
    exports.DEFAULT_DAILY_NOTE_FORMAT = DEFAULT_DAILY_NOTE_FORMAT;
    exports.DEFAULT_MONTHLY_NOTE_FORMAT = DEFAULT_MONTHLY_NOTE_FORMAT;
    exports.DEFAULT_QUARTERLY_NOTE_FORMAT = DEFAULT_QUARTERLY_NOTE_FORMAT;
    exports.DEFAULT_WEEKLY_NOTE_FORMAT = DEFAULT_WEEKLY_NOTE_FORMAT;
    exports.DEFAULT_YEARLY_NOTE_FORMAT = DEFAULT_YEARLY_NOTE_FORMAT;
    exports.appHasDailyNotesPluginLoaded = appHasDailyNotesPluginLoaded;
    exports.appHasMonthlyNotesPluginLoaded = appHasMonthlyNotesPluginLoaded;
    exports.appHasQuarterlyNotesPluginLoaded = appHasQuarterlyNotesPluginLoaded;
    exports.appHasWeeklyNotesPluginLoaded = appHasWeeklyNotesPluginLoaded;
    exports.appHasYearlyNotesPluginLoaded = appHasYearlyNotesPluginLoaded;
    exports.createDailyNote = createDailyNote3;
    exports.createMonthlyNote = createMonthlyNote;
    exports.createPeriodicNote = createPeriodicNote2;
    exports.createQuarterlyNote = createQuarterlyNote2;
    exports.createWeeklyNote = createWeeklyNote;
    exports.createYearlyNote = createYearlyNote2;
    exports.getAllDailyNotes = getAllDailyNotes2;
    exports.getAllMonthlyNotes = getAllMonthlyNotes2;
    exports.getAllQuarterlyNotes = getAllQuarterlyNotes2;
    exports.getAllWeeklyNotes = getAllWeeklyNotes2;
    exports.getAllYearlyNotes = getAllYearlyNotes2;
    exports.getDailyNote = getDailyNote2;
    exports.getDailyNoteSettings = getDailyNoteSettings;
    exports.getDateFromFile = getDateFromFile2;
    exports.getDateFromPath = getDateFromPath;
    exports.getDateUID = getDateUID3;
    exports.getMonthlyNote = getMonthlyNote;
    exports.getMonthlyNoteSettings = getMonthlyNoteSettings;
    exports.getPeriodicNoteSettings = getPeriodicNoteSettings;
    exports.getQuarterlyNote = getQuarterlyNote;
    exports.getQuarterlyNoteSettings = getQuarterlyNoteSettings;
    exports.getTemplateInfo = getTemplateInfo;
    exports.getWeeklyNote = getWeeklyNote;
    exports.getWeeklyNoteSettings = getWeeklyNoteSettings;
    exports.getYearlyNote = getYearlyNote;
    exports.getYearlyNoteSettings = getYearlyNoteSettings;
  }
});

// src/main.ts
__export(exports, {
  DAYS_PER_UNIT: () => DAYS_PER_UNIT,
  DEFAULT_SETTINGS: () => DEFAULT_SETTINGS,
  FILEINFO_TO_DISPLAY: () => FILEINFO_TO_DISPLAY,
  FILEINFO_TO_DISPLAY_DAY: () => FILEINFO_TO_DISPLAY_DAY,
  GRANULARITY_LIST: () => GRANULARITY_LIST,
  GRANULARITY_TO_PERIODICITY: () => GRANULARITY_TO_PERIODICITY,
  default: () => DailyNoteOutlinePlugin3
});
var import_obsidian6 = __toModule(require("obsidian"));

// src/view.ts
var import_obsidian3 = __toModule(require("obsidian"));
var import_obsidian4 = __toModule(require("obsidian"));
var import_obsidian_daily_notes_interface2 = __toModule(require_main());

// src/createAndOpenDailyNote.ts
var import_obsidian_daily_notes_interface = __toModule(require_main());
function createAndOpenDailyNote(granularity, date, allFiles) {
  return __async(this, null, function* () {
    const { workspace } = window.app;
    const createFile = () => __async(this, null, function* () {
      let newNote;
      switch (granularity) {
        case "quarter":
          newNote = yield (0, import_obsidian_daily_notes_interface.createQuarterlyNote)(date);
          break;
        case "year":
          newNote = yield (0, import_obsidian_daily_notes_interface.createYearlyNote)(date);
          break;
        default:
          newNote = yield (0, import_obsidian_daily_notes_interface.createPeriodicNote)(granularity, date);
      }
      yield workspace.getLeaf().openFile(newNote);
    });
    const dailynote = allFiles[(0, import_obsidian_daily_notes_interface.getDateUID)(date, granularity)];
    if (!dailynote) {
      yield createFile();
    } else {
      yield workspace.getLeaf().openFile(dailynote);
    }
  });
}

// src/modalExtract.ts
var import_obsidian = __toModule(require("obsidian"));
var ModalExtract = class extends import_obsidian.Modal {
  constructor(app2, plugin, onSubmit) {
    super(app2);
    this.plugin = plugin;
    this.onSubmit = onSubmit;
  }
  onOpen() {
    this.inputedValue = this.plugin.settings.wordsToExtract;
    const { contentEl } = this;
    contentEl.createEl("br");
    new import_obsidian.Setting(contentEl).setName("Extract by word or phrase:").addText((text) => {
      text.setValue(this.plugin.settings.wordsToExtract).inputEl.select();
      text.onChange((value) => {
        this.inputedValue = value;
      });
    });
    new import_obsidian.Setting(contentEl).addButton((btn) => btn.setButtonText("Extract").setCta().onClick(() => __async(this, null, function* () {
      this.executeExtract();
    }))).addButton((btn) => btn.setButtonText("Cancel").onClick(() => {
      this.close();
    }));
    this.scope.register([], "Enter", (evt) => {
      this.executeExtract();
    });
  }
  onClose() {
    let { contentEl } = this;
    contentEl.empty();
  }
  executeExtract() {
    return __async(this, null, function* () {
      this.close();
      this.plugin.settings.wordsToExtract = this.inputedValue;
      yield this.plugin.saveSettings();
      this.onSubmit(true);
    });
  }
};

// src/createAndOpenPeriodicNote.ts
var import_obsidian2 = __toModule(require("obsidian"));
var DEFAULT_NOTE_FORMAT = {
  day: "YYYY-MM-DD",
  week: "gggg-[W]ww",
  month: "YYYY-MM",
  quarter: "YYYY-[Q]Q",
  year: "YYYY"
};
function createAndOpenPeriodicNote(granularity, date, calendarSet) {
  return __async(this, null, function* () {
    const { workspace } = window.app;
    let file = window.app.plugins.getPlugin("periodic-notes").cache.getPeriodicNote(calendarSet.id, granularity, date);
    if (!file) {
      const config = calendarSet[granularity];
      const format = calendarSet[granularity].format;
      const filename = date.format(format ? format : DEFAULT_NOTE_FORMAT[granularity]);
      const templateContents = yield getTemplateContents(window.app, config.templatePath);
      const renderedContents = applyTemplateTransformations(filename, granularity, date, format, templateContents);
      const destPath = yield getNoteCreationPath(window.app, filename, config);
      file = yield window.app.vault.create(destPath, renderedContents);
    }
    yield workspace.getLeaf().openFile(file);
  });
}
function getTemplateContents(app2, templatePath) {
  return __async(this, null, function* () {
    const { metadataCache, vault } = app2;
    const normalizedTemplatePath = (0, import_obsidian2.normalizePath)(templatePath != null ? templatePath : "");
    if (templatePath === "/") {
      return Promise.resolve("");
    }
    try {
      const templateFile = metadataCache.getFirstLinkpathDest(normalizedTemplatePath, "");
      return templateFile ? vault.cachedRead(templateFile) : "";
    } catch (err) {
      console.error(`Failed to read the daily note template '${normalizedTemplatePath}'`, err);
      new import_obsidian2.Notice("Failed to read the daily note template");
      return "";
    }
  });
}
function applyTemplateTransformations(filename, granularity, date, format, rawTemplateContents) {
  let templateContents = rawTemplateContents;
  templateContents = rawTemplateContents.replace(/{{\s*date\s*}}/gi, filename).replace(/{{\s*time\s*}}/gi, window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi, filename);
  if (granularity === "day") {
    templateContents = templateContents.replace(/{{\s*yesterday\s*}}/gi, date.clone().subtract(1, "day").format(format)).replace(/{{\s*tomorrow\s*}}/gi, date.clone().add(1, "d").format(format)).replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi, (_, _timeOrDate, calc, timeDelta, unit, momentFormat) => {
      const now = window.moment();
      const currentDate = date.clone().set({
        hour: now.get("hour"),
        minute: now.get("minute"),
        second: now.get("second")
      });
      if (calc) {
        currentDate.add(parseInt(timeDelta, 10), unit);
      }
      if (momentFormat) {
        return currentDate.format(momentFormat.substring(1).trim());
      }
      return currentDate.format(format);
    });
  }
  if (granularity === "week") {
    templateContents = templateContents.replace(/{{\s*(sunday|monday|tuesday|wednesday|thursday|friday|saturday)\s*:(.*?)}}/gi, (_, dayOfWeek, momentFormat) => {
      const day = getDayOfWeekNumericalValue(dayOfWeek);
      return date.weekday(day).format(momentFormat.trim());
    });
  }
  if (granularity === "month") {
    templateContents = templateContents.replace(/{{\s*(month)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi, (_, _timeOrDate, calc, timeDelta, unit, momentFormat) => {
      const now = window.moment();
      const monthStart = date.clone().startOf("month").set({
        hour: now.get("hour"),
        minute: now.get("minute"),
        second: now.get("second")
      });
      if (calc) {
        monthStart.add(parseInt(timeDelta, 10), unit);
      }
      if (momentFormat) {
        return monthStart.format(momentFormat.substring(1).trim());
      }
      return monthStart.format(format);
    });
  }
  if (granularity === "quarter") {
    templateContents = templateContents.replace(/{{\s*(quarter)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi, (_, _timeOrDate, calc, timeDelta, unit, momentFormat) => {
      const now = window.moment();
      const monthStart = date.clone().startOf("quarter").set({
        hour: now.get("hour"),
        minute: now.get("minute"),
        second: now.get("second")
      });
      if (calc) {
        monthStart.add(parseInt(timeDelta, 10), unit);
      }
      if (momentFormat) {
        return monthStart.format(momentFormat.substring(1).trim());
      }
      return monthStart.format(format);
    });
  }
  if (granularity === "year") {
    templateContents = templateContents.replace(/{{\s*(year)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi, (_, _timeOrDate, calc, timeDelta, unit, momentFormat) => {
      const now = window.moment();
      const monthStart = date.clone().startOf("year").set({
        hour: now.get("hour"),
        minute: now.get("minute"),
        second: now.get("second")
      });
      if (calc) {
        monthStart.add(parseInt(timeDelta, 10), unit);
      }
      if (momentFormat) {
        return monthStart.format(momentFormat.substring(1).trim());
      }
      return monthStart.format(format);
    });
  }
  return templateContents;
}
function getNoteCreationPath(app2, filename, periodicConfig) {
  return __async(this, null, function* () {
    var _a;
    const directory = (_a = periodicConfig.folder) != null ? _a : "";
    const filenameWithExt = !filename.endsWith(".md") ? `${filename}.md` : filename;
    const path = (0, import_obsidian2.normalizePath)(join(directory, filenameWithExt));
    yield ensureFolderExists(app2, path);
    return path;
  });
}
function join(...partSegments) {
  let parts = [];
  for (let i = 0, l = partSegments.length; i < l; i++) {
    parts = parts.concat(partSegments[i].split("/"));
  }
  const newParts = [];
  for (let i = 0, l = parts.length; i < l; i++) {
    const part = parts[i];
    if (!part || part === ".")
      continue;
    else
      newParts.push(part);
  }
  if (parts[0] === "")
    newParts.unshift("");
  return newParts.join("/");
}
function ensureFolderExists(app2, path) {
  return __async(this, null, function* () {
    const dirs = path.replace(/\\/g, "/").split("/");
    dirs.pop();
    if (dirs.length) {
      const dir = join(...dirs);
      if (!app2.vault.getAbstractFileByPath(dir)) {
        yield app2.vault.createFolder(dir);
      }
    }
  });
}
function getDaysOfWeek() {
  const { moment } = window;
  let weekStart = moment.localeData()._week.dow;
  const daysOfWeek = [
    "sunday",
    "monday",
    "tuesday",
    "wednesday",
    "thursday",
    "friday",
    "saturday"
  ];
  while (weekStart) {
    const day = daysOfWeek.shift();
    if (day)
      daysOfWeek.push(day);
    weekStart--;
  }
  return daysOfWeek;
}
function getDayOfWeekNumericalValue(dayOfWeekName) {
  return getDaysOfWeek().indexOf(dayOfWeekName.toLowerCase());
}

// src/view.ts
var DailyNoteOutlineViewType = "daily-note-outline";
var DailyNoteOutlineView = class extends import_obsidian4.ItemView {
  constructor(leaf, plugin, settings) {
    super(leaf);
    this.searchRange = {
      latest: window.moment(),
      earliest: window.moment()
    };
    this.extractMode = false;
    this.extractTask = false;
    this.activeSet = 0;
    this.activeGranularity = 0;
    this.plugin = plugin;
    this.settings = settings;
  }
  getViewType() {
    return DailyNoteOutlineViewType;
  }
  getDisplayText() {
    return "Daily Note Outline";
  }
  getIcon() {
    return "calendar-clock";
  }
  onOpen() {
    return __async(this, null, function* () {
      this.initView();
      const debouncerRequestRefresh = (0, import_obsidian3.debounce)(this.autoRefresh, 2e3, true);
      this.flagRedraw = false;
      this.flagRegetAll = false;
      this.registerEvent(this.app.metadataCache.on("changed", (file) => {
        var _a;
        if ((_a = this.targetFiles) == null ? void 0 : _a.includes(file)) {
          this.flagRedraw = true;
          debouncerRequestRefresh.call(this);
        }
      }));
      this.registerEvent(this.app.vault.on("create", (file) => {
        this.flagRegetAll = true;
        debouncerRequestRefresh.call(this);
      }));
      this.registerEvent(this.app.vault.on("delete", (file) => {
        this.flagRegetAll = true;
        debouncerRequestRefresh.call(this);
      }));
    });
  }
  onClose() {
    return __async(this, null, function* () {
    });
  }
  setState(state, result) {
    var __superGet = (key) => super[key];
    return __async(this, null, function* () {
      if (state.activeSet) {
        this.activeSet = state.activeSet;
      }
      if (state.activeGranularity) {
        this.activeGranularity = state.activeGranularity;
      }
      return __superGet("setState").call(this, state, result);
    });
  }
  getState() {
    return {
      activeSet: this.activeSet,
      activeGranularity: this.activeGranularity
    };
  }
  initView() {
    return __async(this, null, function* () {
      yield this.bootDelay();
      this.verPN = yield this.checkPeriodicNotes();
      this.resetSearchRange();
      this.refreshView(true, true, true);
    });
  }
  bootDelay() {
    return __async(this, null, function* () {
      return new Promise((resolve) => {
        setTimeout(resolve, 200);
      });
    });
  }
  autoRefresh() {
    return __async(this, null, function* () {
      if (!(this.flagRedraw || this.flagRegetAll)) {
        return;
      }
      this.refreshView(this.flagRegetAll, this.flagRegetAll, true);
      this.flagRegetAll = false;
      this.flagRedraw = false;
    });
  }
  refreshView(regetAll, getTarget, getOutline) {
    return __async(this, null, function* () {
      var _a;
      if (this.settings.showDebugInfo) {
        console.log("DNO:start refreshing view. CalendarSets:", this.calendarSets);
      }
      this.verPN = yield this.checkPeriodicNotes();
      if (this.verPN != 2) {
        if (regetAll) {
          this.allDailyNotes = this.getAllNotes();
        }
        if (getTarget) {
          this.targetFiles = this.getTargetFiles(this.allDailyNotes, GRANULARITY_LIST[this.activeGranularity]);
        }
        if (getOutline) {
          this.fileInfo = yield this.getFileInfo(this.targetFiles);
          this.outlineData = yield this.getOutline(this.targetFiles);
        }
        this.drawUI();
        this.drawOutline(this.targetFiles, this.fileInfo, this.outlineData);
      } else {
        if (!this.calendarSets[this.activeSet]) {
          this.activeSet = 0;
        }
        if (!((_a = this.calendarSets[this.activeSet][GRANULARITY_LIST[this.activeGranularity]]) == null ? void 0 : _a.enabled)) {
          if (this.settings.showDebugInfo) {
            console.log("DNO: Calender set is not enabled. this.activeGranularity is set to 0. Calendarsets, this.activeSet, this.activeGranularity:", this.calendarSets, this.activeSet, this.activeGranularity);
          }
          this.activeGranularity = 0;
        }
        if (getTarget) {
          this.targetFiles = this.getTargetPeriodicNotes(this.calendarSets[this.activeSet], GRANULARITY_LIST[this.activeGranularity]);
        }
        if (getOutline) {
          this.fileInfo = yield this.getFileInfo(this.targetFiles);
          this.outlineData = yield this.getOutline(this.targetFiles);
        }
        this.drawUI();
        this.drawOutline(this.targetFiles, this.fileInfo, this.outlineData);
      }
    });
  }
  getTargetFiles(allFiles, granularity) {
    let files = [];
    let checkDate = this.searchRange.latest.clone();
    let checkDateEarliest = this.searchRange.earliest.clone();
    if (this.settings.initialSearchType == "backward") {
      if (checkDate.isSame(window.moment(), "day")) {
        checkDate.add(Math.ceil(this.settings.offset / DAYS_PER_UNIT[granularity]), granularity);
      }
      checkDateEarliest = this.searchRange.latest.clone().subtract(this.settings.duration[granularity] - 1, granularity);
    } else {
      checkDate = this.searchRange.earliest.clone().add(this.settings.duration[granularity] - 1, granularity);
    }
    while (checkDate.isSameOrAfter(checkDateEarliest, granularity)) {
      if (allFiles[(0, import_obsidian_daily_notes_interface2.getDateUID)(checkDate, granularity)]) {
        files.push(allFiles[(0, import_obsidian_daily_notes_interface2.getDateUID)(checkDate, granularity)]);
      }
      checkDate.subtract(1, granularity);
    }
    return files;
  }
  getTargetPeriodicNotes(calendarSet, granularity) {
    var _a;
    let files = [];
    let checkDate = this.searchRange.latest.clone();
    let checkDateEarliest = this.searchRange.earliest.clone();
    if (this.settings.initialSearchType == "backward") {
      if (checkDate.isSame(window.moment(), "day")) {
        checkDate.add(Math.ceil(this.settings.offset / DAYS_PER_UNIT[granularity]), granularity);
      }
      checkDateEarliest = this.searchRange.latest.clone().subtract(this.settings.duration[granularity] - 1, granularity);
    } else {
      checkDate = this.searchRange.earliest.clone().add(this.settings.duration[granularity] - 1, granularity);
    }
    if (this.settings.showDebugInfo) {
      console.log("DNO:searching caches of Periodic Notes... calendar set:", calendarSet);
    }
    while (checkDate.isSameOrAfter(checkDateEarliest, granularity)) {
      const caches = this.app.plugins.getPlugin("periodic-notes").cache.getPeriodicNotes(calendarSet.id, granularity, checkDate);
      for (const file of caches) {
        if (this.settings.exactMatchOnly && !((_a = file == null ? void 0 : file.matchData) == null ? void 0 : _a.exact)) {
          continue;
        }
        if (this.settings.markdownOnly && !(file == null ? void 0 : file.filePath.endsWith(".md"))) {
          continue;
        }
        if (!file.filePath.startsWith(calendarSet[granularity].folder.concat("/")) && calendarSet[granularity].folder) {
          continue;
        }
        const fileobj = this.app.vault.getAbstractFileByPath(file.filePath);
        if (fileobj instanceof import_obsidian4.TFile) {
          files.push(fileobj);
        }
      }
      checkDate.subtract(1, granularity);
    }
    return files;
  }
  getFileInfo(files) {
    return __async(this, null, function* () {
      let fileInfo = [];
      for (let i = 0; i < files.length; i++) {
        const content = yield this.app.vault.cachedRead(files[i]);
        const lines = content.split("\n");
        let info = {
          date: (0, import_obsidian_daily_notes_interface2.getDateFromFile)(files[i], GRANULARITY_LIST[this.activeGranularity]),
          lines,
          numOfLines: lines.length
        };
        if (this.verPN == 2) {
          info.date = this.app.plugins.getPlugin("periodic-notes").cache.cachedFiles.get(this.calendarSets[this.activeSet].id).get(files[i].path).date;
        }
        fileInfo.push(info);
      }
      return fileInfo;
    });
  }
  getOutline(files) {
    return __async(this, null, function* () {
      let data = [];
      for (let i = 0; i < files.length; i++) {
        const cache = this.app.metadataCache.getFileCache(files[i]);
        data[i] = [];
        if (cache.hasOwnProperty("headings")) {
          for (let j = 0; j < cache.headings.length; j++) {
            const element = {
              typeOfElement: "heading",
              position: cache.headings[j].position,
              displayText: cache.headings[j].heading,
              level: cache.headings[j].level
            };
            data[i].push(element);
          }
        }
        if (cache.hasOwnProperty("links")) {
          for (let j = 0; j < cache.links.length; j++) {
            const element = {
              typeOfElement: "link",
              position: cache.links[j].position,
              displayText: cache.links[j].displayText == "" ? cache.links[j].original.substring(1, cache.links[j].original.indexOf("]")) : cache.links[j].displayText,
              link: cache.links[j].link
            };
            data[i].push(element);
          }
        }
        if (cache.hasOwnProperty("listItems")) {
          for (let j = 0; j < cache.listItems.length; j++) {
            let listLevel = 0;
            if (cache.listItems[j].parent > 0) {
              listLevel = 2;
            } else if (j > 0) {
              if (!(Math.abs(cache.listItems[j].parent) == cache.listItems[j].position.start.line) && cache.listItems[j].position.start.line - cache.listItems[j - 1].position.start.line == 1) {
                listLevel = 1;
              }
            }
            const element = {
              typeOfElement: "listItems",
              position: cache.listItems[j].position,
              displayText: this.fileInfo[i].lines[cache.listItems[j].position.start.line].replace(/^(\s|\t)*-\s(\[.\]\s)*/, ""),
              level: listLevel,
              task: cache.listItems[j].task
            };
            data[i].push(element);
          }
        }
        if (cache.hasOwnProperty("tags")) {
          for (let j = 0; j < cache.tags.length; j++) {
            const element = {
              typeOfElement: "tag",
              position: cache.tags[j].position,
              displayText: cache.tags[j].tag.substring(1)
            };
            data[i].push(element);
          }
        }
        data[i].sort((a, b) => {
          return a.position.start.offset - b.position.start.offset;
        });
      }
      return data;
    });
  }
  drawUI() {
    const navHeader = createDiv("nav-header");
    const navButtonContainer = navHeader.createDiv("nav-buttons-container");
    const granularity = GRANULARITY_LIST[this.activeGranularity];
    let navActionButton = navButtonContainer.createDiv("clickable-icon nav-action-button");
    navActionButton.ariaLabel = "previous notes";
    (0, import_obsidian3.setIcon)(navActionButton, "arrow-left", 20);
    navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
      event.preventDefault();
      this.searchRange.latest = this.searchRange.latest.subtract(this.settings.duration[granularity], granularity);
      this.searchRange.earliest = this.searchRange.earliest.subtract(this.settings.duration[granularity], granularity);
      this.refreshView(false, true, true);
    }));
    navActionButton = navButtonContainer.createDiv("clickable-icon nav-action-button");
    navActionButton.ariaLabel = "next notes";
    (0, import_obsidian3.setIcon)(navActionButton, "arrow-right", 20);
    navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
      event.preventDefault();
      this.searchRange.latest = this.searchRange.latest.add(this.settings.duration[granularity], granularity);
      this.searchRange.earliest = this.searchRange.earliest.add(this.settings.duration[granularity], granularity);
      this.refreshView(false, true, true);
    }));
    navActionButton = navButtonContainer.createDiv("clickable-icon nav-action-button");
    navActionButton.ariaLabel = "home";
    (0, import_obsidian3.setIcon)(navActionButton, "home", 20);
    navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
      event.preventDefault();
      this.resetSearchRange();
      this.refreshView(false, true, true);
    }));
    navActionButton = navButtonContainer.createDiv("clickable-icon nav-action-button");
    navActionButton.ariaLabel = "refresh";
    (0, import_obsidian3.setIcon)(navActionButton, "refresh-cw", 20);
    navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
      event.preventDefault();
      this.resetSearchRange();
      this.refreshView(true, true, true);
    }));
    navActionButton = navButtonContainer.createDiv("clickable-icon nav-action-button");
    navActionButton.ariaLabel = "open settings";
    (0, import_obsidian3.setIcon)(navActionButton, "settings", 20);
    navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
      this.app.setting.open();
      this.app.setting.openTabById(this.plugin.manifest.id);
    }));
    navActionButton.addEventListener("contextmenu", (event) => {
      const menu = new import_obsidian3.Menu();
      for (const element in this.settings.showElements) {
        const icon2 = this.settings.showElements[element] == true ? "check" : "";
        menu.addItem((item) => item.setTitle(`show ${element}`).setIcon(icon2).onClick(() => __async(this, null, function* () {
          this.settings.showElements[element] = !this.settings.showElements[element];
          yield this.plugin.saveSettings();
          this.refreshView(false, false, false);
        })));
      }
      if (this.settings.showElements.listItems) {
        const icon2 = this.settings.taskOnly ? "check" : "";
        menu.addItem((item) => item.setTitle("tasks only").setIcon(icon2).onClick(() => __async(this, null, function* () {
          this.settings.taskOnly = !this.settings.taskOnly;
          yield this.plugin.saveSettings();
          this.refreshView(false, false, false);
        })));
      }
      menu.addSeparator();
      if (granularity == "day") {
        for (let index in FILEINFO_TO_DISPLAY_DAY) {
          const icon2 = index == this.settings.displayFileInfoDaily ? "check" : "";
          menu.addItem((item) => item.setTitle(FILEINFO_TO_DISPLAY_DAY[index]).setIcon(icon2).onClick(() => __async(this, null, function* () {
            this.settings.displayFileInfoDaily = index;
            yield this.plugin.saveSettings();
            this.refreshView(false, false, false);
          })));
        }
      } else {
        for (let index in FILEINFO_TO_DISPLAY) {
          const icon2 = index == this.settings.displayFileInfoPeriodic ? "check" : "";
          menu.addItem((item) => item.setTitle(FILEINFO_TO_DISPLAY[index]).setIcon(icon2).onClick(() => __async(this, null, function* () {
            this.settings.displayFileInfoPeriodic = index;
            yield this.plugin.saveSettings();
            this.refreshView(false, false, false);
          })));
        }
      }
      menu.addSeparator();
      const icon = this.settings.tooltipPreview ? "check" : "";
      menu.addItem((item) => item.setTitle("show tooltip preview").setIcon(icon).onClick(() => __async(this, null, function* () {
        this.settings.tooltipPreview = !this.settings.tooltipPreview;
        yield this.plugin.saveSettings();
        this.refreshView(false, false, false);
      })));
      menu.showAtMouseEvent(event);
    });
    navActionButton = navButtonContainer.createDiv("clickable-icon nav-action-button");
    let labelForToday = "create/open ";
    let labelForNext = "create/open ";
    if (granularity == "day") {
      labelForToday = labelForToday + "today's ";
      labelForNext = labelForNext + "tomorrow's ";
    } else {
      labelForToday = labelForToday + "present ";
      labelForNext = labelForNext + "next ";
    }
    labelForToday = labelForToday + GRANULARITY_TO_PERIODICITY[granularity] + " note";
    labelForNext = labelForNext + GRANULARITY_TO_PERIODICITY[granularity] + " note";
    if (this.verPN == 2) {
      labelForToday = labelForToday + " for " + this.calendarSets[this.activeSet].id;
      labelForNext = labelForNext + " for " + this.calendarSets[this.activeSet].id;
    }
    navActionButton.ariaLabel = labelForToday;
    (0, import_obsidian3.setIcon)(navActionButton, "calendar-plus", 20);
    navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
      event.preventDefault;
      const date = window.moment();
      if (this.verPN == 2) {
        createAndOpenPeriodicNote(granularity, date, this.calendarSets[this.activeSet]);
      } else {
        createAndOpenDailyNote(granularity, date, this.allDailyNotes);
      }
    }));
    navActionButton.addEventListener("contextmenu", (event) => {
      const menu = new import_obsidian3.Menu();
      menu.addItem((item) => item.setTitle(labelForNext).setIcon("calendar-plus").onClick(() => __async(this, null, function* () {
        const date = window.moment().add(1, granularity);
        if (this.verPN == 2) {
          createAndOpenPeriodicNote(granularity, date, this.calendarSets[this.activeSet]);
        } else {
          createAndOpenDailyNote(granularity, date, this.allDailyNotes);
        }
      })));
      menu.showAtMouseEvent(event);
    });
    navActionButton = navButtonContainer.createDiv("clickable-icon nav-action-button");
    if (!this.extractMode) {
      navActionButton.ariaLabel = "extract";
      (0, import_obsidian3.setIcon)(navActionButton, "search", 20);
      navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
        event.preventDefault;
        const onSubmit = (enableExtract) => {
          if (enableExtract) {
            this.extractMode = true;
            this.refreshView(false, false, false);
          }
        };
        new ModalExtract(this.app, this.plugin, onSubmit).open();
      }));
    } else {
      navActionButton.ariaLabel = "unextract";
      (0, import_obsidian3.setIcon)(navActionButton, "x-circle", 20);
      navActionButton.addEventListener("click", (event) => __async(this, null, function* () {
        this.extractMode = false;
        this.extractTask = false;
        this.refreshView(false, false, false);
      }));
    }
    navActionButton.addEventListener("contextmenu", (event) => {
      const menu = new import_obsidian3.Menu();
      menu.addItem((item) => item.setTitle("extract tasks").setIcon("check-square").onClick(() => __async(this, null, function* () {
        this.extractMode = true;
        this.extractTask = true;
        this.refreshView(false, false, false);
      })));
      menu.showAtMouseEvent(event);
    });
    const navDateRange = navHeader.createDiv("nav-date-range");
    let latest = this.searchRange.latest.clone();
    let earliest = this.searchRange.earliest.clone();
    if (this.settings.initialSearchType == "backward") {
      earliest = latest.clone().subtract(this.settings.duration[granularity] - 1, granularity);
      if (latest.isSame(window.moment(), "day")) {
        latest = latest.add(Math.ceil(this.settings.offset / DAYS_PER_UNIT[granularity]), granularity);
      }
    }
    if (this.settings.initialSearchType == "forward") {
      latest = earliest.clone().add(this.settings.duration[granularity] - 1, granularity);
    }
    const dateRange = earliest.format("YYYY/MM/DD [-] ") + latest.format(earliest.isSame(latest, "year") ? "MM/DD" : "YYYY/MM/DD");
    navDateRange.createDiv("nav-date-range-content").setText(dateRange);
    navDateRange.addEventListener("click", (event) => __async(this, null, function* () {
      event.preventDefault();
      const onsetDate = window.moment(this.settings.onset, "YYYY-MM-DD");
      if (onsetDate.isValid()) {
        this.searchRange.earliest = onsetDate;
        this.searchRange.latest = onsetDate.clone().add(this.settings.duration.day - 1, "days");
      } else {
        this.searchRange.latest = window.moment().startOf("day");
        this.searchRange.earliest = window.moment().startOf("day").subtract(this.settings.duration.day - 1, "days");
      }
      this.refreshView(false, true, true);
    }));
    if (this.settings.periodicNotesEnabled) {
      const navGranularity = navHeader.createDiv("nav-date-range");
      navGranularity.createDiv("nav-date-range-content").setText(GRANULARITY_LIST[this.activeGranularity]);
      navGranularity.addEventListener("click", (evet) => {
        var _a, _b, _c;
        if (this.settings.showDebugInfo) {
          console.log("DNO:clicked to change granularity. verPN, calendarSets:", this.activeGranularity, this.verPN, this.calendarSets);
        }
        const initialGranularity = this.activeGranularity;
        do {
          this.activeGranularity = (this.activeGranularity + 1) % GRANULARITY_LIST.length;
        } while ((this.verPN == 2 && !((_a = this.calendarSets[this.activeSet][GRANULARITY_LIST[this.activeGranularity]]) == null ? void 0 : _a.enabled) || this.verPN == 1 && !((_c = (_b = this.app.plugins.getPlugin("periodic-notes").settings) == null ? void 0 : _b[GRANULARITY_TO_PERIODICITY[GRANULARITY_LIST[this.activeGranularity]]]) == null ? void 0 : _c.enabled)) && this.activeGranularity != initialGranularity);
        this.app.workspace.requestSaveLayout();
        this.refreshView(true, true, true);
      });
      navGranularity.addEventListener("contextmenu", (event) => {
        var _a, _b, _c;
        const menu = new import_obsidian3.Menu();
        for (let i = 0; i < GRANULARITY_LIST.length; i++) {
          if (this.verPN == 2 && ((_a = this.calendarSets[this.activeSet][GRANULARITY_LIST[i]]) == null ? void 0 : _a.enabled) || this.verPN == 1 && ((_c = (_b = this.app.plugins.getPlugin("periodic-notes").settings) == null ? void 0 : _b[GRANULARITY_TO_PERIODICITY[GRANULARITY_LIST[i]]]) == null ? void 0 : _c.enabled)) {
            const icon = i == this.activeGranularity ? "check" : "";
            menu.addItem((item) => item.setTitle(GRANULARITY_LIST[i]).setIcon(icon).onClick(() => {
              this.activeGranularity = i;
              this.app.workspace.requestSaveLayout();
              this.refreshView(true, true, true);
            }));
          }
        }
        menu.showAtMouseEvent(event);
      });
    }
    if (this.settings.calendarSetsEnabled) {
      const navCalendarSet = navHeader.createDiv("nav-date-range");
      navCalendarSet.createDiv("nav-date-range-content").setText(this.calendarSets[this.activeSet].id);
      navCalendarSet.addEventListener("click", (evet) => {
        this.activeSet = (this.activeSet + 1) % this.calendarSets.length;
        this.app.workspace.requestSaveLayout();
        this.refreshView(false, true, true);
      });
      navCalendarSet.addEventListener("contextmenu", (event) => {
        const menu = new import_obsidian3.Menu();
        for (let i = 0; i < this.calendarSets.length; i++) {
          const icon = i == this.activeSet ? "check" : "";
          menu.addItem((item) => item.setTitle(this.calendarSets[i].id).setIcon(icon).onClick(() => {
            this.activeSet = i;
            this.app.workspace.requestSaveLayout();
            this.refreshView(false, true, true);
          }));
        }
        menu.showAtMouseEvent(event);
      });
    }
    this.contentEl.empty();
    this.contentEl.appendChild(navHeader);
  }
  drawOutline(files, info, data) {
    var _a;
    const containerEl = createDiv("nav-files-container node-insert-event");
    const rootEl = containerEl.createDiv("tree-item nav-folder mod-root");
    const rootChildrenEl = rootEl.createDiv("tree-item-children nav-folder-children");
    if (files.length == 0) {
      rootChildrenEl.createEl("h4", {
        text: "No daily/periodic note found"
      });
    }
    let includeMode = this.settings.includeOnly != "none" && (Boolean(this.settings.wordsToInclude.length) || this.settings.includeBeginning);
    let maxLevel = this.settings.headingLevel.indexOf(true);
    for (let i = 0; i < files.length; i++) {
      let latestHeadingLevel = 0;
      const dailyNoteEl = rootChildrenEl.createDiv("tree-item nav-folder");
      const dailyNoteTitleEl = dailyNoteEl.createDiv("tree-item-self is-clickable mod-collapsible nav-folder-title");
      const dailyNoteChildrenEl = dailyNoteEl.createDiv("tree-item-children nav-folder-children");
      const noteCollapseIcon = dailyNoteTitleEl.createDiv("tree-item-icon nav-folder-collapse-indicator");
      switch (this.settings.icon.note) {
        case "none":
          break;
        case "custom":
          (0, import_obsidian3.setIcon)(noteCollapseIcon, this.settings.customIcon.note);
          break;
        default:
          if (this.settings.icon.note) {
            (0, import_obsidian3.setIcon)(noteCollapseIcon, this.settings.icon.note);
          }
          break;
      }
      let name = files[i].basename;
      if (this.settings.attachWeeklyNotesName && GRANULARITY_LIST[this.activeGranularity] == "week") {
        name = name + " (" + this.fileInfo[i].date.clone().startOf("week").format("MM/DD [-] ") + this.fileInfo[i].date.clone().endOf("week").format("MM/DD") + ")";
      }
      dailyNoteTitleEl.createDiv("tree-item-inner nav-folder-title-content").setText(name);
      const infoToDisplay = this.activeGranularity == 0 ? this.settings.displayFileInfoDaily : this.settings.displayFileInfoPeriodic;
      switch (infoToDisplay) {
        case "lines":
          dailyNoteTitleEl.dataset.subinfo = info[i].numOfLines.toString();
          break;
        case "days":
          let basedate = this.settings.initialSearchType == "backward" ? window.moment() : window.moment(this.settings.onset);
          dailyNoteTitleEl.dataset.subinfo = Math.abs(info[i].date.diff(basedate.startOf(GRANULARITY_LIST[this.activeGranularity]), GRANULARITY_LIST[this.activeGranularity])).toString();
          break;
        case "dow":
          dailyNoteTitleEl.dataset.subinfo = info[i].date.format("dddd");
          break;
        case "dowshort":
          dailyNoteTitleEl.dataset.subinfo = info[i].date.format("ddd");
          break;
        case "weeknumber":
          dailyNoteTitleEl.dataset.subinfo = info[i].date.format("[w]ww");
          break;
        case "tag":
          let firsttagIndex = data[i].findIndex((element, index) => data[i][index].typeOfElement == "tag");
          if (firsttagIndex >= 0) {
            dailyNoteTitleEl.dataset.subinfo = data[i][firsttagIndex].displayText;
          }
          break;
        case "none":
          break;
        default:
          break;
      }
      dailyNoteTitleEl.addEventListener("click", (event) => {
        event.preventDefault();
        this.app.workspace.getLeaf().openFile(files[i]);
      }, false);
      dailyNoteTitleEl.addEventListener("contextmenu", (event) => {
        const menu = new import_obsidian3.Menu();
        menu.addItem((item) => item.setTitle("Open in new tab").setIcon("file-plus").onClick(() => {
          event.preventDefault();
          this.app.workspace.getLeaf("tab").openFile(files[i]);
        }));
        menu.addItem((item) => item.setTitle("Open to the right").setIcon("separator-vertical").onClick(() => {
          event.preventDefault();
          this.app.workspace.getLeaf("split").openFile(files[i]);
        }));
        this.app.workspace.trigger("file-menu", menu, files[i], "link-context-menu");
        menu.showAtMouseEvent(event);
      });
      let isIncluded = this.settings.includeBeginning;
      let includeModeHeadingLevel;
      let isExcluded = false;
      let excludeType;
      let excludeModeHeadingLevel;
      let primeType = this.settings.includeOnly == "none" ? this.settings.primeElement : this.settings.includeOnly;
      let isExtracted = false;
      if (data[i].length > 0) {
        elementloop:
          for (let j = 0; j < data[i].length; j++) {
            const element = data[i][j].typeOfElement;
            if (includeMode && this.settings.includeOnly == element) {
              if (isIncluded == true && element == "heading" && data[i][j].level > includeModeHeadingLevel) {
              } else {
                isIncluded = false;
                for (const value of this.settings.wordsToInclude) {
                  if (value && data[i][j].displayText.includes(value)) {
                    isIncluded = true;
                    if (element == "heading") {
                      includeModeHeadingLevel = data[i][j].level;
                    }
                  }
                }
              }
            }
            if (!isIncluded) {
              continue;
            }
            if (!isExcluded || isExcluded && (excludeType == element || primeType == element)) {
              if (element == "heading" && data[i][j].level > excludeModeHeadingLevel) {
              } else {
                isExcluded = false;
                for (const value of this.settings.wordsToExclude[element]) {
                  if (value && data[i][j].displayText.includes(value)) {
                    isExcluded = true;
                    excludeType = element;
                    if (element == "heading") {
                      excludeModeHeadingLevel = data[i][j].level;
                    }
                  }
                }
              }
            }
            if (isExcluded) {
              continue;
            }
            if (this.settings.showElements[element] == false) {
              continue;
            }
            for (const value of this.settings.wordsToIgnore[element]) {
              if (value && data[i][j].displayText.includes(value)) {
                continue elementloop;
              }
            }
            if (this.extractMode == true) {
              if (this.extractTask == false && !data[i][j].displayText.includes(this.settings.wordsToExtract)) {
                continue;
              } else if (this.extractTask == true && data[i][j].task === void 0) {
                continue;
              } else {
                isExtracted = true;
              }
            }
            if (element == "heading") {
              latestHeadingLevel = data[i][j].level;
              if (!this.settings.headingLevel[data[i][j].level - 1]) {
                continue;
              }
            }
            if (element == "link") {
            }
            if (element == "tag") {
            }
            if (element == "listItems") {
              if (this.settings.hideCompletedTasks == true && data[i][j].task == "x") {
                continue;
              } else if (this.settings.taskOnly == true && data[i][j].task === void 0) {
                continue;
              } else if (this.settings.allTasks == false || data[i][j].task === void 0) {
                if (data[i][j].level == 2 || data[i][j].level == 1 && this.settings.allRootItems == false) {
                  continue;
                }
              }
            }
            const outlineEl = dailyNoteChildrenEl.createDiv("tree-item nav-file");
            const outlineTitle = outlineEl.createDiv("tree-item-self is-clickable nav-file-title");
            switch (this.settings.icon[element]) {
              case "none":
                break;
              case "headingwithnumber":
                (0, import_obsidian3.setIcon)(outlineTitle, `heading-${data[i][j].level}`);
                break;
              case "custom":
                (0, import_obsidian3.setIcon)(outlineTitle, this.settings.customIcon[element]);
                break;
              default:
                (0, import_obsidian3.setIcon)(outlineTitle, this.settings.icon[element]);
                break;
            }
            if (element == "listItems" && data[i][j].task !== void 0) {
              if (data[i][j].task == "x") {
                (0, import_obsidian3.setIcon)(outlineTitle, this.settings.icon.taskDone == "custom" ? this.settings.customIcon.taskDone : this.settings.icon.taskDone);
              } else {
                (0, import_obsidian3.setIcon)(outlineTitle, this.settings.icon.task == "custom" ? this.settings.customIcon.task : this.settings.icon.task);
              }
            }
            let prefix = this.settings.prefix[element];
            if (element == "heading") {
              switch (this.settings.repeatHeadingPrefix) {
                case "level":
                  prefix = prefix.repeat(data[i][j].level);
                  break;
                case "levelminus1":
                  prefix = prefix.repeat(data[i][j].level - 1);
                  break;
              }
            }
            let indent = 0.5;
            if (element == "heading" && this.settings.indent.heading == true) {
              indent = indent + (data[i][j].level - (maxLevel + 1)) * 1.5;
            }
            if (element != "heading" && this.settings.indentFollowHeading) {
              const additionalIndent = (latestHeadingLevel - (maxLevel + 1) + (this.settings.indentFollowHeading == 2 ? 1 : 0)) * 1.5;
              indent = indent + (additionalIndent > 0 ? additionalIndent : 0);
            }
            if (element == "link" && data[i][j].position.start.line == ((_a = data[i][j - 1]) == null ? void 0 : _a.position.start.line)) {
              indent = indent + 1.5;
            }
            outlineTitle.style.paddingLeft = `${indent}em`;
            if (element == "listItems" && data[i][j].task !== void 0) {
              prefix = data[i][j].task == "x" ? this.settings.prefix.taskDone : this.settings.prefix.task;
              if (this.settings.addCheckboxText) {
                prefix = prefix + "[" + data[i][j].task + "] ";
              }
            }
            let dispText = this.stripMarkdownSympol(data[i][j].displayText);
            outlineTitle.createDiv("tree-item-inner nav-file-title-content").setText(prefix + dispText);
            if (this.settings.inlinePreview) {
              let previewText = "";
              if ((element == "link" || element == "tag") && data[i][j].position.end.col < info[i].lines[data[i][j].position.start.line].length) {
                previewText = info[i].lines[data[i][j].position.start.line].slice(data[i][j].position.end.col);
              } else {
                previewText = data[i][j].position.start.line < info[i].numOfLines - 1 ? info[i].lines[data[i][j].position.start.line + 1] : "";
              }
              outlineTitle.createDiv("nav-file-title-preview").setText(previewText);
            }
            if (this.settings.tooltipPreview) {
              let previewText2 = "";
              let endLine = info[i].numOfLines - 1;
              let k = j + 1;
              endpreviewloop:
                while (k < data[i].length) {
                  if (this.settings.showElements[data[i][k].typeOfElement]) {
                    if (data[i][k].typeOfElement == "listItems" && (data[i][k].level >= 2 || this.settings.allRootItems == false && data[i][k].level == 1 && (this.settings.allTasks == false || data[i][k].task === void 0) || this.settings.taskOnly && data[i][k].task === void 0 || this.settings.hideCompletedTasks && data[i][k].task == "x")) {
                      k++;
                      continue;
                    } else if (data[i][k].typeOfElement == "heading" && this.settings.headingLevel[data[i][k].level - 1] == false) {
                      k++;
                      continue;
                    } else {
                      for (const value of this.settings.wordsToIgnore[data[i][k].typeOfElement]) {
                        if (value && data[i][k].displayText.includes(value)) {
                          k++;
                          continue endpreviewloop;
                        }
                      }
                      endLine = data[i][k].position.start.line - 1;
                      break;
                    }
                  }
                  k++;
                }
              for (let l = data[i][j].position.start.line; l <= endLine; l++) {
                previewText2 = previewText2 + info[i].lines[l] + "\n";
              }
              previewText2 = previewText2.replace(/\n$|\n(?=\n)/g, "");
              outlineTitle.ariaLabel = previewText2;
              outlineTitle.setAttribute("aria-label-position", this.settings.tooltipPreviewDirection);
              outlineTitle.setAttribute("aria-label-classes", "daily-note-preview");
            }
            outlineTitle.addEventListener("click", (event) => __async(this, null, function* () {
              event.preventDefault();
              yield this.app.workspace.getLeaf().openFile(files[i]);
              const view = this.app.workspace.getActiveViewOfType(import_obsidian3.MarkdownView);
              if (view) {
                view.editor.focus();
                view.editor.setCursor(data[i][j].position.start.line, data[i][j].position.start.col);
                view.editor.scrollIntoView({
                  from: {
                    line: data[i][j].position.start.line,
                    ch: 0
                  },
                  to: {
                    line: data[i][j].position.start.line,
                    ch: 0
                  }
                }, true);
              }
            }), false);
            outlineTitle.addEventListener("mouseover", (event) => {
              this.app.workspace.trigger("hover-link", {
                event,
                source: DailyNoteOutlineViewType,
                hoverParent: rootEl,
                targetEl: outlineTitle,
                linktext: files[i].path,
                state: { scroll: data[i][j].position.start.line }
              });
            });
            outlineTitle.addEventListener("contextmenu", (event) => {
              const menu = new import_obsidian3.Menu();
              menu.addItem((item) => item.setTitle("Extract").setIcon("search").onClick(() => __async(this, null, function* () {
                this.plugin.settings.wordsToExtract = data[i][j].displayText;
                yield this.plugin.saveSettings();
                this.extractMode = true;
                this.extractTask = false;
                this.refreshView(false, false, false);
              })));
              menu.addSeparator();
              if (element == "link") {
                menu.addItem((item) => item.setTitle("Open linked file").setIcon("links-going-out").onClick(() => __async(this, null, function* () {
                  const linkedFile = app.metadataCache.getFirstLinkpathDest(data[i][j].link, files[i].path);
                  this.app.workspace.getLeaf().openFile(linkedFile);
                })));
                menu.addSeparator();
              }
              menu.addItem((item) => item.setTitle("Open in new tab").setIcon("file-plus").onClick(() => __async(this, null, function* () {
                yield this.app.workspace.getLeaf("tab").openFile(files[i]);
                this.scrollToElement(data[i][j].position.start.line, data[i][j].position.start.col);
              })));
              menu.addItem((item) => item.setTitle("Open to the right").setIcon("separator-vertical").onClick(() => __async(this, null, function* () {
                yield this.app.workspace.getLeaf("split").openFile(files[i]);
                this.scrollToElement(data[i][j].position.start.line, data[i][j].position.start.col);
              })));
              menu.addItem((item) => item.setTitle("Open in new window").setIcon("scan").onClick(() => __async(this, null, function* () {
                yield this.app.workspace.getLeaf("window").openFile(files[i]);
                this.scrollToElement(data[i][j].position.start.line, data[i][j].position.start.col);
              })));
              menu.showAtMouseEvent(event);
            });
          }
      } else {
        if (this.extractMode == false) {
          for (let j = 0; j < info[i].lines.length; j++) {
            if (info[i].lines[j] == "") {
              continue;
            } else {
              const outlineEl = dailyNoteChildrenEl.createDiv("tree-item nav-file");
              const outlineTitle = outlineEl.createDiv("tree-item-self is-clickable nav-file-title");
              outlineTitle.createDiv("tree-item-inner nav-file-title-content").setText(info[i].lines[j]);
              outlineTitle.addEventListener("click", (event) => __async(this, null, function* () {
                event.preventDefault();
                yield this.app.workspace.getLeaf().openFile(files[i]);
              }), false);
              break;
            }
          }
        }
      }
      if (this.extractMode == true && isExtracted == false) {
        dailyNoteEl.remove();
      }
    }
    this.contentEl.appendChild(containerEl);
  }
  scrollToElement(line, col) {
    const view = this.app.workspace.getActiveViewOfType(import_obsidian3.MarkdownView);
    if (view) {
      view.editor.focus();
      view.editor.setCursor(line, col);
      view.editor.scrollIntoView({
        from: {
          line,
          ch: 0
        },
        to: {
          line,
          ch: 0
        }
      }, true);
    }
  }
  stripMarkdownSympol(text) {
    return text.replace(/(\[\[)|(\]\])/g, "");
  }
  resetSearchRange() {
    if (this.settings.initialSearchType == "forward") {
      const onsetDate = window.moment(this.settings.onset, "YYYY-MM-DD");
      if (onsetDate.isValid()) {
        this.searchRange.earliest = onsetDate;
        this.searchRange.latest = onsetDate.clone().add(this.settings.duration.day - 1, "days");
      } else {
        new import_obsidian3.Notice("onset date is invalid");
        this.searchRange.latest = window.moment().startOf("day");
        this.searchRange.earliest = window.moment().startOf("day").subtract(this.settings.duration.day - 1, "days");
      }
    }
    if (this.settings.initialSearchType == "backward") {
      this.searchRange.latest = window.moment().startOf("day");
      this.searchRange.earliest = window.moment().startOf("day").subtract(this.settings.duration.day - 1, "days");
    }
  }
  checkPeriodicNotes() {
    return __async(this, null, function* () {
      var _a, _b, _c, _d, _e, _f;
      if (this.settings.showDebugInfo) {
        console.log("DNO:checking the version of Periodic Notes plugin");
      }
      if (app.plugins.plugins["periodic-notes"]) {
        if (Number(app.plugins.plugins["periodic-notes"].manifest.version.split(".")[0]) >= 1) {
          this.calendarSets = (_a = this.app.plugins.getPlugin("periodic-notes")) == null ? void 0 : _a.calendarSetManager.getCalendarSets();
          if (this.settings.showDebugInfo) {
            console.log("return of this.app.PN.calendarSetManager.getCalendarSets(): ", (_b = this.app.plugins.getPlugin("periodic-notes")) == null ? void 0 : _b.calendarSetManager.getCalendarSets());
            console.log("return of window.app.PN.calendarSetManager.getCalendarSets(): ", (_c = window.app.plugins.getPlugin("periodic-notes")) == null ? void 0 : _c.calendarSetManager.getCalendarSets());
          }
          if (!this.calendarSets.length) {
            new import_obsidian3.Notice("failed to import calendar sets to Daily Note Outline");
          }
          const initialGranularity = this.activeGranularity;
          while (!((_d = this.calendarSets[this.activeSet][GRANULARITY_LIST[this.activeGranularity]]) == null ? void 0 : _d.enabled)) {
            this.activeGranularity = (this.activeGranularity + 1) % GRANULARITY_LIST.length;
            if (this.activeGranularity == initialGranularity) {
              break;
            }
          }
          this.app.workspace.requestSaveLayout();
          if (this.settings.showDebugInfo) {
            console.log("obtained verPN: ", this.verPN, " calendarSets: ", this.calendarSets);
          }
          return 2;
        } else {
          this.settings.calendarSetsEnabled = false;
          this.activeSet = 0;
          yield this.plugin.saveSettings();
          const initialGranularity = this.activeGranularity;
          while (!((_f = (_e = this.app.plugins.getPlugin("periodic-notes").settings) == null ? void 0 : _e[GRANULARITY_TO_PERIODICITY[GRANULARITY_LIST[this.activeGranularity]]]) == null ? void 0 : _f.enabled)) {
            this.activeGranularity = (this.activeGranularity + 1) % GRANULARITY_LIST.length;
            if (this.activeGranularity == initialGranularity) {
              break;
            }
          }
          this.app.workspace.requestSaveLayout();
          return 1;
        }
      } else {
        this.settings.periodicNotesEnabled = false;
        this.settings.calendarSetsEnabled = false;
        this.activeGranularity = 0;
        this.activeSet = 0;
        yield this.plugin.saveSettings();
        return 0;
      }
    });
  }
  getAllNotes() {
    switch (this.activeGranularity) {
      case 0:
        return (0, import_obsidian_daily_notes_interface2.getAllDailyNotes)();
      case 1:
        return (0, import_obsidian_daily_notes_interface2.getAllWeeklyNotes)();
      case 2:
        return (0, import_obsidian_daily_notes_interface2.getAllMonthlyNotes)();
      case 3:
        return (0, import_obsidian_daily_notes_interface2.getAllQuarterlyNotes)();
      case 4:
        return (0, import_obsidian_daily_notes_interface2.getAllYearlyNotes)();
    }
  }
};

// src/setting.ts
var import_obsidian5 = __toModule(require("obsidian"));
var DailyNoteOutlineSettingTab = class extends import_obsidian5.PluginSettingTab {
  constructor(app2, plugin) {
    super(app2, plugin);
    this.plugin = plugin;
  }
  display() {
    var _a, _b;
    let { containerEl } = this;
    containerEl.empty();
    if (!((_a = app.internalPlugins.plugins["daily-notes"]) == null ? void 0 : _a.enabled) && !app.plugins.plugins["periodic-notes"]) {
      this.containerEl.createDiv("settings-banner", (banner) => {
        banner.createEl("h3", {
          text: "Neither Daily Note plugin nor Periodic Notes community plugin is enabled"
        });
      });
    }
    this.containerEl.createEl("h4", {
      text: "Basics",
      cls: "setting-category"
    });
    new import_obsidian5.Setting(containerEl).setName("Initial search type").setDesc("search backward from today / forward from a specific date").addDropdown((dropdown) => {
      dropdown.addOption("backward", "backward").addOption("forward", "forward").setValue(this.plugin.settings.initialSearchType).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.initialSearchType = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.resetSearchRange();
        this.plugin.view.refreshView(false, true, true);
      }));
    });
    new import_obsidian5.Setting(containerEl).setName("Search duration").setDesc("number of days to search per page (default = 28)").addText((text) => {
      text.inputEl.setAttr("type", "number");
      text.setPlaceholder(String(DEFAULT_SETTINGS.duration.day)).setValue(String(this.plugin.settings.duration.day));
      text.inputEl.onblur = (e) => __async(this, null, function* () {
        let parsed = parseInt(e.target.value, 10);
        if (parsed <= 0 || parsed >= 366) {
          parsed = DEFAULT_SETTINGS.duration.day;
        }
        this.plugin.settings.duration.day = parsed;
        yield this.plugin.saveSettings();
        this.plugin.view.resetSearchRange();
        this.plugin.view.refreshView(false, true, true);
      });
    });
    new import_obsidian5.Setting(containerEl).setName("Include future daily notes").setClass("setting-indent").setDesc("in backward search, include n days of future daily notes (default = 5)").addText((text) => {
      text.inputEl.setAttr("type", "number");
      text.setPlaceholder(String(DEFAULT_SETTINGS.offset)).setValue(String(this.plugin.settings.offset));
      text.inputEl.onblur = (e) => __async(this, null, function* () {
        let inputedValue = Number(e.target.value);
        if (inputedValue < 0) {
          inputedValue = 0;
        } else if (inputedValue >= 366) {
          inputedValue = 366;
        }
        this.plugin.settings.offset = inputedValue;
        yield this.plugin.saveSettings();
        this.plugin.view.resetSearchRange();
        this.plugin.view.refreshView(false, true, true);
      });
    });
    new import_obsidian5.Setting(containerEl).setName("Onset date").setClass("setting-indent").setDesc("onset date in forward search (YYYY-MM-DD)").addText((text) => {
      text.setPlaceholder(DEFAULT_SETTINGS.onset).setValue(this.plugin.settings.onset).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.onset = value;
        yield this.plugin.saveSettings();
        this.plugin.view.resetSearchRange();
        this.plugin.view.refreshView(false, true, true);
      }));
    });
    new import_obsidian5.Setting(containerEl).setName("Show headings").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.showElements.heading).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.showElements.heading = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    new import_obsidian5.Setting(containerEl).setName("Show links").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.showElements.link).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.showElements.link = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    new import_obsidian5.Setting(containerEl).setName("Show tags").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.showElements.tag).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.showElements.tag = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    new import_obsidian5.Setting(containerEl).setName("Show list items & tasks").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.showElements.listItems).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.showElements.listItems = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    if (this.plugin.settings.showElements.listItems) {
      new import_obsidian5.Setting(containerEl).setName("Show all root list items").setDesc("if disabled, only top item of the list is displayed").setClass("setting-indent").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.allRootItems).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.allRootItems = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      new import_obsidian5.Setting(containerEl).setName("Show all tasks").setDesc("show all task items regardless of their level").setClass("setting-indent").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.allTasks).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.allTasks = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      new import_obsidian5.Setting(containerEl).setName("Task only").setDesc("if enabled, normal list items are hidden").setClass("setting-indent").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.taskOnly).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.taskOnly = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      new import_obsidian5.Setting(containerEl).setName("Hide completed tasks").setClass("setting-indent").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.hideCompletedTasks).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.hideCompletedTasks = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
    }
    new import_obsidian5.Setting(containerEl).setName("Display file information for daily notes").setDesc("choose type of file information to display with the file name for daily notes").addDropdown((dropdown) => {
      dropdown.addOption("none", "none").addOption("lines", "lines of the note").addOption("days", "days from base date").addOption("dow", "day of the week").addOption("dowshort", "day of the week(short)").addOption("weeknumber", "week number").addOption("tag", "first tag").setValue(this.plugin.settings.displayFileInfoDaily).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.displayFileInfoDaily = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    if (this.plugin.settings.periodicNotesEnabled) {
      new import_obsidian5.Setting(containerEl).setName("Display file information for periodic notes").setDesc("choose type of file information to display for periodic notes other than daily notes").addDropdown((dropdown) => {
        dropdown.addOption("none", "none").addOption("lines", "lines of the note").addOption("days", "distance from base date").addOption("tag", "first tag").setValue(this.plugin.settings.displayFileInfoPeriodic).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.displayFileInfoPeriodic = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
    }
    new import_obsidian5.Setting(containerEl).setName("Position of the plugin view").setDesc("Specify default position where this plugin's view appears").addDropdown((dropdown) => {
      dropdown.addOption("right", "right side pane").addOption("left", "left side pane").addOption("tab", "new tab in main pane").addOption("split", "splitted pane").addOption("popout", "popout window").setValue(this.plugin.settings.viewPosition).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.viewPosition = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    this.containerEl.createEl("h4", {
      text: "Periodic Notes",
      cls: "setting-category"
    });
    if (!app.plugins.plugins["periodic-notes"]) {
      this.containerEl.createEl("p", {
        text: "Periodic Notes community plugin is not enabled",
        cls: "setting-item-description"
      });
    } else {
      const verCheck = Number((_b = app.plugins.plugins["periodic-notes"]) == null ? void 0 : _b.manifest.version.split(".")[0]);
      if (verCheck >= 1) {
        new import_obsidian5.Setting(containerEl).setName("calendar sets").setDesc("enable calendar sets feature. You have to activate and configure the beta version of the Periodic Notes Plugin first.").addToggle((toggle) => {
          toggle.setValue(this.plugin.settings.calendarSetsEnabled).onChange((value) => __async(this, null, function* () {
            this.plugin.settings.calendarSetsEnabled = value;
            this.display();
            yield this.plugin.saveSettings();
            this.plugin.view.resetSearchRange();
            this.plugin.view.refreshView(true, true, true);
          }));
        });
      }
      new import_obsidian5.Setting(containerEl).setName("periodic notes").setDesc("enable weekly/monthly/quarterly/yearly notes. You have to activate and configure the Periodic Notes Plugin first.").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.periodicNotesEnabled).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.periodicNotesEnabled = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.resetSearchRange();
          this.plugin.view.refreshView(true, true, true);
        }));
      });
      if (this.plugin.settings.periodicNotesEnabled) {
        this.containerEl.createEl("p", {
          text: "Search duration for periodic notes",
          cls: "setting-category"
        });
        new import_obsidian5.Setting(containerEl).setName("weekly notes").setClass("setting-indent").setDesc("number of weeks to search per page (default = 12)").addText((text) => {
          text.inputEl.setAttr("type", "number");
          text.setPlaceholder(String(DEFAULT_SETTINGS.duration.week)).setValue(String(this.plugin.settings.duration.week));
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            let parsed = parseInt(e.target.value, 10);
            if (parsed <= 0 || parsed >= 366) {
              parsed = DEFAULT_SETTINGS.duration.week;
            }
            this.plugin.settings.duration.week = parsed;
            yield this.plugin.saveSettings();
            this.plugin.view.resetSearchRange();
            this.plugin.view.refreshView(false, true, true);
          });
        });
        new import_obsidian5.Setting(containerEl).setName("monthly notes").setClass("setting-indent").setDesc("number of months to search per page (default = 12)").addText((text) => {
          text.inputEl.setAttr("type", "number");
          text.setPlaceholder(String(DEFAULT_SETTINGS.duration.month)).setValue(String(this.plugin.settings.duration.month));
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            let parsed = parseInt(e.target.value, 10);
            if (parsed <= 0 || parsed >= 366) {
              parsed = DEFAULT_SETTINGS.duration.month;
            }
            this.plugin.settings.duration.month = parsed;
            yield this.plugin.saveSettings();
            this.plugin.view.resetSearchRange();
            this.plugin.view.refreshView(false, true, true);
          });
        });
        new import_obsidian5.Setting(containerEl).setName("quarterly notes").setClass("setting-indent").setDesc("number of quarters to search per page (default = 8)").addText((text) => {
          text.inputEl.setAttr("type", "number");
          text.setPlaceholder(String(DEFAULT_SETTINGS.duration.quarter)).setValue(String(this.plugin.settings.duration.quarter));
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            let parsed = parseInt(e.target.value, 10);
            if (parsed <= 0 || parsed >= 366) {
              parsed = DEFAULT_SETTINGS.duration.quarter;
            }
            this.plugin.settings.duration.quarter = parsed;
            yield this.plugin.saveSettings();
            this.plugin.view.resetSearchRange();
            this.plugin.view.refreshView(false, true, true);
          });
        });
        new import_obsidian5.Setting(containerEl).setName("yearly notes").setClass("setting-indent").setDesc("number of years to search per page (default = 12)").addText((text) => {
          text.inputEl.setAttr("type", "number");
          text.setPlaceholder(String(DEFAULT_SETTINGS.duration.year)).setValue(String(this.plugin.settings.duration.year));
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            let parsed = parseInt(e.target.value, 10);
            if (parsed <= 0 || parsed >= 366) {
              parsed = DEFAULT_SETTINGS.duration.year;
            }
            this.plugin.settings.duration.year = parsed;
            yield this.plugin.saveSettings();
            this.plugin.view.resetSearchRange();
            this.plugin.view.refreshView(false, true, true);
          });
        });
      }
      new import_obsidian5.Setting(containerEl).setName("attach date range to weekly notes").setDesc("display date range next to weekly notes' name").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.attachWeeklyNotesName).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.attachWeeklyNotesName = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
    }
    this.containerEl.createEl("h4", {
      text: "Headings",
      cls: "setting-category"
    });
    if (this.plugin.settings.showElements.heading) {
      this.containerEl.createEl("p", {
        text: "Heading level to display",
        cls: "setting-item-description"
      });
      this.plugin.settings.headingLevel.forEach((value, index, arry) => {
        new import_obsidian5.Setting(containerEl).setName(`Level${index + 1}`).setClass("setting-indent").addToggle((toggle) => {
          toggle.setValue(this.plugin.settings.headingLevel[index]).onChange((value2) => __async(this, null, function* () {
            this.plugin.settings.headingLevel[index] = value2;
            this.display();
            yield this.plugin.saveSettings();
            this.plugin.view.refreshView(false, false, true);
          }));
        });
      });
    } else {
      this.containerEl.createEl("p", {
        text: "To display this section, activate 'Show headings' in Basics section.",
        cls: "setting-item-description"
      });
    }
    this.containerEl.createEl("h4", {
      text: "Preview"
    });
    new import_obsidian5.Setting(containerEl).setName("Inline preview").setDesc("Show a few subsequent words next to the outline element name").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.inlinePreview).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.inlinePreview = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    new import_obsidian5.Setting(containerEl).setName("Tooltip preview").setDesc("Show subsequent sentences as a tooltip when hover").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.tooltipPreview).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.tooltipPreview = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    if (this.plugin.settings.tooltipPreview) {
      new import_obsidian5.Setting(containerEl).setName("Tooltip preview direction").setClass("setting-indent").setDesc("specify the direction to display tooltip preview").addDropdown((dropdown) => {
        dropdown.addOption("left", "left").addOption("right", "right").addOption("bottom", "bottom").addOption("top", "top").setValue(this.plugin.settings.tooltipPreviewDirection).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.tooltipPreviewDirection = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
    }
    this.containerEl.createEl("h4", {
      text: "Simple filter",
      cls: "setting-category"
    });
    if (this.plugin.settings.showElements.heading) {
      new import_obsidian5.Setting(containerEl).setName("Headings to ignore").setDesc("Headings which include listed words will not be displayed. Separate with a new line.").addTextArea((textArea) => {
        textArea.setValue(this.plugin.settings.wordsToIgnore.heading.join("\n"));
        textArea.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.wordsToIgnore.heading = inputedValue.split("\n");
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    if (this.plugin.settings.showElements.link) {
      new import_obsidian5.Setting(containerEl).setName("Links to ignore").setDesc("Links which include listed words will not be displayed. Separate with a new line.").addTextArea((textArea) => {
        textArea.setValue(this.plugin.settings.wordsToIgnore.link.join("\n"));
        textArea.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.wordsToIgnore.link = inputedValue.split("\n");
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    if (this.plugin.settings.showElements.tag) {
      new import_obsidian5.Setting(containerEl).setName("Tags to ignore").setDesc("tags which include listed words will not be displayed. Separate with a new line.").addTextArea((textArea) => {
        textArea.setValue(this.plugin.settings.wordsToIgnore.tag.join("\n"));
        textArea.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.wordsToIgnore.tag = inputedValue.split("\n");
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    if (this.plugin.settings.showElements.listItems) {
      new import_obsidian5.Setting(containerEl).setName("List items to ignore").setDesc("List items which include listed words will not be displayed. Separate with a new line.").addTextArea((textArea) => {
        textArea.setValue(this.plugin.settings.wordsToIgnore.listItems.join("\n"));
        textArea.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.wordsToIgnore.listItems = inputedValue.split("\n");
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    this.containerEl.createEl("h4", {
      text: "Include",
      cls: "setting-category"
    });
    this.containerEl.createEl("p", {
      text: "If you specify one outline element type and words to include, only elements which belong to the included elements are displayed.",
      cls: "setting-item-description"
    });
    this.containerEl.createEl("p", {
      text: "**NOTE**: If Include filter is set incorrectly, a number of outlines may not be displayed. In such a case, try setting 'Element type for include' to 'no Include filter'.",
      cls: "setting-item-description"
    });
    new import_obsidian5.Setting(containerEl).setName("Element type for include").addDropdown((dropdown) => {
      dropdown.addOption("none", "no Include filter").addOption("heading", "heading").addOption("link", "link").addOption("tag", "tag").addOption("listItems", "listItems").setValue(this.plugin.settings.includeOnly).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.includeOnly = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    if (this.plugin.settings.includeOnly != "none") {
      new import_obsidian5.Setting(containerEl).setName("Words to include").setClass("setting-indent").setDesc("Only elements specified in 'Element type for include' which include listed words will be displayed. Separate with a new line.").addTextArea((textArea) => {
        textArea.setValue(this.plugin.settings.wordsToInclude.join("\n"));
        textArea.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.wordsToInclude = inputedValue.split("\n");
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
      new import_obsidian5.Setting(containerEl).setName("Include the beginning part").setClass("setting-indent").setDesc("Specify whether to include the beginning parts of each daily note with no element to include ").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.includeBeginning).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.includeBeginning = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
    }
    this.containerEl.createEl("h4", {
      text: "Exclude",
      cls: "setting-category"
    });
    this.containerEl.createEl("p", {
      text: "Specified outline elements and elements belonging to that element will not be displayed.",
      cls: "setting-item-description"
    });
    new import_obsidian5.Setting(containerEl).setName("Exclusion ends at").setDesc("Excluding elements specified below ends at the selected type of elements. If you specified 'Element type for include' above, this value is ignored and excludeing elements ends at that type of elements.").addDropdown((dropdown) => {
      dropdown.addOption("none", "none").addOption("heading", "heading").addOption("link", "link").addOption("tag", "tag").addOption("listItems", "listItems").setValue(this.plugin.settings.primeElement).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.primeElement = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    if (this.plugin.settings.showElements.heading) {
      new import_obsidian5.Setting(containerEl).setName("Headings to exclude").setDesc("Headings which include listed words and elements which belong to them will not be displayed. Separate with a new line.").addTextArea((textArea) => {
        textArea.setValue(this.plugin.settings.wordsToExclude.heading.join("\n"));
        textArea.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.wordsToExclude.heading = inputedValue.split("\n");
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    if (this.plugin.settings.showElements.link) {
      new import_obsidian5.Setting(containerEl).setName("Links to exclude").setDesc("Links which include listed words and elements which belong to them will not be displayed. Separate with a new line.").addTextArea((textArea) => {
        textArea.setValue(this.plugin.settings.wordsToExclude.link.join("\n"));
        textArea.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.wordsToExclude.link = inputedValue.split("\n");
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    if (this.plugin.settings.showElements.tag) {
      new import_obsidian5.Setting(containerEl).setName("Tags to exclude").setDesc("tags which include listed words and elements which belong to them will not be displayed. Separate with a new line.").addTextArea((textArea) => {
        textArea.setValue(this.plugin.settings.wordsToExclude.tag.join("\n"));
        textArea.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.wordsToExclude.tag = inputedValue.split("\n");
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    if (this.plugin.settings.showElements.listItems) {
      new import_obsidian5.Setting(containerEl).setName("List items to exclude").setDesc("List items which include listed words and elements which belong to them will not be displayed. Separate with a new line.").addTextArea((textArea) => {
        textArea.setValue(this.plugin.settings.wordsToExclude.listItems.join("\n"));
        textArea.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.wordsToExclude.listItems = inputedValue.split("\n");
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    this.containerEl.createEl("h4", {
      text: "Appearance",
      cls: "setting-category"
    });
    new import_obsidian5.Setting(containerEl).setName("Indent other than headings").setDesc("Whether other elements should be indented to preceding headings").addDropdown((dropdown) => {
      dropdown.addOption("0", "none").addOption("1", "follow preceding heading").addOption("2", "preceding heading + 1").setValue(String(this.plugin.settings.indentFollowHeading)).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.indentFollowHeading = Number(value);
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    this.containerEl.createEl("p", {
      text: "Notes",
      cls: "setting-category"
    });
    new import_obsidian5.Setting(containerEl).setName("Icon").setClass("setting-indent").addDropdown((dropdown) => {
      dropdown.addOption("none", "none").addOption("file", "file").addOption("calendar", "calendar").addOption("calendar-days", "calendar-days").setValue(this.plugin.settings.icon.note).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.icon.note = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    if (this.plugin.settings.icon.note == "custom") {
      new import_obsidian5.Setting(containerEl).setName("Custom icon").setClass("setting-indent-2").setDesc("enter Lucide Icon name").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setPlaceholder(DEFAULT_SETTINGS.customIcon.note).setValue(this.plugin.settings.customIcon.note);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.customIcon.note = inputedValue;
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    if (this.plugin.settings.showElements.heading) {
      this.containerEl.createEl("p", {
        text: "Headings",
        cls: "setting-category"
      });
      new import_obsidian5.Setting(containerEl).setName("Icon").setClass("setting-indent").addDropdown((dropdown) => {
        dropdown.addOption("none", "none").addOption("hash", "hash").addOption("chevron-right", "chevron-right").addOption("custom", "custom").setValue(this.plugin.settings.icon.heading).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.icon.heading = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      if (this.plugin.settings.icon.heading == "custom") {
        new import_obsidian5.Setting(containerEl).setName("Custom icon").setClass("setting-indent-2").setDesc("enter Lucide Icon name").addText((text) => {
          text.inputEl.setAttr("type", "string");
          text.setPlaceholder(DEFAULT_SETTINGS.customIcon.heading).setValue(this.plugin.settings.customIcon.heading);
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            const inputedValue = e.target.value;
            this.plugin.settings.customIcon.heading = inputedValue;
            yield this.plugin.saveSettings();
            this.plugin.view.refreshView(false, false, true);
          });
        });
      }
      new import_obsidian5.Setting(containerEl).setName("Prefix").setClass("setting-indent").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setPlaceholder(DEFAULT_SETTINGS.prefix.heading).setValue(this.plugin.settings.prefix.heading);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.prefix.heading = inputedValue;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
      if (this.plugin.settings.prefix.heading != "") {
        new import_obsidian5.Setting(containerEl).setName("Repeat heading prefix").setClass("setting-indent-2").addDropdown((dropdown) => {
          dropdown.addOption("none", "none").addOption("level", "as many times as its level").addOption("levelminus1", "level - 1").setValue(this.plugin.settings.repeatHeadingPrefix).onChange((value) => __async(this, null, function* () {
            this.plugin.settings.repeatHeadingPrefix = value;
            this.display();
            yield this.plugin.saveSettings();
            this.plugin.view.refreshView(false, false, true);
          }));
        });
      }
      new import_obsidian5.Setting(containerEl).setName("Add indent").setClass("setting-indent").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.indent.heading).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.indent.heading = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
    }
    if (this.plugin.settings.showElements.link) {
      this.containerEl.createEl("p", {
        text: "Links",
        cls: "setting-category"
      });
      new import_obsidian5.Setting(containerEl).setName("Icon").setClass("setting-indent").addDropdown((dropdown) => {
        dropdown.addOption("none", "none").addOption("link", "link").addOption("link-2", "link-2").addOption("custom", "custom").setValue(this.plugin.settings.icon.link).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.icon.link = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      if (this.plugin.settings.icon.link == "custom") {
        new import_obsidian5.Setting(containerEl).setName("Custom icon").setClass("setting-indent-2").setDesc("enter Lucide Icon name").addText((text) => {
          text.inputEl.setAttr("type", "string");
          text.setPlaceholder(DEFAULT_SETTINGS.customIcon.link).setValue(this.plugin.settings.customIcon.link);
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            const inputedValue = e.target.value;
            this.plugin.settings.customIcon.link = inputedValue;
            yield this.plugin.saveSettings();
            this.plugin.view.refreshView(false, false, true);
          });
        });
      }
      new import_obsidian5.Setting(containerEl).setName("Prefix").setClass("setting-indent").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setPlaceholder(DEFAULT_SETTINGS.prefix.link).setValue(this.plugin.settings.prefix.link);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.prefix.link = inputedValue;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    if (this.plugin.settings.showElements.tag) {
      this.containerEl.createEl("p", {
        text: "Tags",
        cls: "setting-category"
      });
      new import_obsidian5.Setting(containerEl).setName("Icon").setClass("setting-indent").addDropdown((dropdown) => {
        dropdown.addOption("none", "none").addOption("tag", "tag").addOption("hash", "hash").addOption("custom", "custom").setValue(this.plugin.settings.icon.tag).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.icon.tag = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      if (this.plugin.settings.icon.tag == "custom") {
        new import_obsidian5.Setting(containerEl).setName("Custom icon").setClass("setting-indent-2").setDesc("enter Lucide Icon name").addText((text) => {
          text.inputEl.setAttr("type", "string");
          text.setPlaceholder(DEFAULT_SETTINGS.customIcon.tag).setValue(this.plugin.settings.customIcon.tag);
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            const inputedValue = e.target.value;
            this.plugin.settings.customIcon.tag = inputedValue;
            yield this.plugin.saveSettings();
            this.plugin.view.refreshView(false, false, true);
          });
        });
      }
      new import_obsidian5.Setting(containerEl).setName("Prefix").setClass("setting-indent").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setPlaceholder(DEFAULT_SETTINGS.prefix.tag).setValue(this.plugin.settings.prefix.tag);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.prefix.tag = inputedValue;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    if (this.plugin.settings.showElements.link) {
      this.containerEl.createEl("p", {
        text: "List items",
        cls: "setting-category"
      });
      new import_obsidian5.Setting(containerEl).setName("Icon").setClass("setting-indent").addDropdown((dropdown) => {
        dropdown.addOption("none", "none").addOption("list", "list").addOption("chevron-right", "chevron-right").addOption("minus", "minus").addOption("circle-dot", "circle-dot").addOption("asterisk", "asterisk").addOption("custom", "custom").setValue(this.plugin.settings.icon.listItems).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.icon.listItems = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      if (this.plugin.settings.icon.listItems == "custom") {
        new import_obsidian5.Setting(containerEl).setName("Custom icon").setClass("setting-indent-2").setDesc("enter Lucide Icon name").addText((text) => {
          text.inputEl.setAttr("type", "string");
          text.setPlaceholder(DEFAULT_SETTINGS.customIcon.listItems).setValue(this.plugin.settings.customIcon.listItems);
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            const inputedValue = e.target.value;
            this.plugin.settings.customIcon.listItems = inputedValue;
            yield this.plugin.saveSettings();
            this.plugin.view.refreshView(false, false, true);
          });
        });
      }
      new import_obsidian5.Setting(containerEl).setName("Prefix").setClass("setting-indent").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setPlaceholder(DEFAULT_SETTINGS.prefix.listItems).setValue(this.plugin.settings.prefix.listItems);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.prefix.listItems = inputedValue;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
      this.containerEl.createEl("p", {
        text: "Tasks",
        cls: "setting-category"
      });
      new import_obsidian5.Setting(containerEl).setName("Icon").setClass("setting-indent").addDropdown((dropdown) => {
        dropdown.addOption("none", "none").addOption("square", "square").addOption("circle", "circle").addOption("list-checks", "list-checks").addOption("custom", "custom").setValue(this.plugin.settings.icon.task).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.icon.task = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      if (this.plugin.settings.icon.task == "custom") {
        new import_obsidian5.Setting(containerEl).setName("Custom icon").setClass("setting-indent-2").setDesc("enter Lucide Icon name").addText((text) => {
          text.inputEl.setAttr("type", "string");
          text.setPlaceholder(DEFAULT_SETTINGS.customIcon.task).setValue(this.plugin.settings.customIcon.task);
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            const inputedValue = e.target.value;
            this.plugin.settings.customIcon.task = inputedValue;
            yield this.plugin.saveSettings();
            this.plugin.view.refreshView(false, false, true);
          });
        });
      }
      new import_obsidian5.Setting(containerEl).setName("Prefix").setClass("setting-indent").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setPlaceholder(DEFAULT_SETTINGS.prefix.task).setValue(this.plugin.settings.prefix.task);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.prefix.task = inputedValue;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
      new import_obsidian5.Setting(containerEl).setName("Add checkbox text to prefix").setDesc("add [ ] or [x]").setClass("setting-indent").addToggle((toggle) => {
        toggle.setValue(this.plugin.settings.addCheckboxText).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.addCheckboxText = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      this.containerEl.createEl("p", {
        text: "Completed tasks",
        cls: "setting-category"
      });
      new import_obsidian5.Setting(containerEl).setName("Icon").setClass("setting-indent").addDropdown((dropdown) => {
        dropdown.addOption("none", "none").addOption("check-square", "check-square").addOption("check-circle", "check-circle").addOption("check", "check").addOption("custom", "custom").setValue(this.plugin.settings.icon.taskDone).onChange((value) => __async(this, null, function* () {
          this.plugin.settings.icon.taskDone = value;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        }));
      });
      if (this.plugin.settings.icon.taskDone == "custom") {
        new import_obsidian5.Setting(containerEl).setName("Custom icon").setClass("setting-indent-2").setDesc("enter Lucide Icon name").addText((text) => {
          text.inputEl.setAttr("type", "string");
          text.setPlaceholder(DEFAULT_SETTINGS.customIcon.taskDone).setValue(this.plugin.settings.customIcon.taskDone);
          text.inputEl.onblur = (e) => __async(this, null, function* () {
            const inputedValue = e.target.value;
            this.plugin.settings.customIcon.taskDone = inputedValue;
            yield this.plugin.saveSettings();
            this.plugin.view.refreshView(false, false, true);
          });
        });
      }
      new import_obsidian5.Setting(containerEl).setName("Prefix").setClass("setting-indent").addText((text) => {
        text.inputEl.setAttr("type", "string");
        text.setPlaceholder(DEFAULT_SETTINGS.prefix.taskDone).setValue(this.plugin.settings.prefix.taskDone);
        text.inputEl.onblur = (e) => __async(this, null, function* () {
          const inputedValue = e.target.value;
          this.plugin.settings.prefix.taskDone = inputedValue;
          this.display();
          yield this.plugin.saveSettings();
          this.plugin.view.refreshView(false, false, true);
        });
      });
    }
    this.containerEl.createEl("h4", {
      text: "Others",
      cls: "setting-category"
    });
    new import_obsidian5.Setting(containerEl).setName("Show only .md files").setDesc("Turn on if non-md files are displayed in the view").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.markdownOnly).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.markdownOnly = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    new import_obsidian5.Setting(containerEl).setName("Show only exactly matched files").setDesc("Turn on if you do not want to see files that do not exactly match the format").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.exactMatchOnly).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.exactMatchOnly = value;
        this.display();
        yield this.plugin.saveSettings();
        this.plugin.view.refreshView(false, false, true);
      }));
    });
    this.containerEl.createEl("h4", {
      text: "Debug",
      cls: "setting-category"
    });
    new import_obsidian5.Setting(containerEl).setName("show debug information").setDesc("display debug information in the console").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.showDebugInfo).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.showDebugInfo = value;
        this.display();
        yield this.plugin.saveSettings();
      }));
    });
  }
};

// src/main.ts
var DEFAULT_SETTINGS = {
  initialSearchType: "backward",
  offset: 7,
  onset: "2020-03-30",
  duration: {
    day: 28,
    week: 12,
    month: 12,
    quarter: 8,
    year: 3
  },
  showElements: {
    heading: true,
    link: true,
    tag: true,
    listItems: true
  },
  headingLevel: [true, true, true, false, false, false],
  allRootItems: false,
  allTasks: true,
  taskOnly: false,
  hideCompletedTasks: false,
  displayFileInfo: "lines",
  displayFileInfoDaily: "lines",
  displayFileInfoPeriodic: "lines",
  viewPosition: "right",
  markdownOnly: true,
  exactMatchOnly: false,
  wordsToIgnore: {
    heading: [],
    link: [],
    tag: [],
    listItems: []
  },
  inlinePreview: true,
  tooltipPreview: true,
  tooltipPreviewDirection: "left",
  includeOnly: "none",
  wordsToInclude: [],
  includeBeginning: true,
  primeElement: "none",
  wordsToExclude: {
    heading: [],
    link: [],
    tag: [],
    listItems: []
  },
  wordsToExtract: "",
  icon: {
    heading: "none",
    link: "link",
    tag: "tag",
    listItems: "list",
    note: "file",
    task: "square",
    taskDone: "check-square"
  },
  customIcon: {
    heading: "hash",
    link: "link",
    tag: "tag",
    listItems: "list",
    note: "file",
    task: "square",
    taskDone: "check-square"
  },
  indent: {
    heading: true,
    link: true,
    listItems: true
  },
  indentFollowHeading: 0,
  prefix: {
    heading: "",
    link: "",
    tag: "",
    listItems: "",
    task: "",
    taskDone: ""
  },
  repeatHeadingPrefix: "none",
  addCheckboxText: false,
  periodicNotesEnabled: true,
  calendarSetsEnabled: true,
  attachWeeklyNotesName: true,
  showDebugInfo: false
};
var DAYS_PER_UNIT = {
  day: 1,
  week: 7,
  month: 30,
  quarter: 90,
  year: 365
};
var GRANULARITY_LIST = ["day", "week", "month", "quarter", "year"];
var GRANULARITY_TO_PERIODICITY = {
  day: "daily",
  week: "weekly",
  month: "monthly",
  quarter: "quarterly",
  year: "yearly"
};
var FILEINFO_TO_DISPLAY = {
  none: "none",
  lines: "num of lines",
  days: "distance",
  tag: "first tag"
};
var FILEINFO_TO_DISPLAY_DAY = {
  none: "none",
  lines: "num of lines",
  days: "distance",
  tag: "first tag",
  dow: "day of week",
  dowshort: "day of week(short)",
  weeknumber: "week number"
};
var DailyNoteOutlinePlugin3 = class extends import_obsidian6.Plugin {
  constructor() {
    super(...arguments);
    this.checkView = () => __async(this, null, function* () {
      let [leaf] = this.app.workspace.getLeavesOfType(DailyNoteOutlineViewType);
      if (!leaf) {
        switch (this.settings.viewPosition) {
          case "right":
            leaf = this.app.workspace.getRightLeaf(false);
            break;
          case "left":
            leaf = this.app.workspace.getLeftLeaf(false);
            break;
          case "tab":
            leaf = this.app.workspace.getLeaf("tab");
            break;
          case "split":
            leaf = this.app.workspace.getLeaf("split");
            break;
          case "popout":
            leaf = this.app.workspace.getLeaf("window");
            break;
        }
        yield leaf.setViewState({ type: DailyNoteOutlineViewType });
      }
      this.app.workspace.revealLeaf(leaf);
    });
  }
  onload() {
    return __async(this, null, function* () {
      yield this.loadSettings();
      this.registerView(DailyNoteOutlineViewType, (leaf) => this.view = new DailyNoteOutlineView(leaf, this, this.settings));
      this.addCommand({
        id: "daily-note-outline-open",
        name: "Open Outline",
        callback: () => __async(this, null, function* () {
          this.checkView();
        })
      });
      if (this.app.workspace.layoutReady) {
        this.checkView();
      } else {
        this.registerEvent(this.app.workspace.on("layout-ready", this.checkView));
      }
      this.addSettingTab(new DailyNoteOutlineSettingTab(this.app, this));
    });
  }
  onunload() {
    this.app.workspace.detachLeavesOfType(DailyNoteOutlineViewType);
  }
  loadSettings() {
    return __async(this, null, function* () {
      this.settings = Object.assign({}, DEFAULT_SETTINGS, yield this.loadData());
      if (typeof this.settings.duration === "number") {
        this.settings.duration = DEFAULT_SETTINGS.duration;
      }
    });
  }
  saveSettings() {
    return __async(this, null, function* () {
      yield this.saveData(this.settings);
    });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL29ic2lkaWFuLWRhaWx5LW5vdGVzLWludGVyZmFjZS9kaXN0L21haW4uanMiLCAic3JjL21haW4udHMiLCAic3JjL3ZpZXcudHMiLCAic3JjL2NyZWF0ZUFuZE9wZW5EYWlseU5vdGUudHMiLCAic3JjL21vZGFsRXh0cmFjdC50cyIsICJzcmMvY3JlYXRlQW5kT3BlblBlcmlvZGljTm90ZS50cyIsICJzcmMvc2V0dGluZy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgb2JzaWRpYW4gPSByZXF1aXJlKCdvYnNpZGlhbicpO1xuXG5jb25zdCBERUZBVUxUX0RBSUxZX05PVEVfRk9STUFUID0gXCJZWVlZLU1NLUREXCI7XG5jb25zdCBERUZBVUxUX1dFRUtMWV9OT1RFX0ZPUk1BVCA9IFwiZ2dnZy1bV113d1wiO1xuY29uc3QgREVGQVVMVF9NT05USExZX05PVEVfRk9STUFUID0gXCJZWVlZLU1NXCI7XG5jb25zdCBERUZBVUxUX1FVQVJURVJMWV9OT1RFX0ZPUk1BVCA9IFwiWVlZWS1bUV1RXCI7XG5jb25zdCBERUZBVUxUX1lFQVJMWV9OT1RFX0ZPUk1BVCA9IFwiWVlZWVwiO1xuXG5mdW5jdGlvbiBzaG91bGRVc2VQZXJpb2RpY05vdGVzU2V0dGluZ3MocGVyaW9kaWNpdHkpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IHBlcmlvZGljTm90ZXMgPSB3aW5kb3cuYXBwLnBsdWdpbnMuZ2V0UGx1Z2luKFwicGVyaW9kaWMtbm90ZXNcIik7XG4gICAgcmV0dXJuIHBlcmlvZGljTm90ZXMgJiYgcGVyaW9kaWNOb3Rlcy5zZXR0aW5ncz8uW3BlcmlvZGljaXR5XT8uZW5hYmxlZDtcbn1cbi8qKlxuICogUmVhZCB0aGUgdXNlciBzZXR0aW5ncyBmb3IgdGhlIGBkYWlseS1ub3Rlc2AgcGx1Z2luXG4gKiB0byBrZWVwIGJlaGF2aW9yIG9mIGNyZWF0aW5nIGEgbmV3IG5vdGUgaW4tc3luYy5cbiAqL1xuZnVuY3Rpb24gZ2V0RGFpbHlOb3RlU2V0dGluZ3MoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgY29uc3QgeyBpbnRlcm5hbFBsdWdpbnMsIHBsdWdpbnMgfSA9IHdpbmRvdy5hcHA7XG4gICAgICAgIGlmIChzaG91bGRVc2VQZXJpb2RpY05vdGVzU2V0dGluZ3MoXCJkYWlseVwiKSkge1xuICAgICAgICAgICAgY29uc3QgeyBmb3JtYXQsIGZvbGRlciwgdGVtcGxhdGUgfSA9IHBsdWdpbnMuZ2V0UGx1Z2luKFwicGVyaW9kaWMtbm90ZXNcIik/LnNldHRpbmdzPy5kYWlseSB8fCB7fTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZm9ybWF0OiBmb3JtYXQgfHwgREVGQVVMVF9EQUlMWV9OT1RFX0ZPUk1BVCxcbiAgICAgICAgICAgICAgICBmb2xkZXI6IGZvbGRlcj8udHJpbSgpIHx8IFwiXCIsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6IHRlbXBsYXRlPy50cmltKCkgfHwgXCJcIixcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBmb2xkZXIsIGZvcm1hdCwgdGVtcGxhdGUgfSA9IGludGVybmFsUGx1Z2lucy5nZXRQbHVnaW5CeUlkKFwiZGFpbHktbm90ZXNcIik/Lmluc3RhbmNlPy5vcHRpb25zIHx8IHt9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZm9ybWF0OiBmb3JtYXQgfHwgREVGQVVMVF9EQUlMWV9OT1RFX0ZPUk1BVCxcbiAgICAgICAgICAgIGZvbGRlcjogZm9sZGVyPy50cmltKCkgfHwgXCJcIixcbiAgICAgICAgICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZT8udHJpbSgpIHx8IFwiXCIsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5pbmZvKFwiTm8gY3VzdG9tIGRhaWx5IG5vdGUgc2V0dGluZ3MgZm91bmQhXCIsIGVycik7XG4gICAgfVxufVxuLyoqXG4gKiBSZWFkIHRoZSB1c2VyIHNldHRpbmdzIGZvciB0aGUgYHdlZWtseS1ub3Rlc2AgcGx1Z2luXG4gKiB0byBrZWVwIGJlaGF2aW9yIG9mIGNyZWF0aW5nIGEgbmV3IG5vdGUgaW4tc3luYy5cbiAqL1xuZnVuY3Rpb24gZ2V0V2Vla2x5Tm90ZVNldHRpbmdzKCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGNvbnN0IHBsdWdpbk1hbmFnZXIgPSB3aW5kb3cuYXBwLnBsdWdpbnM7XG4gICAgICAgIGNvbnN0IGNhbGVuZGFyU2V0dGluZ3MgPSBwbHVnaW5NYW5hZ2VyLmdldFBsdWdpbihcImNhbGVuZGFyXCIpPy5vcHRpb25zO1xuICAgICAgICBjb25zdCBwZXJpb2RpY05vdGVzU2V0dGluZ3MgPSBwbHVnaW5NYW5hZ2VyLmdldFBsdWdpbihcInBlcmlvZGljLW5vdGVzXCIpPy5zZXR0aW5ncz8ud2Vla2x5O1xuICAgICAgICBpZiAoc2hvdWxkVXNlUGVyaW9kaWNOb3Rlc1NldHRpbmdzKFwid2Vla2x5XCIpKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGZvcm1hdDogcGVyaW9kaWNOb3Rlc1NldHRpbmdzLmZvcm1hdCB8fCBERUZBVUxUX1dFRUtMWV9OT1RFX0ZPUk1BVCxcbiAgICAgICAgICAgICAgICBmb2xkZXI6IHBlcmlvZGljTm90ZXNTZXR0aW5ncy5mb2xkZXI/LnRyaW0oKSB8fCBcIlwiLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBwZXJpb2RpY05vdGVzU2V0dGluZ3MudGVtcGxhdGU/LnRyaW0oKSB8fCBcIlwiLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IGNhbGVuZGFyU2V0dGluZ3MgfHwge307XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmb3JtYXQ6IHNldHRpbmdzLndlZWtseU5vdGVGb3JtYXQgfHwgREVGQVVMVF9XRUVLTFlfTk9URV9GT1JNQVQsXG4gICAgICAgICAgICBmb2xkZXI6IHNldHRpbmdzLndlZWtseU5vdGVGb2xkZXI/LnRyaW0oKSB8fCBcIlwiLFxuICAgICAgICAgICAgdGVtcGxhdGU6IHNldHRpbmdzLndlZWtseU5vdGVUZW1wbGF0ZT8udHJpbSgpIHx8IFwiXCIsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5pbmZvKFwiTm8gY3VzdG9tIHdlZWtseSBub3RlIHNldHRpbmdzIGZvdW5kIVwiLCBlcnIpO1xuICAgIH1cbn1cbi8qKlxuICogUmVhZCB0aGUgdXNlciBzZXR0aW5ncyBmb3IgdGhlIGBwZXJpb2RpYy1ub3Rlc2AgcGx1Z2luXG4gKiB0byBrZWVwIGJlaGF2aW9yIG9mIGNyZWF0aW5nIGEgbmV3IG5vdGUgaW4tc3luYy5cbiAqL1xuZnVuY3Rpb24gZ2V0TW9udGhseU5vdGVTZXR0aW5ncygpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IHBsdWdpbk1hbmFnZXIgPSB3aW5kb3cuYXBwLnBsdWdpbnM7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSAoc2hvdWxkVXNlUGVyaW9kaWNOb3Rlc1NldHRpbmdzKFwibW9udGhseVwiKSAmJlxuICAgICAgICAgICAgcGx1Z2luTWFuYWdlci5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKT8uc2V0dGluZ3M/Lm1vbnRobHkpIHx8XG4gICAgICAgICAgICB7fTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZvcm1hdDogc2V0dGluZ3MuZm9ybWF0IHx8IERFRkFVTFRfTU9OVEhMWV9OT1RFX0ZPUk1BVCxcbiAgICAgICAgICAgIGZvbGRlcjogc2V0dGluZ3MuZm9sZGVyPy50cmltKCkgfHwgXCJcIixcbiAgICAgICAgICAgIHRlbXBsYXRlOiBzZXR0aW5ncy50ZW1wbGF0ZT8udHJpbSgpIHx8IFwiXCIsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5pbmZvKFwiTm8gY3VzdG9tIG1vbnRobHkgbm90ZSBzZXR0aW5ncyBmb3VuZCFcIiwgZXJyKTtcbiAgICB9XG59XG4vKipcbiAqIFJlYWQgdGhlIHVzZXIgc2V0dGluZ3MgZm9yIHRoZSBgcGVyaW9kaWMtbm90ZXNgIHBsdWdpblxuICogdG8ga2VlcCBiZWhhdmlvciBvZiBjcmVhdGluZyBhIG5ldyBub3RlIGluLXN5bmMuXG4gKi9cbmZ1bmN0aW9uIGdldFF1YXJ0ZXJseU5vdGVTZXR0aW5ncygpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IHBsdWdpbk1hbmFnZXIgPSB3aW5kb3cuYXBwLnBsdWdpbnM7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSAoc2hvdWxkVXNlUGVyaW9kaWNOb3Rlc1NldHRpbmdzKFwicXVhcnRlcmx5XCIpICYmXG4gICAgICAgICAgICBwbHVnaW5NYW5hZ2VyLmdldFBsdWdpbihcInBlcmlvZGljLW5vdGVzXCIpPy5zZXR0aW5ncz8ucXVhcnRlcmx5KSB8fFxuICAgICAgICAgICAge307XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmb3JtYXQ6IHNldHRpbmdzLmZvcm1hdCB8fCBERUZBVUxUX1FVQVJURVJMWV9OT1RFX0ZPUk1BVCxcbiAgICAgICAgICAgIGZvbGRlcjogc2V0dGluZ3MuZm9sZGVyPy50cmltKCkgfHwgXCJcIixcbiAgICAgICAgICAgIHRlbXBsYXRlOiBzZXR0aW5ncy50ZW1wbGF0ZT8udHJpbSgpIHx8IFwiXCIsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5pbmZvKFwiTm8gY3VzdG9tIHF1YXJ0ZXJseSBub3RlIHNldHRpbmdzIGZvdW5kIVwiLCBlcnIpO1xuICAgIH1cbn1cbi8qKlxuICogUmVhZCB0aGUgdXNlciBzZXR0aW5ncyBmb3IgdGhlIGBwZXJpb2RpYy1ub3Rlc2AgcGx1Z2luXG4gKiB0byBrZWVwIGJlaGF2aW9yIG9mIGNyZWF0aW5nIGEgbmV3IG5vdGUgaW4tc3luYy5cbiAqL1xuZnVuY3Rpb24gZ2V0WWVhcmx5Tm90ZVNldHRpbmdzKCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgY29uc3QgcGx1Z2luTWFuYWdlciA9IHdpbmRvdy5hcHAucGx1Z2lucztcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IChzaG91bGRVc2VQZXJpb2RpY05vdGVzU2V0dGluZ3MoXCJ5ZWFybHlcIikgJiZcbiAgICAgICAgICAgIHBsdWdpbk1hbmFnZXIuZ2V0UGx1Z2luKFwicGVyaW9kaWMtbm90ZXNcIik/LnNldHRpbmdzPy55ZWFybHkpIHx8XG4gICAgICAgICAgICB7fTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZvcm1hdDogc2V0dGluZ3MuZm9ybWF0IHx8IERFRkFVTFRfWUVBUkxZX05PVEVfRk9STUFULFxuICAgICAgICAgICAgZm9sZGVyOiBzZXR0aW5ncy5mb2xkZXI/LnRyaW0oKSB8fCBcIlwiLFxuICAgICAgICAgICAgdGVtcGxhdGU6IHNldHRpbmdzLnRlbXBsYXRlPy50cmltKCkgfHwgXCJcIixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmluZm8oXCJObyBjdXN0b20geWVhcmx5IG5vdGUgc2V0dGluZ3MgZm91bmQhXCIsIGVycik7XG4gICAgfVxufVxuXG4vLyBDcmVkaXQ6IEBjcmVhdGlvbml4L3BhdGguanNcbmZ1bmN0aW9uIGpvaW4oLi4ucGFydFNlZ21lbnRzKSB7XG4gICAgLy8gU3BsaXQgdGhlIGlucHV0cyBpbnRvIGEgbGlzdCBvZiBwYXRoIGNvbW1hbmRzLlxuICAgIGxldCBwYXJ0cyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gcGFydFNlZ21lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBwYXJ0cyA9IHBhcnRzLmNvbmNhdChwYXJ0U2VnbWVudHNbaV0uc3BsaXQoXCIvXCIpKTtcbiAgICB9XG4gICAgLy8gSW50ZXJwcmV0IHRoZSBwYXRoIGNvbW1hbmRzIHRvIGdldCB0aGUgbmV3IHJlc29sdmVkIHBhdGguXG4gICAgY29uc3QgbmV3UGFydHMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHBhcnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBjb25zdCBwYXJ0ID0gcGFydHNbaV07XG4gICAgICAgIC8vIFJlbW92ZSBsZWFkaW5nIGFuZCB0cmFpbGluZyBzbGFzaGVzXG4gICAgICAgIC8vIEFsc28gcmVtb3ZlIFwiLlwiIHNlZ21lbnRzXG4gICAgICAgIGlmICghcGFydCB8fCBwYXJ0ID09PSBcIi5cIilcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAvLyBQdXNoIG5ldyBwYXRoIHNlZ21lbnRzLlxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBuZXdQYXJ0cy5wdXNoKHBhcnQpO1xuICAgIH1cbiAgICAvLyBQcmVzZXJ2ZSB0aGUgaW5pdGlhbCBzbGFzaCBpZiB0aGVyZSB3YXMgb25lLlxuICAgIGlmIChwYXJ0c1swXSA9PT0gXCJcIilcbiAgICAgICAgbmV3UGFydHMudW5zaGlmdChcIlwiKTtcbiAgICAvLyBUdXJuIGJhY2sgaW50byBhIHNpbmdsZSBzdHJpbmcgcGF0aC5cbiAgICByZXR1cm4gbmV3UGFydHMuam9pbihcIi9cIik7XG59XG5mdW5jdGlvbiBiYXNlbmFtZShmdWxsUGF0aCkge1xuICAgIGxldCBiYXNlID0gZnVsbFBhdGguc3Vic3RyaW5nKGZ1bGxQYXRoLmxhc3RJbmRleE9mKFwiL1wiKSArIDEpO1xuICAgIGlmIChiYXNlLmxhc3RJbmRleE9mKFwiLlwiKSAhPSAtMSlcbiAgICAgICAgYmFzZSA9IGJhc2Uuc3Vic3RyaW5nKDAsIGJhc2UubGFzdEluZGV4T2YoXCIuXCIpKTtcbiAgICByZXR1cm4gYmFzZTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGVuc3VyZUZvbGRlckV4aXN0cyhwYXRoKSB7XG4gICAgY29uc3QgZGlycyA9IHBhdGgucmVwbGFjZSgvXFxcXC9nLCBcIi9cIikuc3BsaXQoXCIvXCIpO1xuICAgIGRpcnMucG9wKCk7IC8vIHJlbW92ZSBiYXNlbmFtZVxuICAgIGlmIChkaXJzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBkaXIgPSBqb2luKC4uLmRpcnMpO1xuICAgICAgICBpZiAoIXdpbmRvdy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGRpcikpIHtcbiAgICAgICAgICAgIGF3YWl0IHdpbmRvdy5hcHAudmF1bHQuY3JlYXRlRm9sZGVyKGRpcik7XG4gICAgICAgIH1cbiAgICB9XG59XG5hc3luYyBmdW5jdGlvbiBnZXROb3RlUGF0aChkaXJlY3RvcnksIGZpbGVuYW1lKSB7XG4gICAgaWYgKCFmaWxlbmFtZS5lbmRzV2l0aChcIi5tZFwiKSkge1xuICAgICAgICBmaWxlbmFtZSArPSBcIi5tZFwiO1xuICAgIH1cbiAgICBjb25zdCBwYXRoID0gb2JzaWRpYW4ubm9ybWFsaXplUGF0aChqb2luKGRpcmVjdG9yeSwgZmlsZW5hbWUpKTtcbiAgICBhd2FpdCBlbnN1cmVGb2xkZXJFeGlzdHMocGF0aCk7XG4gICAgcmV0dXJuIHBhdGg7XG59XG5hc3luYyBmdW5jdGlvbiBnZXRUZW1wbGF0ZUluZm8odGVtcGxhdGUpIHtcbiAgICBjb25zdCB7IG1ldGFkYXRhQ2FjaGUsIHZhdWx0IH0gPSB3aW5kb3cuYXBwO1xuICAgIGNvbnN0IHRlbXBsYXRlUGF0aCA9IG9ic2lkaWFuLm5vcm1hbGl6ZVBhdGgodGVtcGxhdGUpO1xuICAgIGlmICh0ZW1wbGF0ZVBhdGggPT09IFwiL1wiKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW1wiXCIsIG51bGxdKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdGVtcGxhdGVGaWxlID0gbWV0YWRhdGFDYWNoZS5nZXRGaXJzdExpbmtwYXRoRGVzdCh0ZW1wbGF0ZVBhdGgsIFwiXCIpO1xuICAgICAgICBjb25zdCBjb250ZW50cyA9IGF3YWl0IHZhdWx0LmNhY2hlZFJlYWQodGVtcGxhdGVGaWxlKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgY29uc3QgSUZvbGRJbmZvID0gd2luZG93LmFwcC5mb2xkTWFuYWdlci5sb2FkKHRlbXBsYXRlRmlsZSk7XG4gICAgICAgIHJldHVybiBbY29udGVudHMsIElGb2xkSW5mb107XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHJlYWQgdGhlIGRhaWx5IG5vdGUgdGVtcGxhdGUgJyR7dGVtcGxhdGVQYXRofSdgLCBlcnIpO1xuICAgICAgICBuZXcgb2JzaWRpYW4uTm90aWNlKFwiRmFpbGVkIHRvIHJlYWQgdGhlIGRhaWx5IG5vdGUgdGVtcGxhdGVcIik7XG4gICAgICAgIHJldHVybiBbXCJcIiwgbnVsbF07XG4gICAgfVxufVxuXG4vKipcbiAqIGRhdGVVSUQgaXMgYSB3YXkgb2Ygd2Vla2x5IGlkZW50aWZ5aW5nIGRhaWx5L3dlZWtseS9tb250aGx5IG5vdGVzLlxuICogVGhleSBhcmUgcHJlZml4ZWQgd2l0aCB0aGUgZ3JhbnVsYXJpdHkgdG8gYXZvaWQgYW1iaWd1aXR5LlxuICovXG5mdW5jdGlvbiBnZXREYXRlVUlEKGRhdGUsIGdyYW51bGFyaXR5ID0gXCJkYXlcIikge1xuICAgIGNvbnN0IHRzID0gZGF0ZS5jbG9uZSgpLnN0YXJ0T2YoZ3JhbnVsYXJpdHkpLmZvcm1hdCgpO1xuICAgIHJldHVybiBgJHtncmFudWxhcml0eX0tJHt0c31gO1xufVxuZnVuY3Rpb24gcmVtb3ZlRXNjYXBlZENoYXJhY3RlcnMoZm9ybWF0KSB7XG4gICAgcmV0dXJuIGZvcm1hdC5yZXBsYWNlKC9cXFtbXlxcXV0qXFxdL2csIFwiXCIpOyAvLyByZW1vdmUgZXZlcnl0aGluZyB3aXRoaW4gYnJhY2tldHNcbn1cbi8qKlxuICogWFhYOiBXaGVuIHBhcnNpbmcgZGF0ZXMgdGhhdCBjb250YWluIGJvdGggd2VlayBudW1iZXJzIGFuZCBtb250aHMsXG4gKiBNb21lbnQgY2hvc2VzIHRvIGlnbm9yZSB0aGUgd2VlayBudW1iZXJzLiBGb3IgdGhlIHdlZWsgZGF0ZVVJRCwgd2VcbiAqIHdhbnQgdGhlIG9wcG9zaXRlIGJlaGF2aW9yLiBTdHJpcCB0aGUgTU1NIGZyb20gdGhlIGZvcm1hdCB0byBwYXRjaC5cbiAqL1xuZnVuY3Rpb24gaXNGb3JtYXRBbWJpZ3VvdXMoZm9ybWF0LCBncmFudWxhcml0eSkge1xuICAgIGlmIChncmFudWxhcml0eSA9PT0gXCJ3ZWVrXCIpIHtcbiAgICAgICAgY29uc3QgY2xlYW5Gb3JtYXQgPSByZW1vdmVFc2NhcGVkQ2hhcmFjdGVycyhmb3JtYXQpO1xuICAgICAgICByZXR1cm4gKC93ezEsMn0vaS50ZXN0KGNsZWFuRm9ybWF0KSAmJlxuICAgICAgICAgICAgKC9NezEsNH0vLnRlc3QoY2xlYW5Gb3JtYXQpIHx8IC9EezEsNH0vLnRlc3QoY2xlYW5Gb3JtYXQpKSk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGdldERhdGVGcm9tRmlsZShmaWxlLCBncmFudWxhcml0eSkge1xuICAgIHJldHVybiBnZXREYXRlRnJvbUZpbGVuYW1lKGZpbGUuYmFzZW5hbWUsIGdyYW51bGFyaXR5KTtcbn1cbmZ1bmN0aW9uIGdldERhdGVGcm9tUGF0aChwYXRoLCBncmFudWxhcml0eSkge1xuICAgIHJldHVybiBnZXREYXRlRnJvbUZpbGVuYW1lKGJhc2VuYW1lKHBhdGgpLCBncmFudWxhcml0eSk7XG59XG5mdW5jdGlvbiBnZXREYXRlRnJvbUZpbGVuYW1lKGZpbGVuYW1lLCBncmFudWxhcml0eSkge1xuICAgIGNvbnN0IGdldFNldHRpbmdzID0ge1xuICAgICAgICBkYXk6IGdldERhaWx5Tm90ZVNldHRpbmdzLFxuICAgICAgICB3ZWVrOiBnZXRXZWVrbHlOb3RlU2V0dGluZ3MsXG4gICAgICAgIG1vbnRoOiBnZXRNb250aGx5Tm90ZVNldHRpbmdzLFxuICAgICAgICBxdWFydGVyOiBnZXRRdWFydGVybHlOb3RlU2V0dGluZ3MsXG4gICAgICAgIHllYXI6IGdldFllYXJseU5vdGVTZXR0aW5ncyxcbiAgICB9O1xuICAgIGNvbnN0IGZvcm1hdCA9IGdldFNldHRpbmdzW2dyYW51bGFyaXR5XSgpLmZvcm1hdC5zcGxpdChcIi9cIikucG9wKCk7XG4gICAgY29uc3Qgbm90ZURhdGUgPSB3aW5kb3cubW9tZW50KGZpbGVuYW1lLCBmb3JtYXQsIHRydWUpO1xuICAgIGlmICghbm90ZURhdGUuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoaXNGb3JtYXRBbWJpZ3VvdXMoZm9ybWF0LCBncmFudWxhcml0eSkpIHtcbiAgICAgICAgaWYgKGdyYW51bGFyaXR5ID09PSBcIndlZWtcIikge1xuICAgICAgICAgICAgY29uc3QgY2xlYW5Gb3JtYXQgPSByZW1vdmVFc2NhcGVkQ2hhcmFjdGVycyhmb3JtYXQpO1xuICAgICAgICAgICAgaWYgKC93ezEsMn0vaS50ZXN0KGNsZWFuRm9ybWF0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cubW9tZW50KGZpbGVuYW1lLCBcbiAgICAgICAgICAgICAgICAvLyBJZiBmb3JtYXQgY29udGFpbnMgd2VlaywgcmVtb3ZlIGRheSAmIG1vbnRoIGZvcm1hdHRpbmdcbiAgICAgICAgICAgICAgICBmb3JtYXQucmVwbGFjZSgvTXsxLDR9L2csIFwiXCIpLnJlcGxhY2UoL0R7MSw0fS9nLCBcIlwiKSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub3RlRGF0ZTtcbn1cblxuY2xhc3MgRGFpbHlOb3Rlc0ZvbGRlck1pc3NpbmdFcnJvciBleHRlbmRzIEVycm9yIHtcbn1cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBtaW1pY3MgdGhlIGJlaGF2aW9yIG9mIHRoZSBkYWlseS1ub3RlcyBwbHVnaW5cbiAqIHNvIGl0IHdpbGwgcmVwbGFjZSB7e2RhdGV9fSwge3t0aXRsZX19LCBhbmQge3t0aW1lfX0gd2l0aCB0aGVcbiAqIGZvcm1hdHRlZCB0aW1lc3RhbXAuXG4gKlxuICogTm90ZTogaXQgaGFzIGFuIGFkZGVkIGJvbnVzIHRoYXQgaXQncyBub3QgJ3RvZGF5JyBzcGVjaWZpYy5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlRGFpbHlOb3RlKGRhdGUpIHtcbiAgICBjb25zdCBhcHAgPSB3aW5kb3cuYXBwO1xuICAgIGNvbnN0IHsgdmF1bHQgfSA9IGFwcDtcbiAgICBjb25zdCBtb21lbnQgPSB3aW5kb3cubW9tZW50O1xuICAgIGNvbnN0IHsgdGVtcGxhdGUsIGZvcm1hdCwgZm9sZGVyIH0gPSBnZXREYWlseU5vdGVTZXR0aW5ncygpO1xuICAgIGNvbnN0IFt0ZW1wbGF0ZUNvbnRlbnRzLCBJRm9sZEluZm9dID0gYXdhaXQgZ2V0VGVtcGxhdGVJbmZvKHRlbXBsYXRlKTtcbiAgICBjb25zdCBmaWxlbmFtZSA9IGRhdGUuZm9ybWF0KGZvcm1hdCk7XG4gICAgY29uc3Qgbm9ybWFsaXplZFBhdGggPSBhd2FpdCBnZXROb3RlUGF0aChmb2xkZXIsIGZpbGVuYW1lKTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBjcmVhdGVkRmlsZSA9IGF3YWl0IHZhdWx0LmNyZWF0ZShub3JtYWxpemVkUGF0aCwgdGVtcGxhdGVDb250ZW50c1xuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKmRhdGVcXHMqfX0vZ2ksIGZpbGVuYW1lKVxuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKnRpbWVcXHMqfX0vZ2ksIG1vbWVudCgpLmZvcm1hdChcIkhIOm1tXCIpKVxuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKnRpdGxlXFxzKn19L2dpLCBmaWxlbmFtZSlcbiAgICAgICAgICAgIC5yZXBsYWNlKC97e1xccyooZGF0ZXx0aW1lKVxccyooKFsrLV1cXGQrKShbeXFtd2Roc10pKT9cXHMqKDouKz8pP319L2dpLCAoXywgX3RpbWVPckRhdGUsIGNhbGMsIHRpbWVEZWx0YSwgdW5pdCwgbW9tZW50Rm9ybWF0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSBtb21lbnQoKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREYXRlID0gZGF0ZS5jbG9uZSgpLnNldCh7XG4gICAgICAgICAgICAgICAgaG91cjogbm93LmdldChcImhvdXJcIiksXG4gICAgICAgICAgICAgICAgbWludXRlOiBub3cuZ2V0KFwibWludXRlXCIpLFxuICAgICAgICAgICAgICAgIHNlY29uZDogbm93LmdldChcInNlY29uZFwiKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGNhbGMpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50RGF0ZS5hZGQocGFyc2VJbnQodGltZURlbHRhLCAxMCksIHVuaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1vbWVudEZvcm1hdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50RGF0ZS5mb3JtYXQobW9tZW50Rm9ybWF0LnN1YnN0cmluZygxKS50cmltKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnREYXRlLmZvcm1hdChmb3JtYXQpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKnllc3RlcmRheVxccyp9fS9naSwgZGF0ZS5jbG9uZSgpLnN1YnRyYWN0KDEsIFwiZGF5XCIpLmZvcm1hdChmb3JtYXQpKVxuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKnRvbW9ycm93XFxzKn19L2dpLCBkYXRlLmNsb25lKCkuYWRkKDEsIFwiZFwiKS5mb3JtYXQoZm9ybWF0KSkpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICBhcHAuZm9sZE1hbmFnZXIuc2F2ZShjcmVhdGVkRmlsZSwgSUZvbGRJbmZvKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZWRGaWxlO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgZmlsZTogJyR7bm9ybWFsaXplZFBhdGh9J2AsIGVycik7XG4gICAgICAgIG5ldyBvYnNpZGlhbi5Ob3RpY2UoXCJVbmFibGUgdG8gY3JlYXRlIG5ldyBmaWxlLlwiKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXREYWlseU5vdGUoZGF0ZSwgZGFpbHlOb3Rlcykge1xuICAgIHJldHVybiBkYWlseU5vdGVzW2dldERhdGVVSUQoZGF0ZSwgXCJkYXlcIildID8/IG51bGw7XG59XG5mdW5jdGlvbiBnZXRBbGxEYWlseU5vdGVzKCkge1xuICAgIC8qKlxuICAgICAqIEZpbmQgYWxsIGRhaWx5IG5vdGVzIGluIHRoZSBkYWlseSBub3RlIGZvbGRlclxuICAgICAqL1xuICAgIGNvbnN0IHsgdmF1bHQgfSA9IHdpbmRvdy5hcHA7XG4gICAgY29uc3QgeyBmb2xkZXIgfSA9IGdldERhaWx5Tm90ZVNldHRpbmdzKCk7XG4gICAgY29uc3QgZGFpbHlOb3Rlc0ZvbGRlciA9IHZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChvYnNpZGlhbi5ub3JtYWxpemVQYXRoKGZvbGRlcikpO1xuICAgIGlmICghZGFpbHlOb3Rlc0ZvbGRlcikge1xuICAgICAgICB0aHJvdyBuZXcgRGFpbHlOb3Rlc0ZvbGRlck1pc3NpbmdFcnJvcihcIkZhaWxlZCB0byBmaW5kIGRhaWx5IG5vdGVzIGZvbGRlclwiKTtcbiAgICB9XG4gICAgY29uc3QgZGFpbHlOb3RlcyA9IHt9O1xuICAgIG9ic2lkaWFuLlZhdWx0LnJlY3Vyc2VDaGlsZHJlbihkYWlseU5vdGVzRm9sZGVyLCAobm90ZSkgPT4ge1xuICAgICAgICBpZiAobm90ZSBpbnN0YW5jZW9mIG9ic2lkaWFuLlRGaWxlKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRlID0gZ2V0RGF0ZUZyb21GaWxlKG5vdGUsIFwiZGF5XCIpO1xuICAgICAgICAgICAgaWYgKGRhdGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRlU3RyaW5nID0gZ2V0RGF0ZVVJRChkYXRlLCBcImRheVwiKTtcbiAgICAgICAgICAgICAgICBkYWlseU5vdGVzW2RhdGVTdHJpbmddID0gbm90ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBkYWlseU5vdGVzO1xufVxuXG5jbGFzcyBXZWVrbHlOb3Rlc0ZvbGRlck1pc3NpbmdFcnJvciBleHRlbmRzIEVycm9yIHtcbn1cbmZ1bmN0aW9uIGdldERheXNPZldlZWsoKSB7XG4gICAgY29uc3QgeyBtb21lbnQgfSA9IHdpbmRvdztcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGxldCB3ZWVrU3RhcnQgPSBtb21lbnQubG9jYWxlRGF0YSgpLl93ZWVrLmRvdztcbiAgICBjb25zdCBkYXlzT2ZXZWVrID0gW1xuICAgICAgICBcInN1bmRheVwiLFxuICAgICAgICBcIm1vbmRheVwiLFxuICAgICAgICBcInR1ZXNkYXlcIixcbiAgICAgICAgXCJ3ZWRuZXNkYXlcIixcbiAgICAgICAgXCJ0aHVyc2RheVwiLFxuICAgICAgICBcImZyaWRheVwiLFxuICAgICAgICBcInNhdHVyZGF5XCIsXG4gICAgXTtcbiAgICB3aGlsZSAod2Vla1N0YXJ0KSB7XG4gICAgICAgIGRheXNPZldlZWsucHVzaChkYXlzT2ZXZWVrLnNoaWZ0KCkpO1xuICAgICAgICB3ZWVrU3RhcnQtLTtcbiAgICB9XG4gICAgcmV0dXJuIGRheXNPZldlZWs7XG59XG5mdW5jdGlvbiBnZXREYXlPZldlZWtOdW1lcmljYWxWYWx1ZShkYXlPZldlZWtOYW1lKSB7XG4gICAgcmV0dXJuIGdldERheXNPZldlZWsoKS5pbmRleE9mKGRheU9mV2Vla05hbWUudG9Mb3dlckNhc2UoKSk7XG59XG5hc3luYyBmdW5jdGlvbiBjcmVhdGVXZWVrbHlOb3RlKGRhdGUpIHtcbiAgICBjb25zdCB7IHZhdWx0IH0gPSB3aW5kb3cuYXBwO1xuICAgIGNvbnN0IHsgdGVtcGxhdGUsIGZvcm1hdCwgZm9sZGVyIH0gPSBnZXRXZWVrbHlOb3RlU2V0dGluZ3MoKTtcbiAgICBjb25zdCBbdGVtcGxhdGVDb250ZW50cywgSUZvbGRJbmZvXSA9IGF3YWl0IGdldFRlbXBsYXRlSW5mbyh0ZW1wbGF0ZSk7XG4gICAgY29uc3QgZmlsZW5hbWUgPSBkYXRlLmZvcm1hdChmb3JtYXQpO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRQYXRoID0gYXdhaXQgZ2V0Tm90ZVBhdGgoZm9sZGVyLCBmaWxlbmFtZSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY3JlYXRlZEZpbGUgPSBhd2FpdCB2YXVsdC5jcmVhdGUobm9ybWFsaXplZFBhdGgsIHRlbXBsYXRlQ29udGVudHNcbiAgICAgICAgICAgIC5yZXBsYWNlKC97e1xccyooZGF0ZXx0aW1lKVxccyooKFsrLV1cXGQrKShbeXFtd2Roc10pKT9cXHMqKDouKz8pP319L2dpLCAoXywgX3RpbWVPckRhdGUsIGNhbGMsIHRpbWVEZWx0YSwgdW5pdCwgbW9tZW50Rm9ybWF0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSB3aW5kb3cubW9tZW50KCk7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IGRhdGUuY2xvbmUoKS5zZXQoe1xuICAgICAgICAgICAgICAgIGhvdXI6IG5vdy5nZXQoXCJob3VyXCIpLFxuICAgICAgICAgICAgICAgIG1pbnV0ZTogbm93LmdldChcIm1pbnV0ZVwiKSxcbiAgICAgICAgICAgICAgICBzZWNvbmQ6IG5vdy5nZXQoXCJzZWNvbmRcIiksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChjYWxjKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudERhdGUuYWRkKHBhcnNlSW50KHRpbWVEZWx0YSwgMTApLCB1bml0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtb21lbnRGb3JtYXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudERhdGUuZm9ybWF0KG1vbWVudEZvcm1hdC5zdWJzdHJpbmcoMSkudHJpbSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50RGF0ZS5mb3JtYXQoZm9ybWF0KTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5yZXBsYWNlKC97e1xccyp0aXRsZVxccyp9fS9naSwgZmlsZW5hbWUpXG4gICAgICAgICAgICAucmVwbGFjZSgve3tcXHMqdGltZVxccyp9fS9naSwgd2luZG93Lm1vbWVudCgpLmZvcm1hdChcIkhIOm1tXCIpKVxuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKihzdW5kYXl8bW9uZGF5fHR1ZXNkYXl8d2VkbmVzZGF5fHRodXJzZGF5fGZyaWRheXxzYXR1cmRheSlcXHMqOiguKj8pfX0vZ2ksIChfLCBkYXlPZldlZWssIG1vbWVudEZvcm1hdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGF5ID0gZ2V0RGF5T2ZXZWVrTnVtZXJpY2FsVmFsdWUoZGF5T2ZXZWVrKTtcbiAgICAgICAgICAgIHJldHVybiBkYXRlLndlZWtkYXkoZGF5KS5mb3JtYXQobW9tZW50Rm9ybWF0LnRyaW0oKSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgd2luZG93LmFwcC5mb2xkTWFuYWdlci5zYXZlKGNyZWF0ZWRGaWxlLCBJRm9sZEluZm8pO1xuICAgICAgICByZXR1cm4gY3JlYXRlZEZpbGU7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGNyZWF0ZSBmaWxlOiAnJHtub3JtYWxpemVkUGF0aH0nYCwgZXJyKTtcbiAgICAgICAgbmV3IG9ic2lkaWFuLk5vdGljZShcIlVuYWJsZSB0byBjcmVhdGUgbmV3IGZpbGUuXCIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFdlZWtseU5vdGUoZGF0ZSwgd2Vla2x5Tm90ZXMpIHtcbiAgICByZXR1cm4gd2Vla2x5Tm90ZXNbZ2V0RGF0ZVVJRChkYXRlLCBcIndlZWtcIildID8/IG51bGw7XG59XG5mdW5jdGlvbiBnZXRBbGxXZWVrbHlOb3RlcygpIHtcbiAgICBjb25zdCB3ZWVrbHlOb3RlcyA9IHt9O1xuICAgIGlmICghYXBwSGFzV2Vla2x5Tm90ZXNQbHVnaW5Mb2FkZWQoKSkge1xuICAgICAgICByZXR1cm4gd2Vla2x5Tm90ZXM7XG4gICAgfVxuICAgIGNvbnN0IHsgdmF1bHQgfSA9IHdpbmRvdy5hcHA7XG4gICAgY29uc3QgeyBmb2xkZXIgfSA9IGdldFdlZWtseU5vdGVTZXR0aW5ncygpO1xuICAgIGNvbnN0IHdlZWtseU5vdGVzRm9sZGVyID0gdmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG9ic2lkaWFuLm5vcm1hbGl6ZVBhdGgoZm9sZGVyKSk7XG4gICAgaWYgKCF3ZWVrbHlOb3Rlc0ZvbGRlcikge1xuICAgICAgICB0aHJvdyBuZXcgV2Vla2x5Tm90ZXNGb2xkZXJNaXNzaW5nRXJyb3IoXCJGYWlsZWQgdG8gZmluZCB3ZWVrbHkgbm90ZXMgZm9sZGVyXCIpO1xuICAgIH1cbiAgICBvYnNpZGlhbi5WYXVsdC5yZWN1cnNlQ2hpbGRyZW4od2Vla2x5Tm90ZXNGb2xkZXIsIChub3RlKSA9PiB7XG4gICAgICAgIGlmIChub3RlIGluc3RhbmNlb2Ygb2JzaWRpYW4uVEZpbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBnZXREYXRlRnJvbUZpbGUobm90ZSwgXCJ3ZWVrXCIpO1xuICAgICAgICAgICAgaWYgKGRhdGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRlU3RyaW5nID0gZ2V0RGF0ZVVJRChkYXRlLCBcIndlZWtcIik7XG4gICAgICAgICAgICAgICAgd2Vla2x5Tm90ZXNbZGF0ZVN0cmluZ10gPSBub3RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHdlZWtseU5vdGVzO1xufVxuXG5jbGFzcyBNb250aGx5Tm90ZXNGb2xkZXJNaXNzaW5nRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gbWltaWNzIHRoZSBiZWhhdmlvciBvZiB0aGUgZGFpbHktbm90ZXMgcGx1Z2luXG4gKiBzbyBpdCB3aWxsIHJlcGxhY2Uge3tkYXRlfX0sIHt7dGl0bGV9fSwgYW5kIHt7dGltZX19IHdpdGggdGhlXG4gKiBmb3JtYXR0ZWQgdGltZXN0YW1wLlxuICpcbiAqIE5vdGU6IGl0IGhhcyBhbiBhZGRlZCBib251cyB0aGF0IGl0J3Mgbm90ICd0b2RheScgc3BlY2lmaWMuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU1vbnRobHlOb3RlKGRhdGUpIHtcbiAgICBjb25zdCB7IHZhdWx0IH0gPSB3aW5kb3cuYXBwO1xuICAgIGNvbnN0IHsgdGVtcGxhdGUsIGZvcm1hdCwgZm9sZGVyIH0gPSBnZXRNb250aGx5Tm90ZVNldHRpbmdzKCk7XG4gICAgY29uc3QgW3RlbXBsYXRlQ29udGVudHMsIElGb2xkSW5mb10gPSBhd2FpdCBnZXRUZW1wbGF0ZUluZm8odGVtcGxhdGUpO1xuICAgIGNvbnN0IGZpbGVuYW1lID0gZGF0ZS5mb3JtYXQoZm9ybWF0KTtcbiAgICBjb25zdCBub3JtYWxpemVkUGF0aCA9IGF3YWl0IGdldE5vdGVQYXRoKGZvbGRlciwgZmlsZW5hbWUpO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNyZWF0ZWRGaWxlID0gYXdhaXQgdmF1bHQuY3JlYXRlKG5vcm1hbGl6ZWRQYXRoLCB0ZW1wbGF0ZUNvbnRlbnRzXG4gICAgICAgICAgICAucmVwbGFjZSgve3tcXHMqKGRhdGV8dGltZSlcXHMqKChbKy1dXFxkKykoW3lxbXdkaHNdKSk/XFxzKig6Lis/KT99fS9naSwgKF8sIF90aW1lT3JEYXRlLCBjYWxjLCB0aW1lRGVsdGEsIHVuaXQsIG1vbWVudEZvcm1hdCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgbm93ID0gd2luZG93Lm1vbWVudCgpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudERhdGUgPSBkYXRlLmNsb25lKCkuc2V0KHtcbiAgICAgICAgICAgICAgICBob3VyOiBub3cuZ2V0KFwiaG91clwiKSxcbiAgICAgICAgICAgICAgICBtaW51dGU6IG5vdy5nZXQoXCJtaW51dGVcIiksXG4gICAgICAgICAgICAgICAgc2Vjb25kOiBub3cuZ2V0KFwic2Vjb25kXCIpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoY2FsYykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnREYXRlLmFkZChwYXJzZUludCh0aW1lRGVsdGEsIDEwKSwgdW5pdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobW9tZW50Rm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnREYXRlLmZvcm1hdChtb21lbnRGb3JtYXQuc3Vic3RyaW5nKDEpLnRyaW0oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudERhdGUuZm9ybWF0KGZvcm1hdCk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAucmVwbGFjZSgve3tcXHMqZGF0ZVxccyp9fS9naSwgZmlsZW5hbWUpXG4gICAgICAgICAgICAucmVwbGFjZSgve3tcXHMqdGltZVxccyp9fS9naSwgd2luZG93Lm1vbWVudCgpLmZvcm1hdChcIkhIOm1tXCIpKVxuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKnRpdGxlXFxzKn19L2dpLCBmaWxlbmFtZSkpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICB3aW5kb3cuYXBwLmZvbGRNYW5hZ2VyLnNhdmUoY3JlYXRlZEZpbGUsIElGb2xkSW5mbyk7XG4gICAgICAgIHJldHVybiBjcmVhdGVkRmlsZTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gY3JlYXRlIGZpbGU6ICcke25vcm1hbGl6ZWRQYXRofSdgLCBlcnIpO1xuICAgICAgICBuZXcgb2JzaWRpYW4uTm90aWNlKFwiVW5hYmxlIHRvIGNyZWF0ZSBuZXcgZmlsZS5cIik7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0TW9udGhseU5vdGUoZGF0ZSwgbW9udGhseU5vdGVzKSB7XG4gICAgcmV0dXJuIG1vbnRobHlOb3Rlc1tnZXREYXRlVUlEKGRhdGUsIFwibW9udGhcIildID8/IG51bGw7XG59XG5mdW5jdGlvbiBnZXRBbGxNb250aGx5Tm90ZXMoKSB7XG4gICAgY29uc3QgbW9udGhseU5vdGVzID0ge307XG4gICAgaWYgKCFhcHBIYXNNb250aGx5Tm90ZXNQbHVnaW5Mb2FkZWQoKSkge1xuICAgICAgICByZXR1cm4gbW9udGhseU5vdGVzO1xuICAgIH1cbiAgICBjb25zdCB7IHZhdWx0IH0gPSB3aW5kb3cuYXBwO1xuICAgIGNvbnN0IHsgZm9sZGVyIH0gPSBnZXRNb250aGx5Tm90ZVNldHRpbmdzKCk7XG4gICAgY29uc3QgbW9udGhseU5vdGVzRm9sZGVyID0gdmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG9ic2lkaWFuLm5vcm1hbGl6ZVBhdGgoZm9sZGVyKSk7XG4gICAgaWYgKCFtb250aGx5Tm90ZXNGb2xkZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1vbnRobHlOb3Rlc0ZvbGRlck1pc3NpbmdFcnJvcihcIkZhaWxlZCB0byBmaW5kIG1vbnRobHkgbm90ZXMgZm9sZGVyXCIpO1xuICAgIH1cbiAgICBvYnNpZGlhbi5WYXVsdC5yZWN1cnNlQ2hpbGRyZW4obW9udGhseU5vdGVzRm9sZGVyLCAobm90ZSkgPT4ge1xuICAgICAgICBpZiAobm90ZSBpbnN0YW5jZW9mIG9ic2lkaWFuLlRGaWxlKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRlID0gZ2V0RGF0ZUZyb21GaWxlKG5vdGUsIFwibW9udGhcIik7XG4gICAgICAgICAgICBpZiAoZGF0ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGVTdHJpbmcgPSBnZXREYXRlVUlEKGRhdGUsIFwibW9udGhcIik7XG4gICAgICAgICAgICAgICAgbW9udGhseU5vdGVzW2RhdGVTdHJpbmddID0gbm90ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBtb250aGx5Tm90ZXM7XG59XG5cbmNsYXNzIFF1YXJ0ZXJseU5vdGVzRm9sZGVyTWlzc2luZ0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xufVxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIG1pbWljcyB0aGUgYmVoYXZpb3Igb2YgdGhlIGRhaWx5LW5vdGVzIHBsdWdpblxuICogc28gaXQgd2lsbCByZXBsYWNlIHt7ZGF0ZX19LCB7e3RpdGxlfX0sIGFuZCB7e3RpbWV9fSB3aXRoIHRoZVxuICogZm9ybWF0dGVkIHRpbWVzdGFtcC5cbiAqXG4gKiBOb3RlOiBpdCBoYXMgYW4gYWRkZWQgYm9udXMgdGhhdCBpdCdzIG5vdCAndG9kYXknIHNwZWNpZmljLlxuICovXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVRdWFydGVybHlOb3RlKGRhdGUpIHtcbiAgICBjb25zdCB7IHZhdWx0IH0gPSB3aW5kb3cuYXBwO1xuICAgIGNvbnN0IHsgdGVtcGxhdGUsIGZvcm1hdCwgZm9sZGVyIH0gPSBnZXRRdWFydGVybHlOb3RlU2V0dGluZ3MoKTtcbiAgICBjb25zdCBbdGVtcGxhdGVDb250ZW50cywgSUZvbGRJbmZvXSA9IGF3YWl0IGdldFRlbXBsYXRlSW5mbyh0ZW1wbGF0ZSk7XG4gICAgY29uc3QgZmlsZW5hbWUgPSBkYXRlLmZvcm1hdChmb3JtYXQpO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRQYXRoID0gYXdhaXQgZ2V0Tm90ZVBhdGgoZm9sZGVyLCBmaWxlbmFtZSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY3JlYXRlZEZpbGUgPSBhd2FpdCB2YXVsdC5jcmVhdGUobm9ybWFsaXplZFBhdGgsIHRlbXBsYXRlQ29udGVudHNcbiAgICAgICAgICAgIC5yZXBsYWNlKC97e1xccyooZGF0ZXx0aW1lKVxccyooKFsrLV1cXGQrKShbeXFtd2Roc10pKT9cXHMqKDouKz8pP319L2dpLCAoXywgX3RpbWVPckRhdGUsIGNhbGMsIHRpbWVEZWx0YSwgdW5pdCwgbW9tZW50Rm9ybWF0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSB3aW5kb3cubW9tZW50KCk7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IGRhdGUuY2xvbmUoKS5zZXQoe1xuICAgICAgICAgICAgICAgIGhvdXI6IG5vdy5nZXQoXCJob3VyXCIpLFxuICAgICAgICAgICAgICAgIG1pbnV0ZTogbm93LmdldChcIm1pbnV0ZVwiKSxcbiAgICAgICAgICAgICAgICBzZWNvbmQ6IG5vdy5nZXQoXCJzZWNvbmRcIiksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChjYWxjKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudERhdGUuYWRkKHBhcnNlSW50KHRpbWVEZWx0YSwgMTApLCB1bml0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtb21lbnRGb3JtYXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudERhdGUuZm9ybWF0KG1vbWVudEZvcm1hdC5zdWJzdHJpbmcoMSkudHJpbSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50RGF0ZS5mb3JtYXQoZm9ybWF0KTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5yZXBsYWNlKC97e1xccypkYXRlXFxzKn19L2dpLCBmaWxlbmFtZSlcbiAgICAgICAgICAgIC5yZXBsYWNlKC97e1xccyp0aW1lXFxzKn19L2dpLCB3aW5kb3cubW9tZW50KCkuZm9ybWF0KFwiSEg6bW1cIikpXG4gICAgICAgICAgICAucmVwbGFjZSgve3tcXHMqdGl0bGVcXHMqfX0vZ2ksIGZpbGVuYW1lKSk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIHdpbmRvdy5hcHAuZm9sZE1hbmFnZXIuc2F2ZShjcmVhdGVkRmlsZSwgSUZvbGRJbmZvKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZWRGaWxlO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgZmlsZTogJyR7bm9ybWFsaXplZFBhdGh9J2AsIGVycik7XG4gICAgICAgIG5ldyBvYnNpZGlhbi5Ob3RpY2UoXCJVbmFibGUgdG8gY3JlYXRlIG5ldyBmaWxlLlwiKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRRdWFydGVybHlOb3RlKGRhdGUsIHF1YXJ0ZXJseSkge1xuICAgIHJldHVybiBxdWFydGVybHlbZ2V0RGF0ZVVJRChkYXRlLCBcInF1YXJ0ZXJcIildID8/IG51bGw7XG59XG5mdW5jdGlvbiBnZXRBbGxRdWFydGVybHlOb3RlcygpIHtcbiAgICBjb25zdCBxdWFydGVybHkgPSB7fTtcbiAgICBpZiAoIWFwcEhhc1F1YXJ0ZXJseU5vdGVzUGx1Z2luTG9hZGVkKCkpIHtcbiAgICAgICAgcmV0dXJuIHF1YXJ0ZXJseTtcbiAgICB9XG4gICAgY29uc3QgeyB2YXVsdCB9ID0gd2luZG93LmFwcDtcbiAgICBjb25zdCB7IGZvbGRlciB9ID0gZ2V0UXVhcnRlcmx5Tm90ZVNldHRpbmdzKCk7XG4gICAgY29uc3QgcXVhcnRlcmx5Rm9sZGVyID0gdmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG9ic2lkaWFuLm5vcm1hbGl6ZVBhdGgoZm9sZGVyKSk7XG4gICAgaWYgKCFxdWFydGVybHlGb2xkZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFF1YXJ0ZXJseU5vdGVzRm9sZGVyTWlzc2luZ0Vycm9yKFwiRmFpbGVkIHRvIGZpbmQgcXVhcnRlcmx5IG5vdGVzIGZvbGRlclwiKTtcbiAgICB9XG4gICAgb2JzaWRpYW4uVmF1bHQucmVjdXJzZUNoaWxkcmVuKHF1YXJ0ZXJseUZvbGRlciwgKG5vdGUpID0+IHtcbiAgICAgICAgaWYgKG5vdGUgaW5zdGFuY2VvZiBvYnNpZGlhbi5URmlsZSkge1xuICAgICAgICAgICAgY29uc3QgZGF0ZSA9IGdldERhdGVGcm9tRmlsZShub3RlLCBcInF1YXJ0ZXJcIik7XG4gICAgICAgICAgICBpZiAoZGF0ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGVTdHJpbmcgPSBnZXREYXRlVUlEKGRhdGUsIFwicXVhcnRlclwiKTtcbiAgICAgICAgICAgICAgICBxdWFydGVybHlbZGF0ZVN0cmluZ10gPSBub3RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHF1YXJ0ZXJseTtcbn1cblxuY2xhc3MgWWVhcmx5Tm90ZXNGb2xkZXJNaXNzaW5nRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gbWltaWNzIHRoZSBiZWhhdmlvciBvZiB0aGUgZGFpbHktbm90ZXMgcGx1Z2luXG4gKiBzbyBpdCB3aWxsIHJlcGxhY2Uge3tkYXRlfX0sIHt7dGl0bGV9fSwgYW5kIHt7dGltZX19IHdpdGggdGhlXG4gKiBmb3JtYXR0ZWQgdGltZXN0YW1wLlxuICpcbiAqIE5vdGU6IGl0IGhhcyBhbiBhZGRlZCBib251cyB0aGF0IGl0J3Mgbm90ICd0b2RheScgc3BlY2lmaWMuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVllYXJseU5vdGUoZGF0ZSkge1xuICAgIGNvbnN0IHsgdmF1bHQgfSA9IHdpbmRvdy5hcHA7XG4gICAgY29uc3QgeyB0ZW1wbGF0ZSwgZm9ybWF0LCBmb2xkZXIgfSA9IGdldFllYXJseU5vdGVTZXR0aW5ncygpO1xuICAgIGNvbnN0IFt0ZW1wbGF0ZUNvbnRlbnRzLCBJRm9sZEluZm9dID0gYXdhaXQgZ2V0VGVtcGxhdGVJbmZvKHRlbXBsYXRlKTtcbiAgICBjb25zdCBmaWxlbmFtZSA9IGRhdGUuZm9ybWF0KGZvcm1hdCk7XG4gICAgY29uc3Qgbm9ybWFsaXplZFBhdGggPSBhd2FpdCBnZXROb3RlUGF0aChmb2xkZXIsIGZpbGVuYW1lKTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBjcmVhdGVkRmlsZSA9IGF3YWl0IHZhdWx0LmNyZWF0ZShub3JtYWxpemVkUGF0aCwgdGVtcGxhdGVDb250ZW50c1xuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKihkYXRlfHRpbWUpXFxzKigoWystXVxcZCspKFt5cW13ZGhzXSkpP1xccyooOi4rPyk/fX0vZ2ksIChfLCBfdGltZU9yRGF0ZSwgY2FsYywgdGltZURlbHRhLCB1bml0LCBtb21lbnRGb3JtYXQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IHdpbmRvdy5tb21lbnQoKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREYXRlID0gZGF0ZS5jbG9uZSgpLnNldCh7XG4gICAgICAgICAgICAgICAgaG91cjogbm93LmdldChcImhvdXJcIiksXG4gICAgICAgICAgICAgICAgbWludXRlOiBub3cuZ2V0KFwibWludXRlXCIpLFxuICAgICAgICAgICAgICAgIHNlY29uZDogbm93LmdldChcInNlY29uZFwiKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGNhbGMpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50RGF0ZS5hZGQocGFyc2VJbnQodGltZURlbHRhLCAxMCksIHVuaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1vbWVudEZvcm1hdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50RGF0ZS5mb3JtYXQobW9tZW50Rm9ybWF0LnN1YnN0cmluZygxKS50cmltKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnREYXRlLmZvcm1hdChmb3JtYXQpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKmRhdGVcXHMqfX0vZ2ksIGZpbGVuYW1lKVxuICAgICAgICAgICAgLnJlcGxhY2UoL3t7XFxzKnRpbWVcXHMqfX0vZ2ksIHdpbmRvdy5tb21lbnQoKS5mb3JtYXQoXCJISDptbVwiKSlcbiAgICAgICAgICAgIC5yZXBsYWNlKC97e1xccyp0aXRsZVxccyp9fS9naSwgZmlsZW5hbWUpKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgd2luZG93LmFwcC5mb2xkTWFuYWdlci5zYXZlKGNyZWF0ZWRGaWxlLCBJRm9sZEluZm8pO1xuICAgICAgICByZXR1cm4gY3JlYXRlZEZpbGU7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGNyZWF0ZSBmaWxlOiAnJHtub3JtYWxpemVkUGF0aH0nYCwgZXJyKTtcbiAgICAgICAgbmV3IG9ic2lkaWFuLk5vdGljZShcIlVuYWJsZSB0byBjcmVhdGUgbmV3IGZpbGUuXCIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFllYXJseU5vdGUoZGF0ZSwgeWVhcmx5Tm90ZXMpIHtcbiAgICByZXR1cm4geWVhcmx5Tm90ZXNbZ2V0RGF0ZVVJRChkYXRlLCBcInllYXJcIildID8/IG51bGw7XG59XG5mdW5jdGlvbiBnZXRBbGxZZWFybHlOb3RlcygpIHtcbiAgICBjb25zdCB5ZWFybHlOb3RlcyA9IHt9O1xuICAgIGlmICghYXBwSGFzWWVhcmx5Tm90ZXNQbHVnaW5Mb2FkZWQoKSkge1xuICAgICAgICByZXR1cm4geWVhcmx5Tm90ZXM7XG4gICAgfVxuICAgIGNvbnN0IHsgdmF1bHQgfSA9IHdpbmRvdy5hcHA7XG4gICAgY29uc3QgeyBmb2xkZXIgfSA9IGdldFllYXJseU5vdGVTZXR0aW5ncygpO1xuICAgIGNvbnN0IHllYXJseU5vdGVzRm9sZGVyID0gdmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG9ic2lkaWFuLm5vcm1hbGl6ZVBhdGgoZm9sZGVyKSk7XG4gICAgaWYgKCF5ZWFybHlOb3Rlc0ZvbGRlcikge1xuICAgICAgICB0aHJvdyBuZXcgWWVhcmx5Tm90ZXNGb2xkZXJNaXNzaW5nRXJyb3IoXCJGYWlsZWQgdG8gZmluZCB5ZWFybHkgbm90ZXMgZm9sZGVyXCIpO1xuICAgIH1cbiAgICBvYnNpZGlhbi5WYXVsdC5yZWN1cnNlQ2hpbGRyZW4oeWVhcmx5Tm90ZXNGb2xkZXIsIChub3RlKSA9PiB7XG4gICAgICAgIGlmIChub3RlIGluc3RhbmNlb2Ygb2JzaWRpYW4uVEZpbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBnZXREYXRlRnJvbUZpbGUobm90ZSwgXCJ5ZWFyXCIpO1xuICAgICAgICAgICAgaWYgKGRhdGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRlU3RyaW5nID0gZ2V0RGF0ZVVJRChkYXRlLCBcInllYXJcIik7XG4gICAgICAgICAgICAgICAgeWVhcmx5Tm90ZXNbZGF0ZVN0cmluZ10gPSBub3RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHllYXJseU5vdGVzO1xufVxuXG5mdW5jdGlvbiBhcHBIYXNEYWlseU5vdGVzUGx1Z2luTG9hZGVkKCkge1xuICAgIGNvbnN0IHsgYXBwIH0gPSB3aW5kb3c7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBjb25zdCBkYWlseU5vdGVzUGx1Z2luID0gYXBwLmludGVybmFsUGx1Z2lucy5wbHVnaW5zW1wiZGFpbHktbm90ZXNcIl07XG4gICAgaWYgKGRhaWx5Tm90ZXNQbHVnaW4gJiYgZGFpbHlOb3Rlc1BsdWdpbi5lbmFibGVkKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IHBlcmlvZGljTm90ZXMgPSBhcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKTtcbiAgICByZXR1cm4gcGVyaW9kaWNOb3RlcyAmJiBwZXJpb2RpY05vdGVzLnNldHRpbmdzPy5kYWlseT8uZW5hYmxlZDtcbn1cbi8qKlxuICogWFhYOiBcIldlZWtseSBOb3Rlc1wiIGxpdmUgaW4gZWl0aGVyIHRoZSBDYWxlbmRhciBwbHVnaW4gb3IgdGhlIHBlcmlvZGljLW5vdGVzIHBsdWdpbi5cbiAqIENoZWNrIGJvdGggdW50aWwgdGhlIHdlZWtseSBub3RlcyBmZWF0dXJlIGlzIHJlbW92ZWQgZnJvbSB0aGUgQ2FsZW5kYXIgcGx1Z2luLlxuICovXG5mdW5jdGlvbiBhcHBIYXNXZWVrbHlOb3Rlc1BsdWdpbkxvYWRlZCgpIHtcbiAgICBjb25zdCB7IGFwcCB9ID0gd2luZG93O1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgaWYgKGFwcC5wbHVnaW5zLmdldFBsdWdpbihcImNhbGVuZGFyXCIpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IHBlcmlvZGljTm90ZXMgPSBhcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKTtcbiAgICByZXR1cm4gcGVyaW9kaWNOb3RlcyAmJiBwZXJpb2RpY05vdGVzLnNldHRpbmdzPy53ZWVrbHk/LmVuYWJsZWQ7XG59XG5mdW5jdGlvbiBhcHBIYXNNb250aGx5Tm90ZXNQbHVnaW5Mb2FkZWQoKSB7XG4gICAgY29uc3QgeyBhcHAgfSA9IHdpbmRvdztcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IHBlcmlvZGljTm90ZXMgPSBhcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKTtcbiAgICByZXR1cm4gcGVyaW9kaWNOb3RlcyAmJiBwZXJpb2RpY05vdGVzLnNldHRpbmdzPy5tb250aGx5Py5lbmFibGVkO1xufVxuZnVuY3Rpb24gYXBwSGFzUXVhcnRlcmx5Tm90ZXNQbHVnaW5Mb2FkZWQoKSB7XG4gICAgY29uc3QgeyBhcHAgfSA9IHdpbmRvdztcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IHBlcmlvZGljTm90ZXMgPSBhcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKTtcbiAgICByZXR1cm4gcGVyaW9kaWNOb3RlcyAmJiBwZXJpb2RpY05vdGVzLnNldHRpbmdzPy5xdWFydGVybHk/LmVuYWJsZWQ7XG59XG5mdW5jdGlvbiBhcHBIYXNZZWFybHlOb3Rlc1BsdWdpbkxvYWRlZCgpIHtcbiAgICBjb25zdCB7IGFwcCB9ID0gd2luZG93O1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgY29uc3QgcGVyaW9kaWNOb3RlcyA9IGFwcC5wbHVnaW5zLmdldFBsdWdpbihcInBlcmlvZGljLW5vdGVzXCIpO1xuICAgIHJldHVybiBwZXJpb2RpY05vdGVzICYmIHBlcmlvZGljTm90ZXMuc2V0dGluZ3M/LnllYXJseT8uZW5hYmxlZDtcbn1cbmZ1bmN0aW9uIGdldFBlcmlvZGljTm90ZVNldHRpbmdzKGdyYW51bGFyaXR5KSB7XG4gICAgY29uc3QgZ2V0U2V0dGluZ3MgPSB7XG4gICAgICAgIGRheTogZ2V0RGFpbHlOb3RlU2V0dGluZ3MsXG4gICAgICAgIHdlZWs6IGdldFdlZWtseU5vdGVTZXR0aW5ncyxcbiAgICAgICAgbW9udGg6IGdldE1vbnRobHlOb3RlU2V0dGluZ3MsXG4gICAgICAgIHF1YXJ0ZXI6IGdldFF1YXJ0ZXJseU5vdGVTZXR0aW5ncyxcbiAgICAgICAgeWVhcjogZ2V0WWVhcmx5Tm90ZVNldHRpbmdzLFxuICAgIH1bZ3JhbnVsYXJpdHldO1xuICAgIHJldHVybiBnZXRTZXR0aW5ncygpO1xufVxuZnVuY3Rpb24gY3JlYXRlUGVyaW9kaWNOb3RlKGdyYW51bGFyaXR5LCBkYXRlKSB7XG4gICAgY29uc3QgY3JlYXRlRm4gPSB7XG4gICAgICAgIGRheTogY3JlYXRlRGFpbHlOb3RlLFxuICAgICAgICBtb250aDogY3JlYXRlTW9udGhseU5vdGUsXG4gICAgICAgIHdlZWs6IGNyZWF0ZVdlZWtseU5vdGUsXG4gICAgfTtcbiAgICByZXR1cm4gY3JlYXRlRm5bZ3JhbnVsYXJpdHldKGRhdGUpO1xufVxuXG5leHBvcnRzLkRFRkFVTFRfREFJTFlfTk9URV9GT1JNQVQgPSBERUZBVUxUX0RBSUxZX05PVEVfRk9STUFUO1xuZXhwb3J0cy5ERUZBVUxUX01PTlRITFlfTk9URV9GT1JNQVQgPSBERUZBVUxUX01PTlRITFlfTk9URV9GT1JNQVQ7XG5leHBvcnRzLkRFRkFVTFRfUVVBUlRFUkxZX05PVEVfRk9STUFUID0gREVGQVVMVF9RVUFSVEVSTFlfTk9URV9GT1JNQVQ7XG5leHBvcnRzLkRFRkFVTFRfV0VFS0xZX05PVEVfRk9STUFUID0gREVGQVVMVF9XRUVLTFlfTk9URV9GT1JNQVQ7XG5leHBvcnRzLkRFRkFVTFRfWUVBUkxZX05PVEVfRk9STUFUID0gREVGQVVMVF9ZRUFSTFlfTk9URV9GT1JNQVQ7XG5leHBvcnRzLmFwcEhhc0RhaWx5Tm90ZXNQbHVnaW5Mb2FkZWQgPSBhcHBIYXNEYWlseU5vdGVzUGx1Z2luTG9hZGVkO1xuZXhwb3J0cy5hcHBIYXNNb250aGx5Tm90ZXNQbHVnaW5Mb2FkZWQgPSBhcHBIYXNNb250aGx5Tm90ZXNQbHVnaW5Mb2FkZWQ7XG5leHBvcnRzLmFwcEhhc1F1YXJ0ZXJseU5vdGVzUGx1Z2luTG9hZGVkID0gYXBwSGFzUXVhcnRlcmx5Tm90ZXNQbHVnaW5Mb2FkZWQ7XG5leHBvcnRzLmFwcEhhc1dlZWtseU5vdGVzUGx1Z2luTG9hZGVkID0gYXBwSGFzV2Vla2x5Tm90ZXNQbHVnaW5Mb2FkZWQ7XG5leHBvcnRzLmFwcEhhc1llYXJseU5vdGVzUGx1Z2luTG9hZGVkID0gYXBwSGFzWWVhcmx5Tm90ZXNQbHVnaW5Mb2FkZWQ7XG5leHBvcnRzLmNyZWF0ZURhaWx5Tm90ZSA9IGNyZWF0ZURhaWx5Tm90ZTtcbmV4cG9ydHMuY3JlYXRlTW9udGhseU5vdGUgPSBjcmVhdGVNb250aGx5Tm90ZTtcbmV4cG9ydHMuY3JlYXRlUGVyaW9kaWNOb3RlID0gY3JlYXRlUGVyaW9kaWNOb3RlO1xuZXhwb3J0cy5jcmVhdGVRdWFydGVybHlOb3RlID0gY3JlYXRlUXVhcnRlcmx5Tm90ZTtcbmV4cG9ydHMuY3JlYXRlV2Vla2x5Tm90ZSA9IGNyZWF0ZVdlZWtseU5vdGU7XG5leHBvcnRzLmNyZWF0ZVllYXJseU5vdGUgPSBjcmVhdGVZZWFybHlOb3RlO1xuZXhwb3J0cy5nZXRBbGxEYWlseU5vdGVzID0gZ2V0QWxsRGFpbHlOb3RlcztcbmV4cG9ydHMuZ2V0QWxsTW9udGhseU5vdGVzID0gZ2V0QWxsTW9udGhseU5vdGVzO1xuZXhwb3J0cy5nZXRBbGxRdWFydGVybHlOb3RlcyA9IGdldEFsbFF1YXJ0ZXJseU5vdGVzO1xuZXhwb3J0cy5nZXRBbGxXZWVrbHlOb3RlcyA9IGdldEFsbFdlZWtseU5vdGVzO1xuZXhwb3J0cy5nZXRBbGxZZWFybHlOb3RlcyA9IGdldEFsbFllYXJseU5vdGVzO1xuZXhwb3J0cy5nZXREYWlseU5vdGUgPSBnZXREYWlseU5vdGU7XG5leHBvcnRzLmdldERhaWx5Tm90ZVNldHRpbmdzID0gZ2V0RGFpbHlOb3RlU2V0dGluZ3M7XG5leHBvcnRzLmdldERhdGVGcm9tRmlsZSA9IGdldERhdGVGcm9tRmlsZTtcbmV4cG9ydHMuZ2V0RGF0ZUZyb21QYXRoID0gZ2V0RGF0ZUZyb21QYXRoO1xuZXhwb3J0cy5nZXREYXRlVUlEID0gZ2V0RGF0ZVVJRDtcbmV4cG9ydHMuZ2V0TW9udGhseU5vdGUgPSBnZXRNb250aGx5Tm90ZTtcbmV4cG9ydHMuZ2V0TW9udGhseU5vdGVTZXR0aW5ncyA9IGdldE1vbnRobHlOb3RlU2V0dGluZ3M7XG5leHBvcnRzLmdldFBlcmlvZGljTm90ZVNldHRpbmdzID0gZ2V0UGVyaW9kaWNOb3RlU2V0dGluZ3M7XG5leHBvcnRzLmdldFF1YXJ0ZXJseU5vdGUgPSBnZXRRdWFydGVybHlOb3RlO1xuZXhwb3J0cy5nZXRRdWFydGVybHlOb3RlU2V0dGluZ3MgPSBnZXRRdWFydGVybHlOb3RlU2V0dGluZ3M7XG5leHBvcnRzLmdldFRlbXBsYXRlSW5mbyA9IGdldFRlbXBsYXRlSW5mbztcbmV4cG9ydHMuZ2V0V2Vla2x5Tm90ZSA9IGdldFdlZWtseU5vdGU7XG5leHBvcnRzLmdldFdlZWtseU5vdGVTZXR0aW5ncyA9IGdldFdlZWtseU5vdGVTZXR0aW5ncztcbmV4cG9ydHMuZ2V0WWVhcmx5Tm90ZSA9IGdldFllYXJseU5vdGU7XG5leHBvcnRzLmdldFllYXJseU5vdGVTZXR0aW5ncyA9IGdldFllYXJseU5vdGVTZXR0aW5ncztcbiIsICJpbXBvcnQgeyBQbHVnaW4sIFBvcywgVEZpbGUsIFdvcmtzcGFjZUxlYWYgfSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG4vLyBEYWlseSBOb3RlIEludGVyZmFjZVxyXG5pbXBvcnQgeyBnZXRBbGxEYWlseU5vdGVzLCBnZXREYWlseU5vdGUsIGdldERhdGVGcm9tRmlsZSwgSUdyYW51bGFyaXR5IH0gZnJvbSBcIm9ic2lkaWFuLWRhaWx5LW5vdGVzLWludGVyZmFjZVwiO1xyXG4vLyBtb21lbnQuanNcclxuaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCI7XHJcblxyXG5pbXBvcnQgeyBEYWlseU5vdGVPdXRsaW5lVmlldywgRGFpbHlOb3RlT3V0bGluZVZpZXdUeXBlIH0gZnJvbSAnc3JjL3ZpZXcnXHJcbmltcG9ydCB7IERhaWx5Tm90ZU91dGxpbmVTZXR0aW5nVGFiIH0gZnJvbSAnc3JjL3NldHRpbmcnXHJcblxyXG5cclxuXHJcbi8vIFx1OEEyRFx1NUI5QVx1OTgwNVx1NzZFRSBcclxuZXhwb3J0IGludGVyZmFjZSBEYWlseU5vdGVPdXRsaW5lU2V0dGluZ3Mge1xyXG5cdGluaXRpYWxTZWFyY2hUeXBlOiBzdHJpbmc7IC8vZm9yd2FyZCBvciBiYWNrd2FyZCBcdTcyNzlcdTVCOUFcdTY1RTVcdTMwNEJcdTMwODlcdTUyNERcdTY1QjlcdTYzQTJcdTdEMjJvclx1NUY1M1x1NjVFNVx1MzA0Qlx1MzA4OVx1NUY4Q1x1NjVCOVx1NjNBMlx1N0QyMlxyXG5cdG9mZnNldDogbnVtYmVyO1x0XHQvLyBcdTY3MkFcdTY3NjVcdTMwNkVcdTY1RTVcdTRFRDhcdTMwODJcdTU0MkJcdTMwODBcdTU4MzRcdTU0MDhcdTRGNTVcdTY1RTVcdTUyMDZcdTU0MkJcdTMwODFcdTMwOEJcdTMwNEIgbnVtYmVyIG9mIGZ1dHVyZSBkYXlzIHRvIHNob3cgXHJcblx0b25zZXQ6IHN0cmluZztcdFx0Ly8gXHU3Mjc5XHU1QjlBXHU2NUU1XHUzMDRCXHUzMDg5Zm9yd2FyZFx1MzA2Qlx1NjNBMlx1N0QyMlx1MzA1OVx1MzA4Qlx1NTgzNFx1NTQwOFx1MzA2RVx1OEQ3N1x1NzBCOVx1NjVFNSBvbnNldCBkYXRlXHJcblx0ZHVyYXRpb246e1xyXG5cdFx0ZGF5Om51bWJlcjtcclxuXHRcdHdlZWs6bnVtYmVyO1xyXG5cdFx0bW9udGg6bnVtYmVyO1xyXG5cdFx0cXVhcnRlcjpudW1iZXI7XHJcblx0XHR5ZWFyOm51bWJlcjtcclxuXHR9IC8vIFx1NjNBMlx1N0QyMlx1NjVFNVx1NjU3MCBudW1iZXIgb2YgZGF5cyB0byBzZWFyY2ggcGVyIHBhZ2VcclxuXHRzaG93RWxlbWVudHM6e1xyXG5cdFx0aGVhZGluZzogYm9vbGVhbjtcclxuXHRcdGxpbms6IGJvb2xlYW47XHJcblx0XHR0YWc6IGJvb2xlYW47XHJcblx0XHRsaXN0SXRlbXM6IGJvb2xlYW5cclxuXHR9O1xyXG5cdGhlYWRpbmdMZXZlbDogYm9vbGVhbltdO1xyXG5cdGFsbFJvb3RJdGVtczogYm9vbGVhbjtcclxuXHRhbGxUYXNrczogYm9vbGVhbjtcclxuXHR0YXNrT25seTogYm9vbGVhbjtcclxuXHRoaWRlQ29tcGxldGVkVGFza3M6IGJvb2xlYW47XHJcblx0ZGlzcGxheUZpbGVJbmZvOiBzdHJpbmc7IC8vIG5vbmUgfHwgbGluZXMgfHwgZGF5cyAgIGxlZ2FjeVxyXG5cdGRpc3BsYXlGaWxlSW5mb0RhaWx5OiBzdHJpbmc7IC8vIG5vbmUsbGluZXMsZGF5cyxkb3coZGF5IG9mIHRoZSB3ZWVrKSxkb3dzaG9ydCx3ZWVrbnVtYmVyLHRhZ1xyXG5cdGRpc3BsYXlGaWxlSW5mb1BlcmlvZGljOiBzdHJpbmc7IC8vIG5vbmUsbGluZXMsZGF5cyx0YWdcclxuXHJcblx0dmlld1Bvc2l0aW9uOiBzdHJpbmc7XHQvL3JpZ2h0IHx8IGxlZnQgfHwgdGFiIHx8IHNwbGl0IHx8IHBvcG91dCBcclxuXHJcblx0bWFya2Rvd25Pbmx5OiBib29sZWFuO1xyXG5cdGV4YWN0TWF0Y2hPbmx5OiBib29sZWFuO1xyXG5cclxuXHR3b3Jkc1RvSWdub3JlOntcdC8vZmlsdGVyXHJcblx0XHRoZWFkaW5nOiBzdHJpbmdbXTtcclxuXHRcdGxpbms6IHN0cmluZ1tdO1xyXG5cdFx0dGFnOiBzdHJpbmdbXTtcclxuXHRcdGxpc3RJdGVtczogc3RyaW5nW11cclxuXHR9O1xyXG5cclxuXHRpbmxpbmVQcmV2aWV3OiBib29sZWFuO1xyXG5cdHRvb2x0aXBQcmV2aWV3OiBib29sZWFuO1xyXG5cdHRvb2x0aXBQcmV2aWV3RGlyZWN0aW9uOiBzdHJpbmc7IC8vIGxlZnQgfHwgcmlnaHRcclxuXHJcblxyXG5cdGluY2x1ZGVPbmx5OiBzdHJpbmc7XHQvLyBub25lIHx8IGhlYWRpbmcsIGxpbmssIHRhZywgbGlzdEl0ZW1zXHJcblx0d29yZHNUb0luY2x1ZGU6IHN0cmluZ1tdO1xyXG5cdGluY2x1ZGVCZWdpbm5pbmc6IGJvb2xlYW47XHJcblxyXG5cdHByaW1lRWxlbWVudDogc3RyaW5nOyAvLyBub25lIHx8IGhlYWRpbmcsIGxpbmssIHRhZywgbGlzdEl0ZW1zXHJcblx0d29yZHNUb0V4Y2x1ZGU6e1xyXG5cdFx0aGVhZGluZzogc3RyaW5nW107XHJcblx0XHRsaW5rOiBzdHJpbmdbXTtcclxuXHRcdHRhZzogc3RyaW5nW107XHJcblx0XHRsaXN0SXRlbXM6IHN0cmluZ1tdXHJcblx0fTtcclxuXHR3b3Jkc1RvRXh0cmFjdDogc3RyaW5nO1xyXG5cclxuXHRpY29uOntcdC8vaWNvbiBmb3IgZWFjaCB0eXBlIG9mIGVsZW1lbnRcclxuXHRcdGhlYWRpbmc6IHN0cmluZztcclxuXHRcdGxpbms6IHN0cmluZztcclxuXHRcdHRhZzogc3RyaW5nO1xyXG5cdFx0bGlzdEl0ZW1zOiBzdHJpbmc7XHJcblx0XHRub3RlOiBzdHJpbmc7XHJcblx0XHR0YXNrOiBzdHJpbmc7XHJcblx0XHR0YXNrRG9uZTogc3RyaW5nO1xyXG5cdH07XHJcblxyXG5cdGN1c3RvbUljb246e1xyXG5cdFx0aGVhZGluZzogc3RyaW5nO1xyXG5cdFx0bGluazogc3RyaW5nO1xyXG5cdFx0dGFnOiBzdHJpbmc7XHJcblx0XHRsaXN0SXRlbXM6IHN0cmluZztcclxuXHRcdG5vdGU6IHN0cmluZztcclxuXHRcdHRhc2s6IHN0cmluZztcclxuXHRcdHRhc2tEb25lOiBzdHJpbmc7XHJcblx0fTtcclxuXHJcblx0aW5kZW50OntcclxuXHRcdGhlYWRpbmc6IGJvb2xlYW47XHJcblx0XHRsaW5rOiBib29sZWFuO1xyXG5cdFx0bGlzdEl0ZW1zOiBib29sZWFuO1xyXG5cdH07XHJcblx0aW5kZW50Rm9sbG93SGVhZGluZzogbnVtYmVyOyAvLyAwIGRvbid0IGZvbGxvdyAxOnNhbWUgbGV2ZWwgMjogbGV2ZWwrMVxyXG5cclxuXHRwcmVmaXg6e1xyXG5cdFx0aGVhZGluZzogc3RyaW5nO1xyXG5cdFx0bGluazogc3RyaW5nO1xyXG5cdFx0dGFnOiBzdHJpbmc7XHJcblx0XHRsaXN0SXRlbXM6IHN0cmluZztcclxuXHRcdHRhc2s6IHN0cmluZztcclxuXHRcdHRhc2tEb25lOiBzdHJpbmc7XHJcblx0fTtcclxuXHRyZXBlYXRIZWFkaW5nUHJlZml4OiBzdHJpbmc7IC8vIG5vbmUsIGxldmVsLCBsZXZlbC0xXHJcblx0YWRkQ2hlY2tib3hUZXh0OiBib29sZWFuO1xyXG5cclxuXHRwZXJpb2RpY05vdGVzRW5hYmxlZDogYm9vbGVhbjtcclxuXHRjYWxlbmRhclNldHNFbmFibGVkOiBib29sZWFuO1xyXG5cdGF0dGFjaFdlZWtseU5vdGVzTmFtZTogYm9vbGVhbjtcclxuXHJcblx0c2hvd0RlYnVnSW5mbzogYm9vbGVhbjtcclxufVxyXG5cclxuLy8gXHU4QTJEXHU1QjlBXHU5ODA1XHU3NkVFXHUzMEM3XHUzMEQ1XHUzMEE5XHUzMEVCXHUzMEM4XHJcbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBEYWlseU5vdGVPdXRsaW5lU2V0dGluZ3MgPSB7XHJcblx0aW5pdGlhbFNlYXJjaFR5cGU6ICdiYWNrd2FyZCcsXHJcblx0b2Zmc2V0OiA3LFxyXG5cdG9uc2V0OiAnMjAyMC0wMy0zMCcsXHJcblx0ZHVyYXRpb246IHtcclxuXHRcdGRheToyOCxcclxuXHRcdHdlZWs6MTIsXHJcblx0XHRtb250aDoxMixcclxuXHRcdHF1YXJ0ZXI6OCxcclxuXHRcdHllYXI6M1xyXG5cdH0sXHJcblx0c2hvd0VsZW1lbnRzOiB7XHJcblx0XHRoZWFkaW5nOiB0cnVlLFxyXG5cdFx0bGluazogdHJ1ZSxcclxuXHRcdHRhZzogdHJ1ZSxcclxuXHRcdGxpc3RJdGVtczogdHJ1ZVxyXG5cdH0sXHJcblx0XHJcblx0aGVhZGluZ0xldmVsOiBbdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgZmFsc2UsIGZhbHNlLCBmYWxzZV0sXHJcblx0YWxsUm9vdEl0ZW1zOiBmYWxzZSxcclxuXHRhbGxUYXNrczogdHJ1ZSxcclxuXHR0YXNrT25seTogZmFsc2UsXHJcblx0aGlkZUNvbXBsZXRlZFRhc2tzOiBmYWxzZSxcclxuXHRkaXNwbGF5RmlsZUluZm86ICdsaW5lcycsXHJcblx0ZGlzcGxheUZpbGVJbmZvRGFpbHk6ICdsaW5lcycsIC8vIG5vbmUsbGluZXMsZGF5cyxkb3coZGF5IG9mIHRoZSB3ZWVrKSxkb3dzaG9ydCx3ZWVrbnVtYmVyLHRhZ1xyXG5cdGRpc3BsYXlGaWxlSW5mb1BlcmlvZGljOiAnbGluZXMnLCAvLyBub25lLGxpbmVzLGRheXMsdGFnXHJcblx0dmlld1Bvc2l0aW9uOiAncmlnaHQnLFxyXG5cclxuXHRtYXJrZG93bk9ubHk6IHRydWUsXHJcblx0ZXhhY3RNYXRjaE9ubHk6IGZhbHNlLFxyXG5cclxuXHR3b3Jkc1RvSWdub3JlOntcclxuXHRcdGhlYWRpbmc6IFtdLFxyXG5cdFx0bGluazogW10sXHJcblx0XHR0YWc6IFtdLFxyXG5cdFx0bGlzdEl0ZW1zOiBbXVxyXG5cdH0sXHJcblxyXG5cdGlubGluZVByZXZpZXc6IHRydWUsXHJcblx0dG9vbHRpcFByZXZpZXc6IHRydWUsXHJcblx0dG9vbHRpcFByZXZpZXdEaXJlY3Rpb246ICdsZWZ0JyxcclxuXHJcblx0XHJcblx0aW5jbHVkZU9ubHk6ICdub25lJyxcclxuXHR3b3Jkc1RvSW5jbHVkZTogW10sXHJcblx0aW5jbHVkZUJlZ2lubmluZzogdHJ1ZSxcclxuXHJcblx0cHJpbWVFbGVtZW50OiAnbm9uZScsXHJcblx0d29yZHNUb0V4Y2x1ZGU6e1xyXG5cdFx0aGVhZGluZzogW10sXHJcblx0XHRsaW5rOiBbXSxcclxuXHRcdHRhZzogW10sXHJcblx0XHRsaXN0SXRlbXM6IFtdXHJcblx0fSxcclxuXHR3b3Jkc1RvRXh0cmFjdDogJycsXHJcblxyXG5cdGljb246e1x0XHJcblx0XHRoZWFkaW5nOiAnbm9uZScsXHJcblx0XHRsaW5rOiAnbGluaycsXHJcblx0XHR0YWc6ICd0YWcnLFxyXG5cdFx0bGlzdEl0ZW1zOiAnbGlzdCcsXHJcblx0XHRub3RlOiAnZmlsZScsXHJcblx0XHR0YXNrOiAnc3F1YXJlJyxcclxuXHRcdHRhc2tEb25lOiAnY2hlY2stc3F1YXJlJ1xyXG5cdH0sXHJcblx0Y3VzdG9tSWNvbjp7XHJcblx0XHRoZWFkaW5nOiAnaGFzaCcsXHJcblx0XHRsaW5rOiAnbGluaycsXHJcblx0XHR0YWc6ICd0YWcnLFxyXG5cdFx0bGlzdEl0ZW1zOiAnbGlzdCcsXHJcblx0XHRub3RlOidmaWxlJyxcclxuXHRcdHRhc2s6J3NxdWFyZScsXHJcblx0XHR0YXNrRG9uZTonY2hlY2stc3F1YXJlJ1xyXG5cdH0sXHJcblxyXG5cdGluZGVudDp7XHJcblx0XHRoZWFkaW5nOiB0cnVlLFxyXG5cdFx0bGluazogdHJ1ZSxcclxuXHRcdGxpc3RJdGVtczogdHJ1ZSxcclxuXHR9LFxyXG5cdGluZGVudEZvbGxvd0hlYWRpbmc6IDAsXHJcblx0cHJlZml4OntcclxuXHRcdGhlYWRpbmc6ICcnLFxyXG5cdFx0bGluazogJycsXHJcblx0XHR0YWc6ICcnLFxyXG5cdFx0bGlzdEl0ZW1zOiAnJyxcclxuXHRcdHRhc2s6ICcnLFxyXG5cdFx0dGFza0RvbmU6ICcnXHJcblx0fSxcclxuXHRyZXBlYXRIZWFkaW5nUHJlZml4Oidub25lJyxcclxuXHRhZGRDaGVja2JveFRleHQ6IGZhbHNlLFxyXG5cclxuXHQvLyBkYWlseU5vdGVDb3JlOiB0cnVlLFxyXG5cdHBlcmlvZGljTm90ZXNFbmFibGVkOiB0cnVlLFxyXG5cdGNhbGVuZGFyU2V0c0VuYWJsZWQ6IHRydWUsXHJcblx0YXR0YWNoV2Vla2x5Tm90ZXNOYW1lOiB0cnVlLFxyXG5cclxuXHRzaG93RGVidWdJbmZvOiBmYWxzZSxcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRmlsZUluZm8ge1xyXG5cdC8vIGZpbGU6VEZpbGU7XHJcblx0ZGF0ZTogbW9tZW50O1xyXG5cdC8vY29udGVudDogc3RyaW5nO1xyXG5cdGxpbmVzOiBzdHJpbmdbXTtcclxuXHRudW1PZkxpbmVzOiBudW1iZXJcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBPdXRsaW5lRGF0YSB7XHRcclxuXHJcblx0dHlwZU9mRWxlbWVudDonaGVhZGluZyd8J2xpbmsnfCd0YWcnfCdsaXN0SXRlbXMnO1xyXG5cdHBvc2l0aW9uOlBvcztcclxuXHRsaW5rPzpzdHJpbmc7XHJcblx0ZGlzcGxheVRleHQ/OiBzdHJpbmc7XHJcblx0Ly8gbGV2ZWwgXHVGRjFBbGlzdEl0ZW1zXHUzMDZCXHUzMDY0XHUzMDQ0XHUzMDY2XHUzMDZGMFx1RkYxQVx1MzBDOFx1MzBDM1x1MzBEN1x1MzAwMTFcdUZGMUFcdTMwRUJcdTMwRkNcdTMwQzhcdTMwMDEyXHVGRjFBXHUzMDVEXHUzMDhDXHU0RUU1XHU0RTBCXHJcblx0bGV2ZWw/Om51bWJlcjtcclxuXHR0YXNrPzogc3RyaW5nfHVuZGVmaW5lZDtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IERBWVNfUEVSX1VOSVQgPXtcclxuXHRkYXk6IDEsXHJcblx0d2VlazogNyxcclxuXHRtb250aDogMzAsXHJcblx0cXVhcnRlcjogOTAsXHJcblx0eWVhcjozNjVcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEdSQU5VTEFSSVRZX0xJU1Q6IElHcmFudWxhcml0eVtdID0gWydkYXknLCd3ZWVrJywnbW9udGgnLCdxdWFydGVyJywneWVhciddXHJcblxyXG5leHBvcnQgY29uc3QgR1JBTlVMQVJJVFlfVE9fUEVSSU9ESUNJVFkgPSB7XHJcblx0ZGF5OiAnZGFpbHknLFxyXG5cdHdlZWs6ICd3ZWVrbHknLFxyXG5cdG1vbnRoOiAnbW9udGhseScsXHJcblx0cXVhcnRlcjogJ3F1YXJ0ZXJseScsXHJcblx0eWVhcjogJ3llYXJseSdcclxufSBcclxuXHJcbmV4cG9ydCBjb25zdCBGSUxFSU5GT19UT19ESVNQTEFZID0ge1xyXG5cdG5vbmU6ICdub25lJyxcclxuXHRsaW5lczogJ251bSBvZiBsaW5lcycsXHJcblx0ZGF5czogJ2Rpc3RhbmNlJyxcclxuXHR0YWc6ICdmaXJzdCB0YWcnXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBGSUxFSU5GT19UT19ESVNQTEFZX0RBWSA9IHtcclxuXHRub25lOiAnbm9uZScsXHJcblx0bGluZXM6ICdudW0gb2YgbGluZXMnLFxyXG5cdGRheXM6ICdkaXN0YW5jZScsXHJcblx0dGFnOiAnZmlyc3QgdGFnJyxcclxuXHRkb3c6ICdkYXkgb2Ygd2VlaycsXHJcblx0ZG93c2hvcnQ6ICdkYXkgb2Ygd2VlayhzaG9ydCknLFxyXG5cdHdlZWtudW1iZXI6ICd3ZWVrIG51bWJlcidcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGFpbHlOb3RlT3V0bGluZVBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XHJcblxyXG5cdHNldHRpbmdzOiBEYWlseU5vdGVPdXRsaW5lU2V0dGluZ3M7XHJcblx0dmlldzogRGFpbHlOb3RlT3V0bGluZVZpZXc7XHJcblxyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuXHRcdFxyXG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdC8vcmVnaXN0ZXIgY3VzdG9tZSB2aWV3IGFjY29yZGluZyB0byBEZXZsb3BlciBEb2NzXHJcblx0XHR0aGlzLnJlZ2lzdGVyVmlldyhcclxuXHRcdFx0RGFpbHlOb3RlT3V0bGluZVZpZXdUeXBlLFxyXG5cdFx0XHQobGVhZikgPT4gKHRoaXMudmlldyA9IG5ldyBEYWlseU5vdGVPdXRsaW5lVmlldyhsZWFmLCB0aGlzLCB0aGlzLnNldHRpbmdzKSlcclxuXHRcdCk7XHJcblxyXG5cdFx0Ly9cdTMwQjNcdTMwREVcdTMwRjNcdTMwQzlcdThGRkRcdTUyQTBcclxuXHRcdC8vIE9wZW4gT3V0bGluZTogXHUzMEEyXHUzMEE2XHUzMEM4XHUzMEU5XHUzMEE0XHUzMEYzXHU4ODY4XHU3OTNBXHU3NTI4XHUzMDZFXHUzMEFCXHUzMEI5XHUzMEJGXHUzMEUwXHUzMEQzXHUzMEU1XHUzMEZDXHUzMDkyXHU5NThCXHUzMDRGXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogJ2RhaWx5LW5vdGUtb3V0bGluZS1vcGVuJyxcclxuXHRcdFx0bmFtZTogJ09wZW4gT3V0bGluZScsXHJcblxyXG5cdFx0XHRjYWxsYmFjazogYXN5bmMgKCk9PiB7XHJcblx0XHRcdFx0dGhpcy5jaGVja1ZpZXcoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cclxuXHRcdFxyXG5cdFx0Ly8gLy8gZ2V0IFRvZGF5J3MgTm90ZTogRGFpbHlOb3RlSW50ZXJmYWNlXHUzMDZFdGVzdFx1MzA2RVx1MzA1Rlx1MzA4MVx1MzA2RVx1OTU4Qlx1NzY3QVx1NzUyOFx1MzBCM1x1MzBERVx1MzBGM1x1MzBDOVx1MzAwMlxyXG5cdFx0Ly8gLy8gXHU1MTY4RGFpbHlOb3RlXHUzMDkyXHU1M0Q2XHU1Rjk3XHUzMDU3XHUzMDVGXHUzMDZFXHUzMDYxXHUzMDAxXHU2NzJDXHU2NUU1XHU1MjA2XHUzMDkyXHU1M0Q2XHU1Rjk3XHUzMDU3XHUzMDY2XHUzMDAxY29uc29sZVx1MzA2Qlx1ODg2OFx1NzkzQVx1MzA1OVx1MzA4Qlx1MzAwMlxyXG5cdFx0XHJcblx0XHQvLyB0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0Ly8gXHRpZDogJ2RhaWx5LW5vdGUtb3V0bGluZS1nZXRUb2RheXNOb3RlJyxcclxuXHRcdC8vIFx0bmFtZTogXCJHZXQgVG9kYXkncyBOb3RlXCIsXHJcblx0XHQvLyBcdGNhbGxiYWNrOiBhc3luYyAoKT0+e1xyXG5cdFx0Ly8gXHRcdC8vIFx1NTE2OFx1MzA2Nlx1MzA2RVx1MzBDN1x1MzBBNFx1MzBFQVx1MzBGQ1x1MzBDRVx1MzBGQ1x1MzBDOFx1MzA5Mlx1NTNENlx1NUY5N1xyXG5cdFx0Ly8gXHRcdGNvbnN0IGFsbERhaWx5Tm90ZXMgPSBnZXRBbGxEYWlseU5vdGVzKCk7XHJcblx0XHQvLyBcdFx0Y29uc29sZS5sb2coYWxsRGFpbHlOb3Rlcyk7XHJcblx0XHQvLyBcdFx0Y29uc29sZS5sb2codHlwZW9mIGFsbERhaWx5Tm90ZXMpO1xyXG5cdFx0Ly8gXHRcdGNvbnNvbGUubG9nKCdtb21lbnRcdTMwNURcdTMwNkVcdTMwN0VcdTMwN0UnLG1vbWVudCgpKTtcclxuXHRcdC8vIFx0XHRjb25zb2xlLmxvZyhgRGFpbHlOb3RlSW50ZXJmYWNlXHUzMDZFXHUzMEFEXHUzMEZDXHUzMDZFXHU1RjYyXHU1RjBGXHUzMDZCXHUzMDAyZGF5LSR7d2luZG93Lm1vbWVudCgpLnN0YXJ0T2YoJ2RheScpLmZvcm1hdCgpfWApO1xyXG5cclxuXHRcdC8vIFx0XHQvL1x1NjcyQ1x1NjVFNVx1MzA2RVx1MzBDN1x1MzBBNFx1MzBFQVx1MzBGQ1x1MzBDRVx1MzBGQ1x1MzBDOFx1MzA5Mlx1NTNENlx1NUY5N1xyXG5cdFx0Ly8gXHRcdGNvbnN0IHRvZGF5c05vdGUgPSBnZXREYWlseU5vdGUobW9tZW50KCksIGFsbERhaWx5Tm90ZXMpO1xyXG5cdFx0Ly8gXHRcdGlmICh0b2RheXNOb3RlKXtcclxuXHRcdC8vIFx0XHRcdGNvbnNvbGUubG9nKHRvZGF5c05vdGUpXHJcblx0XHQvLyBcdFx0XHQvLyBcdTY1RTVcdTRFRDhcdTMwNkVcdTUzRDZcdTVGOTdcclxuXHRcdC8vIFx0XHRcdGNvbnN0IG5vdGVEYXRlID0gZ2V0RGF0ZUZyb21GaWxlKHRvZGF5c05vdGUsXCJkYXlcIik7XHJcblx0XHQvLyBcdFx0XHRjb25zb2xlLmxvZyhgXHU2NUU1XHU0RUQ4XHUzMDZGICR7bm90ZURhdGV9XHUzMDY3XHUzMDU5YCk7XHJcblx0XHRcdFx0XHRcclxuXHRcdC8vIFx0XHRcdGNvbnN0IGNhY2hlID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUodG9kYXlzTm90ZSk7XHJcblx0XHQvLyBcdFx0XHRjb25zb2xlLmxvZygnY2FjaGU6JywgY2FjaGUpO1xyXG5cclxuXHRcdC8vIFx0XHRcdGNvbnN0IG5vdGUgPSB0aGlzLmFwcC52YXVsdC5jYWNoZWRSZWFkKHRvZGF5c05vdGUpO1xyXG5cdFx0Ly8gXHRcdFx0Y29uc29sZS5sb2cobm90ZSk7XHJcblxyXG5cdFx0Ly8gXHRcdH0gZWxzZSB7XHJcblx0XHQvLyBcdFx0XHRjb25zb2xlLmxvZygnXHU0RUNBXHU2NUU1XHUzMDZFXHUzMENFXHUzMEZDXHUzMEM4XHUzMDRDXHUzMDdGXHUzMDQyXHUzMDVGXHUzMDhBXHUzMDdFXHUzMDVCXHUzMDkzJyk7XHJcblx0XHQvLyBcdFx0fVxyXG5cdFx0Ly8gXHR9XHJcblx0XHQvLyB9KTtcclxuXHRcclxuXHQvLyB2aWV3XHUzMDZFXHU2NkY0XHU2NUIwKFx1MzBBMlx1MzBDM1x1MzBEN1x1MzBDN1x1MzBGQ1x1MzBDOFx1NjY0Mlx1NzUyOClcclxuXHRpZiAodGhpcy5hcHAud29ya3NwYWNlLmxheW91dFJlYWR5KXtcclxuXHRcdHRoaXMuY2hlY2tWaWV3KCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudCh0aGlzLmFwcC53b3Jrc3BhY2Uub24oJ2xheW91dC1yZWFkeScsIHRoaXMuY2hlY2tWaWV3KSk7XHJcblx0fVxyXG5cclxuXHQvLyBUaGlzIGFkZHMgYSBzZXR0aW5ncyB0YWIgc28gdGhlIHVzZXIgY2FuIGNvbmZpZ3VyZSB2YXJpb3VzIGFzcGVjdHMgb2YgdGhlIHBsdWdpblxyXG5cdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgRGFpbHlOb3RlT3V0bGluZVNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcclxuXHJcblx0fVxyXG5cclxuXHRvbnVubG9hZCgpIHtcclxuXHRcdC8vIERldmVsb3BlciBEb2NzXHUzMDZCXHU1RjkzXHUzMDYzXHUzMDY2XHUzMEFCXHUzMEI5XHUzMEJGXHUzMEUwXHUzMEQzXHUzMEU1XHUzMEZDXHUzMDkyXHUzMEM3XHUzMEJGXHUzMEMzXHUzMEMxXHJcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuZGV0YWNoTGVhdmVzT2ZUeXBlKERhaWx5Tm90ZU91dGxpbmVWaWV3VHlwZSk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XHJcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcclxuXHRcdC8vIHYwLjYuMFx1NEVFNVx1NTI0RFx1MzA2RVx1OEEyRFx1NUI5QVx1MzBDN1x1MzBGQ1x1MzBCRlx1MzA2Qlx1NUJGRVx1MzA1N1x1MzA2Nlx1NEU5Mlx1NjNEQlx1NjAyN1x1MzA5Mlx1N0RBRFx1NjMwMVx1MzA1OVx1MzA4Qlx1MzA1Rlx1MzA4MVx1MzA2RVx1NUJGRVx1NUZEQ1xyXG5cdFx0Ly8gMC42XHVGRjBFMFx1NEVFNVx1NTI0RFx1MzA2RmR1cmF0aW9uXHUzMDZGIG51bWJlclx1NTc4Qlx1MzA2MFx1MzA2M1x1MzA1Rlx1MzA0Q1x1MzAwMSBkYXl+eWVhclx1MzA2RVx1MzBEN1x1MzBFRFx1MzBEMVx1MzBDNlx1MzBBM1x1MzA5Mlx1NjMwMVx1MzA2NFx1MzBBQVx1MzBENlx1MzBCOFx1MzBBN1x1MzBBRlx1MzBDOFx1MzA2Qlx1NTkwOVx1NjZGNFx1MzA1N1x1MzA1Rlx1MzAwMlxyXG5cdFx0aWYgKHR5cGVvZiB0aGlzLnNldHRpbmdzLmR1cmF0aW9uID09PSBcIm51bWJlclwiKXtcclxuXHRcdFx0dGhpcy5zZXR0aW5ncy5kdXJhdGlvbiA9IERFRkFVTFRfU0VUVElOR1MuZHVyYXRpb247XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XHJcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xyXG5cdH1cclxuXHJcblx0Y2hlY2tWaWV3ID0gYXN5bmMoKTpQcm9taXNlPHZvaWQ+ID0+IHtcclxuXHJcblx0XHRsZXQgW2xlYWZdID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShEYWlseU5vdGVPdXRsaW5lVmlld1R5cGUpO1xyXG5cdFx0aWYgKCFsZWFmKSB7XHJcblx0XHRcdHN3aXRjaCAodGhpcy5zZXR0aW5ncy52aWV3UG9zaXRpb24pIHtcclxuXHRcdFx0XHRjYXNlICdyaWdodCc6XHJcblx0XHRcdFx0XHRsZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldFJpZ2h0TGVhZihmYWxzZSk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlICdsZWZ0JzpcclxuXHRcdFx0XHRcdGxlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVmdExlYWYoZmFsc2UpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAndGFiJzpcclxuXHRcdFx0XHRcdGxlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZigndGFiJyk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlICdzcGxpdCc6XHJcblx0XHRcdFx0XHRsZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoJ3NwbGl0Jyk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlICdwb3BvdXQnOlxyXG5cdFx0XHRcdFx0bGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCd3aW5kb3cnKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRcdGF3YWl0IGxlYWYuc2V0Vmlld1N0YXRlKHsgdHlwZTogRGFpbHlOb3RlT3V0bGluZVZpZXdUeXBlfSk7XHJcblx0XHR9XHJcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWFmKTtcclxuXHJcblx0fSBcclxuXHQgXHJcbn0iLCAiaW1wb3J0IHsgTWFya2Rvd25WaWV3LCBOb3RpY2UsIHNldEljb24sIGRlYm91bmNlLCBEZWJvdW5jZXIsIE1lbnUsIFZpZXdTdGF0ZVJlc3VsdCwgVmlld30gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuaW1wb3J0IHsgSXRlbVZpZXcsIFdvcmtzcGFjZUxlYWYsIFRGaWxlfSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG5pbXBvcnQgeyBnZXRBbGxEYWlseU5vdGVzLCBnZXREYXRlRnJvbUZpbGUsIGNyZWF0ZURhaWx5Tm90ZSwgZ2V0RGF0ZVVJRCwgXHJcblx0Z2V0QWxsV2Vla2x5Tm90ZXMsIGdldEFsbE1vbnRobHlOb3RlcywgZ2V0QWxsUXVhcnRlcmx5Tm90ZXMsIGdldEFsbFllYXJseU5vdGVzLCBJR3JhbnVsYXJpdHkgfSBmcm9tIFwib2JzaWRpYW4tZGFpbHktbm90ZXMtaW50ZXJmYWNlXCI7XHJcbmltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXHJcblxyXG5pbXBvcnQgRGFpbHlOb3RlT3V0bGluZVBsdWdpbiwgeyBEYWlseU5vdGVPdXRsaW5lU2V0dGluZ3MsIE91dGxpbmVEYXRhLCBGaWxlSW5mbywgREFZU19QRVJfVU5JVCxHUkFOVUxBUklUWV9MSVNULCBHUkFOVUxBUklUWV9UT19QRVJJT0RJQ0lUWSwgRklMRUlORk9fVE9fRElTUExBWSwgRklMRUlORk9fVE9fRElTUExBWV9EQVl9IGZyb20gJ3NyYy9tYWluJztcclxuXHJcbmltcG9ydCB7IGNyZWF0ZUFuZE9wZW5EYWlseU5vdGUgfSBmcm9tICdzcmMvY3JlYXRlQW5kT3BlbkRhaWx5Tm90ZSc7XHJcbmltcG9ydCB7IE1vZGFsRXh0cmFjdCB9IGZyb20gJ3NyYy9tb2RhbEV4dHJhY3QnO1xyXG5cclxuLy8gUGVyaW9kaWMgTm90ZXNcclxuaW1wb3J0IHt0eXBlIENhbGVuZGFyU2V0LH0gZnJvbSAnc3JjL3BlcmlvZGljTm90ZXNUeXBlcyc7XHJcbmltcG9ydCB7IGNyZWF0ZUFuZE9wZW5QZXJpb2RpY05vdGUgfSBmcm9tICcuL2NyZWF0ZUFuZE9wZW5QZXJpb2RpY05vdGUnO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBEYWlseU5vdGVPdXRsaW5lVmlld1R5cGUgPSAnZGFpbHktbm90ZS1vdXRsaW5lJztcclxuXHJcbi8vIFN0YXRlXHUzMDY3XHU3M0ZFXHU1NzI4XHU4ODY4XHU3OTNBXHU0RTJEXHUzMDZFXHU3QzkyXHU1RUE2XHUzMDAxXHUzMEFCXHUzMEVDXHUzMEYzXHUzMEMwXHUzMEZDXHUzMEJCXHUzMEMzXHUzMEM4XHUzMDkyXHU0RkREXHU2MzAxXHJcbmludGVyZmFjZSBJRGFpbHlOb3RlT3V0bGluZVN0YXRlIHtcclxuXHRhY3RpdmVTZXQ6IG51bWJlcjtcclxuXHRhY3RpdmVHcmFudWxhcml0eTogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRGFpbHlOb3RlT3V0bGluZVZpZXcgZXh0ZW5kcyBJdGVtVmlldyBpbXBsZW1lbnRzIElEYWlseU5vdGVPdXRsaW5lU3RhdGUge1xyXG5cdFxyXG5cdHByaXZhdGUgcGx1Z2luOiBEYWlseU5vdGVPdXRsaW5lUGx1Z2luO1x0XHRcclxuXHRwcml2YXRlIHNldHRpbmdzOkRhaWx5Tm90ZU91dGxpbmVTZXR0aW5ncztcclxuXHJcblx0cHJpdmF0ZSBhbGxEYWlseU5vdGVzOiBSZWNvcmQ8c3RyaW5nLFRGaWxlPjtcclxuXHRcclxuXHRwcml2YXRlIHRhcmdldEZpbGVzOiBURmlsZVtdO1xyXG5cdHByaXZhdGUgZmlsZUluZm86IEZpbGVJbmZvW107XHJcblx0cHJpdmF0ZSBzZWFyY2hSYW5nZToge1xyXG5cdFx0bGF0ZXN0OiBtb21lbnQsXHJcblx0XHRlYXJsaWVzdDogbW9tZW50XHJcblx0fSA9IHtcclxuXHRcdGxhdGVzdDogd2luZG93Lm1vbWVudCgpLFxyXG5cdFx0ZWFybGllc3Q6IHdpbmRvdy5tb21lbnQoKVxyXG5cdH07XHJcblx0cHJpdmF0ZSBvdXRsaW5lRGF0YTogT3V0bGluZURhdGFbXVtdO1xyXG5cclxuXHRwcml2YXRlIGZsYWdSZWRyYXc6IGJvb2xlYW47XHJcblx0cHJpdmF0ZSBmbGFnUmVnZXRBbGw6IGJvb2xlYW47XHJcblxyXG5cdHByaXZhdGUgZXh0cmFjdE1vZGU6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHRwcml2YXRlIGV4dHJhY3RUYXNrOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG5cdC8vIFBlcmlvZGljIE5vdGVzXHJcblx0dmVyUE46IG51bWJlcjsgIC8vIFBlcmlvZGljIE5vdGVzIHBsdWdpblx1MzA2RVx1MzBEMFx1MzBGQ1x1MzBCOFx1MzBFN1x1MzBGMyAgMFx1RkYxQW9mZiAgMVx1RkYxQTwxLjAuMCAgMjo+PTEuMC4wIFxyXG5cdGNhbGVuZGFyU2V0czogQ2FsZW5kYXJTZXRbXTtcclxuXHRhY3RpdmVTZXQ6IG51bWJlciA9IDA7IFxyXG5cdGFjdGl2ZUdyYW51bGFyaXR5OiBudW1iZXIgPSAwOyAvLyBkYXkgfCB3ZWVrIHwgbW9udGggfCBxdWFydGVyIHwgeWVhciBHUkFOVUxBUklUWV9MSVNUXHUzMDZFXHU2REZCXHUzMDQ4XHU1QjU3XHUzMDY4XHUzMDU3XHUzMDY2XHJcbiAgXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRsZWFmOiBXb3Jrc3BhY2VMZWFmLFxyXG5cdFx0cGx1Z2luOiBEYWlseU5vdGVPdXRsaW5lUGx1Z2luLFxyXG5cdFx0c2V0dGluZ3M6IERhaWx5Tm90ZU91dGxpbmVTZXR0aW5ncyxcclxuXHQpIHtcclxuXHRcdHN1cGVyKGxlYWYpO1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0XHR0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XHJcblx0fVxyXG4gIFxyXG5cdGdldFZpZXdUeXBlKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gRGFpbHlOb3RlT3V0bGluZVZpZXdUeXBlO1xyXG5cdH1cclxuICBcclxuXHRnZXREaXNwbGF5VGV4dCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuICdEYWlseSBOb3RlIE91dGxpbmUnO1xyXG5cdH1cclxuICBcclxuXHRnZXRJY29uKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gJ2NhbGVuZGFyLWNsb2NrJztcclxuXHR9XHJcblxyXG5cdFxyXG5cdGFzeW5jIG9uT3Blbigpe1xyXG5cclxuXHRcdHRoaXMuaW5pdFZpZXcoKTtcclxuXHRcdC8vICBcdTUyMURcdTU2REVcdTMwNkVcdTMwQzdcdTMwQTRcdTMwRUFcdTMwRkNcdTMwQ0VcdTMwRkNcdTMwQzhcdTYzQTJcdTdEMjJcdTUxRTZcdTc0MDZcdTMwNkZpbml0VmlldygpXHUzMDZCXHU3OUZCXHU1MkQ1XHUzMDU3XHUzMDAxXHU1QjlGXHU4ODRDXHU1MjREXHUzMDZCXHUzMDhGXHUzMDVBXHUzMDRCXHUzMDZCXHUzMEE2XHUzMEE4XHUzMEE0XHUzMEM4KGJvb3REZWxheSlcdTMwOTJcdTUxNjVcdTMwOENcdTMwNUZcdTMwMDJcclxuXHRcdC8vICBcdTMwNURcdTMwNDZcdTMwNTdcdTMwNkFcdTMwNDRcdTMwNjhcdThENzdcdTUyRDVcdTY2NDJcdTMwNkJcdTUxNjhcdTMwQzdcdTMwQTRcdTMwRUFcdTMwRkNcdTMwQ0VcdTMwRkNcdTMwQzhcdTMwNkVcdTMwQzdcdTMwRkNcdTMwQkZcdTUzRDZcdTVGOTdcdTMwNkJcdTU5MzFcdTY1NTdcdTMwNTlcdTMwOEJcdTMwODhcdTMwNDZcdTMwNjBcdTMwNjNcdTMwNUZcdTMwNUZcdTMwODFcdTMwMDJcclxuXHJcblx0XHQvL1x1ODFFQVx1NTJENVx1NjZGNFx1NjVCMFx1MzA2RVx1MzA1Rlx1MzA4MVx1MzA2RVx1MzBDN1x1MzBGQ1x1MzBCRlx1NTkwOVx1NjZGNFx1MzAwMVx1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1OEZGRFx1NTJBMC9cdTUyNEFcdTk2NjRcdTMwNkVcdTc2RTNcdTg5OTYgb2JzZXJ2ZSBmaWxlIGNoYW5nZS9jcmVhdGUvZGVsZXRlXHJcblx0XHRjb25zdCBkZWJvdW5jZXJSZXF1ZXN0UmVmcmVzaDpEZWJvdW5jZXI8W10+ID0gZGVib3VuY2UodGhpcy5hdXRvUmVmcmVzaCwyMDAwLHRydWUpO1xyXG5cdFx0dGhpcy5mbGFnUmVkcmF3ID0gZmFsc2U7XHJcblx0XHR0aGlzLmZsYWdSZWdldEFsbCA9IGZhbHNlOyBcclxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudCh0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLm9uKCdjaGFuZ2VkJywgKGZpbGUpID0+IHtcclxuXHRcdFx0aWYgKHRoaXMudGFyZ2V0RmlsZXM/LmluY2x1ZGVzKGZpbGUpKXtcclxuXHRcdFx0XHR0aGlzLmZsYWdSZWRyYXcgPSB0cnVlO1xyXG5cdFx0XHRcdGRlYm91bmNlclJlcXVlc3RSZWZyZXNoLmNhbGwodGhpcyk7XHJcblx0XHRcdH1cclxuXHRcdH0pKTtcclxuXHJcblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQodGhpcy5hcHAudmF1bHQub24oJ2NyZWF0ZScsKGZpbGUpPT57XHJcblx0XHRcdHRoaXMuZmxhZ1JlZ2V0QWxsID0gdHJ1ZTtcclxuXHRcdFx0ZGVib3VuY2VyUmVxdWVzdFJlZnJlc2guY2FsbCh0aGlzKTtcclxuXHRcdH0pKTtcclxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudCh0aGlzLmFwcC52YXVsdC5vbignZGVsZXRlJywoZmlsZSk9PntcclxuXHRcdFx0dGhpcy5mbGFnUmVnZXRBbGwgPSB0cnVlO1xyXG5cdFx0XHRkZWJvdW5jZXJSZXF1ZXN0UmVmcmVzaC5jYWxsKHRoaXMpO1xyXG5cdFx0fSkpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgb25DbG9zZSgpe1xyXG5cdFx0Ly8gTm90aGluIHRvIGNsZWFuIHVwXHJcblx0fVxyXG5cclxuXHQvLyBodHRwczovL2xpYW1jYS5pbi9PYnNpZGlhbi9BUEkrRkFRL3ZpZXdzL3BlcnNpc3RpbmcreW91cit2aWV3K3N0YXRlXHJcblx0YXN5bmMgc2V0U3RhdGUoc3RhdGU6IElEYWlseU5vdGVPdXRsaW5lU3RhdGUsIHJlc3VsdDpWaWV3U3RhdGVSZXN1bHQpOlByb21pc2U8dm9pZD57XHJcblx0XHRpZiAoc3RhdGUuYWN0aXZlU2V0KXtcclxuXHRcdFx0dGhpcy5hY3RpdmVTZXQgPSBzdGF0ZS5hY3RpdmVTZXQ7XHJcblx0XHR9XHJcblx0XHRpZiAoc3RhdGUuYWN0aXZlR3JhbnVsYXJpdHkpe1xyXG5cdFx0XHR0aGlzLmFjdGl2ZUdyYW51bGFyaXR5ID0gc3RhdGUuYWN0aXZlR3JhbnVsYXJpdHk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gc3VwZXIuc2V0U3RhdGUoc3RhdGUsIHJlc3VsdCk7XHJcblx0fVxyXG5cclxuXHRnZXRTdGF0ZSgpOiBJRGFpbHlOb3RlT3V0bGluZVN0YXRlIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGFjdGl2ZVNldDogdGhpcy5hY3RpdmVTZXQsXHJcblx0XHRcdGFjdGl2ZUdyYW51bGFyaXR5OiB0aGlzLmFjdGl2ZUdyYW51bGFyaXR5LFxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgaW5pdFZpZXcoKSB7XHJcblx0XHRhd2FpdCB0aGlzLmJvb3REZWxheSgpOyAvL1x1NUMxMVx1MzA1N1x1NUY4NVx1MzA1Rlx1MzA2QVx1MzA0NFx1MzA2OFx1OEQ3N1x1NTJENVx1NzZGNFx1NUY4Q1x1MzA2RkRhaWx5IE5vdGVcdTMwNkVcdTUzRDZcdTVGOTdcdTMwNkJcdTU5MzFcdTY1NTdcdTMwNTlcdTMwOEJcdTMwODhcdTMwNDZcdTMwNjBcclxuXHJcblx0XHR0aGlzLnZlclBOID0gYXdhaXQgdGhpcy5jaGVja1BlcmlvZGljTm90ZXMoKTtcclxuXHRcdHRoaXMucmVzZXRTZWFyY2hSYW5nZSgpO1xyXG5cdFx0XHJcblx0XHR0aGlzLnJlZnJlc2hWaWV3KHRydWUsIHRydWUsIHRydWUpO1xyXG5cdFxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBib290RGVsYXkoKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHRyZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7IHNldFRpbWVvdXQocmVzb2x2ZSwgMjAwKTt9KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgYXV0b1JlZnJlc2goKXtcclxuXHRcdGlmICghKHRoaXMuZmxhZ1JlZHJhdyB8fCB0aGlzLmZsYWdSZWdldEFsbCkpe1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5yZWZyZXNoVmlldyh0aGlzLmZsYWdSZWdldEFsbCwgdGhpcy5mbGFnUmVnZXRBbGwsIHRydWUpO1xyXG5cdFx0dGhpcy5mbGFnUmVnZXRBbGwgPSBmYWxzZTtcclxuXHRcdHRoaXMuZmxhZ1JlZHJhdyA9IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0Ly8gXHUzMEVBXHUzMEQ1XHUzMEVDXHUzMEMzXHUzMEI3XHUzMEU1XHUzMEJCXHUzMEYzXHUzMEJGXHUzMEZDXHJcblx0Ly8gcmVnZXRBbGxcdTMwNEN0cnVlOiBcdTUxNjhcdTMwQzdcdTMwQTRcdTMwRUFcdTMwRkNcdTMwQ0VcdTMwRkNcdTMwQzhcdTMwOTJcdTUzRDZcdTVGOTdcdTMwNTdcdTc2RjRcdTMwNTlcclxuXHQvLyBnZXRUYXJnZXRcdTMwNEN0cnVlOiBcdTczRkVcdTU3MjhcdTMwNkVcdTYzQTJcdTdEMjJcdTdCQzRcdTU2RjJcdTMwNkJcdTU0MkJcdTMwN0VcdTMwOENcdTMwOEJcdTMwQzdcdTMwQTRcdTMwRUFcdTMwRkNcdTMwQ0VcdTMwRkNcdTMwQzhcdTMwOTJcdTcyNzlcdTVCOUFcclxuXHQvLyBnZXRPdXRsaW5lXHUzMDRDdHJ1ZTogXHU1QkZFXHU4QzYxXHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHU3RkE0XHUzMDZFXHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHU2MEM1XHU1ODMxXHUzMDAxXHUzMEEyXHUzMEE2XHUzMEM4XHUzMEU5XHUzMEE0XHUzMEYzXHU2MEM1XHU1ODMxXHUzMDkyXHU1M0Q2XHU1Rjk3XHJcblx0Ly8gXHUzMDVEXHUzMDZFXHU1RjhDVUlcdTkwRThcdTUyMDZcdTMwNjhcdTMwQTJcdTMwQTZcdTMwQzhcdTMwRTlcdTMwQTRcdTMwRjNcdTkwRThcdTUyMDZcdTMwOTJcdTYzQ0ZcdTc1M0JcclxuXHRhc3luYyByZWZyZXNoVmlldyhyZWdldEFsbDogYm9vbGVhbiwgZ2V0VGFyZ2V0OmJvb2xlYW4sIGdldE91dGxpbmU6Ym9vbGVhbil7XHJcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5zaG93RGVidWdJbmZvKXtcclxuXHRcdFx0Y29uc29sZS5sb2coJ0ROTzpzdGFydCByZWZyZXNoaW5nIHZpZXcuIENhbGVuZGFyU2V0czonLHRoaXMuY2FsZW5kYXJTZXRzKTtcclxuXHRcdH1cclxuXHRcdHRoaXMudmVyUE4gPSBhd2FpdCB0aGlzLmNoZWNrUGVyaW9kaWNOb3RlcygpO1xyXG5cclxuXHRcdGlmICh0aGlzLnZlclBOICE9IDIpe1xyXG5cdFx0XHQvLyBjb3JlIGRhaWx5IG5vdGUvIHBlcmlvZGljIG5vdGVzIHBsdWdpbiB2MC54IFx1MzA2RVx1NTgzNFx1NTQwOFxyXG5cdFx0XHRpZiAocmVnZXRBbGwpe1xyXG5cdFx0XHRcdHRoaXMuYWxsRGFpbHlOb3RlcyA9IHRoaXMuZ2V0QWxsTm90ZXMoKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoZ2V0VGFyZ2V0KXtcclxuXHRcdFx0XHR0aGlzLnRhcmdldEZpbGVzID0gdGhpcy5nZXRUYXJnZXRGaWxlcyh0aGlzLmFsbERhaWx5Tm90ZXMsIEdSQU5VTEFSSVRZX0xJU1RbdGhpcy5hY3RpdmVHcmFudWxhcml0eV0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmKGdldE91dGxpbmUpe1xyXG5cdFx0XHRcdHRoaXMuZmlsZUluZm8gPSBhd2FpdCB0aGlzLmdldEZpbGVJbmZvKHRoaXMudGFyZ2V0RmlsZXMpO1xyXG5cdFx0XHRcdHRoaXMub3V0bGluZURhdGEgPSBhd2FpdCB0aGlzLmdldE91dGxpbmUodGhpcy50YXJnZXRGaWxlcyk7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5kcmF3VUkoKTtcclxuXHRcdFx0dGhpcy5kcmF3T3V0bGluZSh0aGlzLnRhcmdldEZpbGVzLCB0aGlzLmZpbGVJbmZvLCB0aGlzLm91dGxpbmVEYXRhKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIHBlcmlvZGljIG5vdGVzIHBsdWdpbiB2MS54XHU1QkZFXHU1RkRDXHJcblx0XHRcdGlmICghdGhpcy5jYWxlbmRhclNldHNbdGhpcy5hY3RpdmVTZXRdKXtcclxuXHRcdFx0XHR0aGlzLmFjdGl2ZVNldCA9IDA7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCF0aGlzLmNhbGVuZGFyU2V0c1t0aGlzLmFjdGl2ZVNldF1bR1JBTlVMQVJJVFlfTElTVFt0aGlzLmFjdGl2ZUdyYW51bGFyaXR5XV0/LmVuYWJsZWQpe1xyXG5cdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnNob3dEZWJ1Z0luZm8pe1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ0ROTzogQ2FsZW5kZXIgc2V0IGlzIG5vdCBlbmFibGVkLiB0aGlzLmFjdGl2ZUdyYW51bGFyaXR5IGlzIHNldCB0byAwLiBDYWxlbmRhcnNldHMsIHRoaXMuYWN0aXZlU2V0LCB0aGlzLmFjdGl2ZUdyYW51bGFyaXR5OicsdGhpcy5jYWxlbmRhclNldHMsIHRoaXMuYWN0aXZlU2V0LCB0aGlzLmFjdGl2ZUdyYW51bGFyaXR5KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dGhpcy5hY3RpdmVHcmFudWxhcml0eSA9IDA7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChnZXRUYXJnZXQpe1xyXG5cdFx0XHRcdHRoaXMudGFyZ2V0RmlsZXMgPSB0aGlzLmdldFRhcmdldFBlcmlvZGljTm90ZXModGhpcy5jYWxlbmRhclNldHNbdGhpcy5hY3RpdmVTZXRdLCBHUkFOVUxBUklUWV9MSVNUW3RoaXMuYWN0aXZlR3JhbnVsYXJpdHldKVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChnZXRPdXRsaW5lKXtcclxuXHRcdFx0XHR0aGlzLmZpbGVJbmZvID0gYXdhaXQgdGhpcy5nZXRGaWxlSW5mbyh0aGlzLnRhcmdldEZpbGVzKTtcclxuXHRcdFx0XHR0aGlzLm91dGxpbmVEYXRhID0gYXdhaXQgdGhpcy5nZXRPdXRsaW5lKHRoaXMudGFyZ2V0RmlsZXMpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMuZHJhd1VJKCk7XHJcblx0XHRcdHRoaXMuZHJhd091dGxpbmUodGhpcy50YXJnZXRGaWxlcywgdGhpcy5maWxlSW5mbywgdGhpcy5vdXRsaW5lRGF0YSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHJcblx0Ly8gXHU1M0Q2XHU1Rjk3XHUzMDU3XHUzMDVGXHU1MTY4XHUzMEM3XHUzMEE0XHUzMEVBXHUzMEZDXHUzMENFXHUzMEZDXHUzMEM4XHUzMDRCXHUzMDg5XHU2M0EyXHU3RDIyXHU3QkM0XHU1NkYyXHUzMDZFXHUzMEM3XHUzMEE0XHUzMEVBXHUzMEZDXHUzMENFXHUzMEZDXHUzMEM4XHUzMDkyXHU1MjA3XHUzMDhBXHU1MUZBXHUzMDU5ICBcclxuXHQvLyAodmVyMC54LnhcdTMwNkVwZXJpb2RpYyBub3Rlc1x1MzA2Qlx1MzA4Mlx1NUJGRVx1NUZEQ1x1MzAwMilcclxuXHRwcml2YXRlIGdldFRhcmdldEZpbGVzKGFsbEZpbGVzOlJlY29yZDxzdHJpbmcsVEZpbGU+LCBncmFudWxhcml0eTogSUdyYW51bGFyaXR5KTogVEZpbGVbXXtcclxuXHJcblx0XHRsZXQgZmlsZXM6IFRGaWxlW10gPSBbXTtcclxuXHRcdGxldCBjaGVja0RhdGUgPSB0aGlzLnNlYXJjaFJhbmdlLmxhdGVzdC5jbG9uZSgpO1xyXG5cdFx0bGV0IGNoZWNrRGF0ZUVhcmxpZXN0ID0gdGhpcy5zZWFyY2hSYW5nZS5lYXJsaWVzdC5jbG9uZSgpO1xyXG5cclxuXHRcdGlmICh0aGlzLnNldHRpbmdzLmluaXRpYWxTZWFyY2hUeXBlID09J2JhY2t3YXJkJyl7XHJcblx0XHRcdGlmKGNoZWNrRGF0ZS5pc1NhbWUod2luZG93Lm1vbWVudCgpLCdkYXknKSl7XHJcblx0XHRcdFx0Y2hlY2tEYXRlLmFkZChNYXRoLmNlaWwodGhpcy5zZXR0aW5ncy5vZmZzZXQvREFZU19QRVJfVU5JVFtncmFudWxhcml0eV0pLGdyYW51bGFyaXR5KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRjaGVja0RhdGVFYXJsaWVzdCA9IHRoaXMuc2VhcmNoUmFuZ2UubGF0ZXN0LmNsb25lKCkuc3VidHJhY3QodGhpcy5zZXR0aW5ncy5kdXJhdGlvbltncmFudWxhcml0eV0gLSAxLGdyYW51bGFyaXR5KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIGZvcndhcmQgc2VhcmNoXHUzMDZFXHUzMDY4XHUzMDREXHJcblx0XHRcdGNoZWNrRGF0ZSA9IHRoaXMuc2VhcmNoUmFuZ2UuZWFybGllc3QuY2xvbmUoKS5hZGQodGhpcy5zZXR0aW5ncy5kdXJhdGlvbltncmFudWxhcml0eV0gLSAxLGdyYW51bGFyaXR5KTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0d2hpbGUgKGNoZWNrRGF0ZS5pc1NhbWVPckFmdGVyKGNoZWNrRGF0ZUVhcmxpZXN0LGdyYW51bGFyaXR5KSl7XHJcblx0XHRcdGlmIChhbGxGaWxlc1tnZXREYXRlVUlEKGNoZWNrRGF0ZSwgZ3JhbnVsYXJpdHkpXSl7XHJcblx0XHRcdFx0ZmlsZXMucHVzaChhbGxGaWxlc1tnZXREYXRlVUlEKGNoZWNrRGF0ZSwgZ3JhbnVsYXJpdHkpXSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Y2hlY2tEYXRlLnN1YnRyYWN0KDEsZ3JhbnVsYXJpdHkpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGZpbGVzO1xyXG5cdH1cclxuXHJcblx0Ly8gXHU2M0EyXHU3RDIyXHU3QkM0XHU1NkYyXHUzMDZFUGVyaW9kaWMgTm90ZXNcdTMwOTJcdTUzRDZcdTVGOTdcdTMwNTlcdTMwOEIgXHVGRjA4cGVpcm9kaWMgbm90ZXMgMS54LnhcdTc1MjhcdUZGMDlcclxuXHRwcml2YXRlIGdldFRhcmdldFBlcmlvZGljTm90ZXMoY2FsZW5kYXJTZXQ6IENhbGVuZGFyU2V0LCBncmFudWxhcml0eTogSUdyYW51bGFyaXR5KTogVEZpbGVbXXtcclxuXHRcdGxldCBmaWxlczogVEZpbGVbXSA9IFtdO1xyXG5cclxuXHRcdC8vIGRheVx1NTdGQVx1NkU5Nlx1MzA2RVx1NjNBMlx1N0QyMlx1N0JDNFx1NTZGMlx1MzA2N1x1MzA0Mlx1MzA4QnNlYXJjaFJhbmdlXHUzMDkyXHU1MTQzXHUzMDZCXHUzMDAxXHU3QzkyXHU1RUE2XHUzMDZCXHU1RkRDXHUzMDU4XHUzMDY2XHU2M0EyXHU3RDIyXHU3QkM0XHU1NkYyXHUzMDkyXHU2MkUxXHU1RjM1XHUzMDU3XHUzMDVGXHUzMDgyXHUzMDZFXHUzMDkyY2hlY2tEYXRlLGNoZWNrRGF0ZUVhcmxpZXN0XHUzMDZCXHU0RUUzXHU1MTY1XHJcblx0XHRsZXQgY2hlY2tEYXRlID0gdGhpcy5zZWFyY2hSYW5nZS5sYXRlc3QuY2xvbmUoKTtcclxuXHRcdGxldCBjaGVja0RhdGVFYXJsaWVzdCA9IHRoaXMuc2VhcmNoUmFuZ2UuZWFybGllc3QuY2xvbmUoKTtcclxuXHRcdFxyXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MuaW5pdGlhbFNlYXJjaFR5cGU9PSdiYWNrd2FyZCcpe1xyXG5cdFx0XHRpZihjaGVja0RhdGUuaXNTYW1lKHdpbmRvdy5tb21lbnQoKSwnZGF5Jykpe1xyXG5cdFx0XHRcdGNoZWNrRGF0ZS5hZGQoTWF0aC5jZWlsKHRoaXMuc2V0dGluZ3Mub2Zmc2V0L0RBWVNfUEVSX1VOSVRbZ3JhbnVsYXJpdHldKSxncmFudWxhcml0eSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Y2hlY2tEYXRlRWFybGllc3QgPSB0aGlzLnNlYXJjaFJhbmdlLmxhdGVzdC5jbG9uZSgpLnN1YnRyYWN0KHRoaXMuc2V0dGluZ3MuZHVyYXRpb25bZ3JhbnVsYXJpdHldIC0gMSxncmFudWxhcml0eSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBmb3J3YXJkIHNlYXJjaFx1MzA2RVx1MzA2OFx1MzA0RFxyXG5cdFx0XHRjaGVja0RhdGUgPSB0aGlzLnNlYXJjaFJhbmdlLmVhcmxpZXN0LmNsb25lKCkuYWRkKHRoaXMuc2V0dGluZ3MuZHVyYXRpb25bZ3JhbnVsYXJpdHldIC0gMSxncmFudWxhcml0eSk7XHJcblx0XHR9XHJcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5zaG93RGVidWdJbmZvKXtcclxuXHRcdFx0Y29uc29sZS5sb2coJ0ROTzpzZWFyY2hpbmcgY2FjaGVzIG9mIFBlcmlvZGljIE5vdGVzLi4uIGNhbGVuZGFyIHNldDonLGNhbGVuZGFyU2V0KTtcclxuXHRcdH1cclxuXHJcblx0XHR3aGlsZSAoY2hlY2tEYXRlLmlzU2FtZU9yQWZ0ZXIoY2hlY2tEYXRlRWFybGllc3QsZ3JhbnVsYXJpdHkpKXtcclxuXHRcdFx0Y29uc3QgY2FjaGVzID0gdGhpcy5hcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKS5jYWNoZS5nZXRQZXJpb2RpY05vdGVzKGNhbGVuZGFyU2V0LmlkLGdyYW51bGFyaXR5LGNoZWNrRGF0ZSk7XHJcblx0XHRcdGZvciAoY29uc3QgZmlsZSBvZiBjYWNoZXMpe1xyXG5cdFx0XHRcdC8vXHU1M0IzXHU1QkM2XHUzMDZCXHUzMERFXHUzMEMzXHUzMEMxXHUzMDU3XHUzMDVGXHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHU1MUZBXHUzMDZBXHUzMDUxXHUzMDhDXHUzMDcwXHUzMEI5XHUzMEFEXHUzMEMzXHUzMEQ3XHJcblx0XHRcdFx0aWYgKCB0aGlzLnNldHRpbmdzLmV4YWN0TWF0Y2hPbmx5ICYmICFmaWxlPy5tYXRjaERhdGE/LmV4YWN0KSB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly9cdTMwRDVcdTMwQTFcdTMwQTRcdTMwRUJcdTMwRDFcdTMwQjlcdTMwNEMubWRcdTMwNjdcdTdENDJcdTMwOEZcdTMwODlcdTMwNkFcdTMwNTFcdTMwOENcdTMwNzBcdUZGMDhcdTMwREVcdTMwRkNcdTMwQUZcdTMwQzBcdTMwQTZcdTMwRjNcdTMwRDVcdTMwQTFcdTMwQTRcdTMwRUJcdTMwNjdcdTMwNkFcdTMwNTFcdTMwOENcdTMwNzBcdUZGMDlcdTMwQjlcdTMwQURcdTMwQzNcdTMwRDdcclxuXHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5tYXJrZG93bk9ubHkgJiYgIWZpbGU/LmZpbGVQYXRoLmVuZHNXaXRoKFwiLm1kXCIpKXtcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyBcdTMwRDVcdTMwQTFcdTMwQTRcdTMwRUJcdTMwRDFcdTMwQjlcdTMwNkJQTlx1MzA2RVx1MzBENVx1MzBBOVx1MzBFQlx1MzBDMFx1MzBEMVx1MzBCOVx1MzA0Q1x1NTQyQlx1MzA3RVx1MzA4Q1x1MzA2Nlx1MzA0NFx1MzA2QVx1MzA0NCAmJiBQTlx1MzA2RVx1MzBENVx1MzBBOVx1MzBFQlx1MzBDMFx1MzBEMVx1MzBCOVx1MzA0Q1x1NjMwN1x1NUI5QVx1MzA1NVx1MzA4Q1x1MzA2Nlx1MzA0NFx1MzA4QiBcdTMwNkVcdTMwNjhcdTMwNERcdTMwNkZcdTUxRTZcdTc0MDZcdTMwOTJcdTMwQjlcdTMwQURcdTMwQzNcdTMwRDdcclxuXHRcdFx0XHQvLyBcdUZGMEFcdTczRkVcdTcyQjZcdTMwNkVQTlx1MzBEOVx1MzBGQ1x1MzBCRlx1MzA2N1x1MzA2Rlx1MzAwMVx1MzBBQlx1MzBFQ1x1MzBGM1x1MzBDMFx1MzBGQ1x1MzBCQlx1MzBDM1x1MzBDOFx1MzA2RVx1NjMwN1x1NUI5QVx1MzA2Qlx1MzA0Qlx1MzA0Qlx1MzA4Rlx1MzA4OVx1MzA1QVx1NTE2OFx1MzBCQlx1MzBDM1x1MzBDOFx1MzA2Qlx1NTQyQlx1MzA3RVx1MzA4Q1x1MzA4QlBOXHUzMDRDXHU4RkQ0XHUzMDU1XHUzMDhDXHUzMDhCXHUzMDg4XHUzMDQ2XHUzMDY3XHUzMDQyXHUzMDhCXHUzMDVGXHUzMDgxXHUzMDAxXHU1NDA0XHUzMEJCXHUzMEMzXHUzMEM4XHUzMDZFXHUzMEQ1XHUzMEE5XHUzMEVCXHUzMEMwXHUzMEQxXHUzMEI5XHUzMDY3XHUzMEQ1XHUzMEEzXHUzMEVCXHUzMEJGXHUzMEVBXHUzMEYzXHUzMEIwXHUzMDU5XHUzMDhCXHJcblx0XHRcdFx0Ly8gXHUzMDVGXHUzMDYwXHUzMDU3XHUzMEQ1XHUzMEE5XHUzMEVCXHUzMEMwXHUzMEQxXHUzMEI5XHUzMDRDXHU2MzA3XHU1QjlBXHUzMDU1XHUzMDhDXHUzMDY2XHUzMDQ0XHUzMDZBXHUzMDQ0XHUzMDY4XHUzMDREXHUzMDZGXHUzMEI5XHUzMEFEXHUzMEMzXHUzMEQ3XHJcblx0XHRcdFx0aWYgKCFmaWxlLmZpbGVQYXRoLnN0YXJ0c1dpdGgoY2FsZW5kYXJTZXRbZ3JhbnVsYXJpdHldLmZvbGRlci5jb25jYXQoXCIvXCIpKSAmJiBjYWxlbmRhclNldFtncmFudWxhcml0eV0uZm9sZGVyKXtcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRjb25zdCBmaWxlb2JqID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZpbGUuZmlsZVBhdGgpO1xyXG5cdFx0XHRcdGlmIChmaWxlb2JqIGluc3RhbmNlb2YgVEZpbGUpe1xyXG5cdFx0XHRcdFx0ZmlsZXMucHVzaChmaWxlb2JqKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0Y2hlY2tEYXRlLnN1YnRyYWN0KDEsZ3JhbnVsYXJpdHkpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGZpbGVzO1xyXG5cdH1cclxuXHJcblxyXG5cdC8vIFx1MzBDN1x1MzBBNFx1MzBFQVx1MzBGQ1x1MzBDRVx1MzBGQ1x1MzBDOFx1MzA2RVx1OTE0RFx1NTIxN1x1MzA0Qlx1MzA4OVx1NTQwNFx1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlx1MzA2Qlx1OTVBMlx1MzA1OVx1MzA4Qlx1NjBDNVx1NTgzMVx1MzA5Mlx1NjJCRFx1NTFGQVxyXG5cdHByaXZhdGUgYXN5bmMgZ2V0RmlsZUluZm8oZmlsZXM6VEZpbGVbXSk6UHJvbWlzZTxGaWxlSW5mb1tdPntcclxuXHRcdGxldCBmaWxlSW5mbzpGaWxlSW5mb1tdPVtdO1xyXG5cdFx0Zm9yIChsZXQgaT0wOyBpIDwgZmlsZXMubGVuZ3RoIDsgaSsrKXtcclxuXHRcdFx0Y29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNhY2hlZFJlYWQoZmlsZXNbaV0pO1xyXG5cdFx0XHRjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoXCJcXG5cIik7XHJcblx0XHRcdGxldCBpbmZvOkZpbGVJbmZvID0ge1xyXG5cdFx0XHRcdGRhdGU6IGdldERhdGVGcm9tRmlsZShmaWxlc1tpXSxHUkFOVUxBUklUWV9MSVNUW3RoaXMuYWN0aXZlR3JhbnVsYXJpdHldKSxcclxuXHRcdFx0XHQvL2NvbnRlbnQ6IGNvbnRlbnQsXHJcblx0XHRcdFx0bGluZXM6IGxpbmVzLFxyXG5cdFx0XHRcdG51bU9mTGluZXM6IGxpbmVzLmxlbmd0aFxyXG5cdFx0XHR9XHJcblx0XHRcdC8vIHBlcmlvZGljIG5vdGVzIGJldGFcdTVCRkVcdTVGRENcclxuXHRcdFx0aWYgKHRoaXMudmVyUE4gPT0gMil7XHJcblx0XHRcdFx0aW5mby5kYXRlID0gdGhpcy5hcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKS5jYWNoZS5jYWNoZWRGaWxlcy5nZXQodGhpcy5jYWxlbmRhclNldHNbdGhpcy5hY3RpdmVTZXRdLmlkKS5nZXQoZmlsZXNbaV0ucGF0aCkuZGF0ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZmlsZUluZm8ucHVzaChpbmZvKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBmaWxlSW5mbztcclxuXHR9XHJcblxyXG5cdC8vIFx1MzBFMVx1MzBCRlx1MzBDN1x1MzBGQ1x1MzBCRlx1MzA0Qlx1MzA4OVx1MzBBMlx1MzBBNlx1MzBDOFx1MzBFOVx1MzBBNFx1MzBGM1x1ODk4MVx1N0QyMFx1MzA5Mlx1NjJCRFx1NTFGQVxyXG5cdHByaXZhdGUgYXN5bmMgZ2V0T3V0bGluZShmaWxlczpURmlsZVtdKTpQcm9taXNlPE91dGxpbmVEYXRhW11bXT57XHJcblx0XHRsZXQgZGF0YTpPdXRsaW5lRGF0YVtdW109W107ICAgIFxyXG5cdFx0Zm9yIChsZXQgaT0wOyBpPCBmaWxlcy5sZW5ndGggOyBpKyspe1xyXG5cdFx0XHRjb25zdCBjYWNoZSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGVzW2ldKTtcclxuXHRcdFx0Ly8gXHU3QTdBXHU5MTREXHU1MjE3XHUzMDkyXHU2MzA3XHU1QjlBXHJcblx0XHRcdGRhdGFbaV09W107XHJcblx0XHRcdC8vIGhlYWRpbmdzLGxpbmtzLHRhZ3NcdTMwOTJcdTYyQkRcdTUxRkFcclxuXHJcblx0XHRcdC8vIGNvbnNvbGUubG9nKCdjaGVjayBoZWFkaW5ncycsY2FjaGUuaGFzT3duUHJvcGVydHkoXCJoZWFkaW5nc1wiKSApO1xyXG5cdFx0XHRpZiAoY2FjaGUuaGFzT3duUHJvcGVydHkoXCJoZWFkaW5nc1wiKSl7XHJcblx0XHRcdFx0Zm9yIChsZXQgaj0wOyBqPCBjYWNoZS5oZWFkaW5ncy5sZW5ndGggOyBqKyspe1xyXG5cdFx0XHRcdFx0Y29uc3QgZWxlbWVudDpPdXRsaW5lRGF0YSA9IHtcclxuXHRcdFx0XHRcdFx0dHlwZU9mRWxlbWVudCA6IFwiaGVhZGluZ1wiLFxyXG5cdFx0XHRcdFx0XHRwb3NpdGlvbiA6IGNhY2hlLmhlYWRpbmdzW2pdLnBvc2l0aW9uLFxyXG5cdFx0XHRcdFx0XHRkaXNwbGF5VGV4dCA6IGNhY2hlLmhlYWRpbmdzW2pdLmhlYWRpbmcsXHJcblx0XHRcdFx0XHRcdGxldmVsOiBjYWNoZS5oZWFkaW5nc1tqXS5sZXZlbFxyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdGRhdGFbaV0ucHVzaChlbGVtZW50KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGNvbnNvbGUubG9nKCdjaGVjayBsaW5rcycsY2FjaGUuaGFzT3duUHJvcGVydHkoXCJsaW5rc1wiKSApO1xyXG5cdFx0XHRpZiAoY2FjaGUuaGFzT3duUHJvcGVydHkoXCJsaW5rc1wiKSl7XHJcblx0XHRcdFx0Zm9yIChsZXQgaj0wOyBqPCBjYWNoZS5saW5rcy5sZW5ndGggOyBqKyspe1xyXG5cdFx0XHRcdFx0Y29uc3QgZWxlbWVudDpPdXRsaW5lRGF0YSA9IHtcclxuXHRcdFx0XHRcdFx0dHlwZU9mRWxlbWVudCA6IFwibGlua1wiLFxyXG5cdFx0XHRcdFx0XHRwb3NpdGlvbiA6IGNhY2hlLmxpbmtzW2pdLnBvc2l0aW9uLFxyXG5cdFx0XHRcdFx0XHQvL1x1MzBERVx1MzBGQ1x1MzBBRlx1MzBDMFx1MzBBNlx1MzBGM1x1MzBFQVx1MzBGM1x1MzBBRlx1MzA2Qlx1NUJGRVx1NUZEQ1xyXG5cdFx0XHRcdFx0XHRkaXNwbGF5VGV4dCA6IFxyXG5cdFx0XHRcdFx0XHRcdChjYWNoZS5saW5rc1tqXS5kaXNwbGF5VGV4dCA9PVwiXCIpIFxyXG5cdFx0XHRcdFx0XHRcdD8gY2FjaGUubGlua3Nbal0ub3JpZ2luYWwuc3Vic3RyaW5nKDEsY2FjaGUubGlua3Nbal0ub3JpZ2luYWwuaW5kZXhPZihcIl1cIikpIFxyXG5cdFx0XHRcdFx0XHRcdDogY2FjaGUubGlua3Nbal0uZGlzcGxheVRleHQsXHJcblx0XHRcdFx0XHRcdGxpbms6IGNhY2hlLmxpbmtzW2pdLmxpbmtcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRkYXRhW2ldLnB1c2goZWxlbWVudCk7XHJcblx0XHRcdFx0fVx0XHRcdFx0XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIGNvbnNvbGUubG9nKCdjaGVjayBsaXN0cycpO1xyXG5cdFx0XHRpZiAoY2FjaGUuaGFzT3duUHJvcGVydHkoXCJsaXN0SXRlbXNcIikpe1xyXG5cclxuXHRcdFx0XHRmb3IgKGxldCBqPTA7IGo8IGNhY2hlLmxpc3RJdGVtcy5sZW5ndGggOyBqKyspe1xyXG5cdFx0XHRcdFx0Ly9cdTRFRTVcdTRFMEJcdTMwNjdcdTMwRUFcdTMwQjlcdTMwQzhcdTMwQTJcdTMwQTRcdTMwQzZcdTMwRTBcdTMwNkVcdTk2OEVcdTVDNjRcdTMwNkVcdTUyMjRcdTVCOUFcdTMwOTJcdTg4NENcdTMwNDZcdTMwMDJcclxuXHRcdFx0XHRcdC8vXHUzMEVBXHUzMEI5XHUzMEM4XHUzMDZFXHU1MTQ4XHU5ODJEXHUzMDZFXHU5ODA1XHU3NkVFOjBcdTMwMDFcdTUxNDhcdTk4MkRcdTMwNjdcdTMwNkZcdTMwNkFcdTMwNDRcdTMwNENcdTMwRUJcdTMwRkNcdTMwQzhcdTMwRUNcdTMwRDlcdTMwRUI6MVx1MzAwMVx1N0IyQzJcdTk2OEVcdTVDNjRcdTRFRTVcdTRFMEJcdUZGMUEyXHUzMDY4XHUzMDU3XHUzMDY2XHUzMDQ0XHUzMDhCXHUzMDAyXHJcblx0XHRcdFx0XHQvL3BhcmVudFx1MzA0Q1x1NkI2M1x1MzA2RVx1NjU3MFx1MzA2QVx1MzA4OVx1N0IyQzJcdTk2OEVcdTVDNjRcdTRFRTVcdTRFMEJcclxuXHRcdFx0XHRcdC8vXHU4Q0EwXHUzMDZFXHU2NTcwXHUzMDY3XHUzMDAxXHU3RDc2XHU1QkZFXHU1MDI0XHUzMDRDcG9zaXRpb24uc3RhcnQubGluZVx1MzA2OFx1NEUwMFx1ODFGNFx1MzA1N1x1MzA2Nlx1MzA0NFx1MzA4Q1x1MzA3MFx1MzBDOFx1MzBDM1x1MzBEN1x1MzBBMlx1MzBBNFx1MzBDNlx1MzBFMCgwKVx1MzAwMVx1OTc1RVx1NEUwMFx1ODFGNFx1MzA2QVx1MzA4OVx1MzBFQlx1MzBGQ1x1MzBDOFx1RkYwODFcdUZGMDlcclxuXHRcdFx0XHRcdC8vXHUzMDVGXHUzMDYwXHUzMDU3XHU4OTk2XHU4OTlBXHU3Njg0XHUzMDZCXHU5NkUyXHUzMDhDXHUzMDVGXHUzMEM4XHUzMEMzXHUzMEQ3XHUzMEVDXHUzMEQ5XHUzMEVCXHUzMDZFXHUzMEEyXHUzMEE0XHUzMEM2XHUzMEUwXHUzMDY3XHUzMDgyXHUzMDAxXHU5NTkzXHUzMDZCaGVhZGluZ1x1MzA0Q1x1MzA2QVx1MzA0NFx1MzA2OFx1MzBFQlx1MzBGQ1x1MzBDOFx1MzBBMlx1MzBBNFx1MzBDNlx1MzBFMFx1MzA2OFx1MzA1N1x1MzA2Nlx1NTIyNFx1NUI5QVx1MzA1NVx1MzA4Q1x1MzA2Nlx1MzA1N1x1MzA3RVx1MzA0Nlx1MzA2RVx1MzA2N1x1MzAwMVxyXG5cdFx0XHRcdFx0Ly9cdTUyNERcdTMwNkVcdTMwRUFcdTMwQjlcdTMwQzhcdTMwQTJcdTMwQTRcdTMwQzZcdTMwRTBcdTMwNjhcdTMwNkVcdTg4NENcdTMwNkVcdTVERUVcdTMwNEMxXHUzMDZFXHU2NjQyXHUzMDZFXHUzMDdGXHUzMEVCXHUzMEZDXHUzMEM4XHUzMEEyXHUzMEE0XHUzMEM2XHUzMEUwXHUzMDY4XHUzMDU3XHUzMDY2XHU1MjI0XHU1QjlBXHUzMDU5XHUzMDhCXHUzMDg4XHUzMDQ2XHU0RkVFXHU2QjYzXHUzMDU5XHUzMDhCXHUzMDAyXHJcblx0XHRcdFx0XHRsZXQgbGlzdExldmVsOiBudW1iZXIgPSAwOyAvLyAwOnRvcCBpdGVtIG9mIGEgbGlzdCAxOnJvb3QgbGV2ZSAyOm90aGVyXHJcblx0XHRcdFx0XHRpZiAoY2FjaGUubGlzdEl0ZW1zW2pdLnBhcmVudCA+MCl7XHJcblx0XHRcdFx0XHRcdGxpc3RMZXZlbCA9IDI7XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGo+MCl7XHJcblx0XHRcdFx0XHRcdGlmICghKE1hdGguYWJzKGNhY2hlLmxpc3RJdGVtc1tqXS5wYXJlbnQpID09IGNhY2hlLmxpc3RJdGVtc1tqXS5wb3NpdGlvbi5zdGFydC5saW5lKSAmJlxyXG5cdFx0XHRcdFx0XHRcdChjYWNoZS5saXN0SXRlbXNbal0ucG9zaXRpb24uc3RhcnQubGluZSAtIGNhY2hlLmxpc3RJdGVtc1tqLTFdLnBvc2l0aW9uLnN0YXJ0LmxpbmUgPT0gMSkpe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRsaXN0TGV2ZWwgPSAxO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRjb25zdCBlbGVtZW50Ok91dGxpbmVEYXRhID0ge1xyXG5cdFx0XHRcdFx0XHR0eXBlT2ZFbGVtZW50IDogXCJsaXN0SXRlbXNcIixcclxuXHRcdFx0XHRcdFx0cG9zaXRpb24gOiBjYWNoZS5saXN0SXRlbXNbal0ucG9zaXRpb24sXHJcblx0XHRcdFx0XHRcdGRpc3BsYXlUZXh0IDogdGhpcy5maWxlSW5mb1tpXS5saW5lc1tjYWNoZS5saXN0SXRlbXNbal0ucG9zaXRpb24uc3RhcnQubGluZV0ucmVwbGFjZSgvXihcXHN8XFx0KSotXFxzKFxcWy5cXF1cXHMpKi8sJycpLFxyXG5cdFx0XHRcdFx0XHRsZXZlbCA6IGxpc3RMZXZlbCxcclxuXHRcdFx0XHRcdFx0dGFzayA6IGNhY2hlLmxpc3RJdGVtc1tqXS50YXNrXHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0ZGF0YVtpXS5wdXNoKGVsZW1lbnQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gY29uc29sZS5sb2coJ2NoZWNrIHRhZ3MnLGNhY2hlLmhhc093blByb3BlcnR5KFwidGFnc1wiKSApO1xyXG5cdFx0XHRpZiAoY2FjaGUuaGFzT3duUHJvcGVydHkoXCJ0YWdzXCIpKXtcclxuXHRcdFx0XHRmb3IgKGxldCBqPTA7IGo8IGNhY2hlLnRhZ3MubGVuZ3RoIDsgaisrKXtcclxuXHRcdFx0XHRcdGNvbnN0IGVsZW1lbnQ6T3V0bGluZURhdGEgPSB7XHJcblx0XHRcdFx0XHRcdHR5cGVPZkVsZW1lbnQgOiBcInRhZ1wiLFxyXG5cdFx0XHRcdFx0XHRwb3NpdGlvbiA6IGNhY2hlLnRhZ3Nbal0ucG9zaXRpb24sXHJcblx0XHRcdFx0XHRcdGRpc3BsYXlUZXh0IDogY2FjaGUudGFnc1tqXS50YWcuc3Vic3RyaW5nKDEpLFxyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdGRhdGFbaV0ucHVzaChlbGVtZW50KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gXHU4OTgxXHU3RDIwXHUzMDZFXHU3NjdCXHU1ODM0XHU5ODA2XHUzMDZCXHUzMEJEXHUzMEZDXHUzMEM4XHJcblx0XHRcdGRhdGFbaV0uc29ydCgoYSxiKT0+IHtcclxuXHRcdFx0XHRyZXR1cm4gKGEucG9zaXRpb24uc3RhcnQub2Zmc2V0IC0gYi5wb3NpdGlvbi5zdGFydC5vZmZzZXQpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGRhdGE7XHJcblxyXG5cdH1cclxuXHJcblx0Ly8gXHU2NENEXHU0RjVDXHUzMEEyXHUzMEE0XHUzMEIzXHUzMEYzXHU5MEU4XHU1MjA2XHUzMDkyXHU2M0NGXHU3NTNCXHJcblx0cHJpdmF0ZSBkcmF3VUkoKXtcclxuXHJcblx0XHRjb25zdCBuYXZIZWFkZXI6IEhUTUxFbGVtZW50ID0gY3JlYXRlRGl2KFwibmF2LWhlYWRlclwiKTtcclxuXHRcdGNvbnN0IG5hdkJ1dHRvbkNvbnRhaW5lcjogSFRNTEVsZW1lbnQgPSBuYXZIZWFkZXIuY3JlYXRlRGl2KFwibmF2LWJ1dHRvbnMtY29udGFpbmVyXCIpO1xyXG5cclxuXHRcdC8vIHBlcmlvZGljIG5vdGVzXHJcblx0XHRjb25zdCBncmFudWxhcml0eSA9IEdSQU5VTEFSSVRZX0xJU1RbdGhpcy5hY3RpdmVHcmFudWxhcml0eV07XHJcblx0XHRcclxuXHRcdC8vIFx1OTA0RVx1NTNCQlx1MzA2Qlx1NzlGQlx1NTJENVxyXG5cdFx0bGV0IG5hdkFjdGlvbkJ1dHRvbjogSFRNTEVsZW1lbnQgPSBuYXZCdXR0b25Db250YWluZXIuY3JlYXRlRGl2KFwiY2xpY2thYmxlLWljb24gbmF2LWFjdGlvbi1idXR0b25cIik7XHJcblx0XHRuYXZBY3Rpb25CdXR0b24uYXJpYUxhYmVsID0gXCJwcmV2aW91cyBub3Rlc1wiO1xyXG5cdFx0c2V0SWNvbihuYXZBY3Rpb25CdXR0b24sXCJhcnJvdy1sZWZ0XCIsMjApO1xyXG5cclxuXHRcdG5hdkFjdGlvbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFxyXG5cdFx0XHRcImNsaWNrXCIsXHJcblx0XHRcdGFzeW5jIChldmVudDpNb3VzZUV2ZW50KSA9PntcclxuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdHRoaXMuc2VhcmNoUmFuZ2UubGF0ZXN0ID0gdGhpcy5zZWFyY2hSYW5nZS5sYXRlc3Quc3VidHJhY3QodGhpcy5zZXR0aW5ncy5kdXJhdGlvbltncmFudWxhcml0eV0sZ3JhbnVsYXJpdHkpO1xyXG5cdFx0XHRcdHRoaXMuc2VhcmNoUmFuZ2UuZWFybGllc3QgPSB0aGlzLnNlYXJjaFJhbmdlLmVhcmxpZXN0LnN1YnRyYWN0KHRoaXMuc2V0dGluZ3MuZHVyYXRpb25bZ3JhbnVsYXJpdHldLGdyYW51bGFyaXR5KTtcclxuXHRcdFx0XHR0aGlzLnJlZnJlc2hWaWV3KGZhbHNlLCB0cnVlLCB0cnVlKTtcclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHJcblx0XHQvL1x1NjcyQVx1Njc2NVx1MzA2Qlx1NzlGQlx1NTJENVxyXG5cdFx0bmF2QWN0aW9uQnV0dG9uID0gbmF2QnV0dG9uQ29udGFpbmVyLmNyZWF0ZURpdihcImNsaWNrYWJsZS1pY29uIG5hdi1hY3Rpb24tYnV0dG9uXCIpO1xyXG5cdFx0bmF2QWN0aW9uQnV0dG9uLmFyaWFMYWJlbCA9IFwibmV4dCBub3Rlc1wiO1xyXG5cdFx0c2V0SWNvbihuYXZBY3Rpb25CdXR0b24sXCJhcnJvdy1yaWdodFwiLDIwKTtcclxuXHJcblx0XHRuYXZBY3Rpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XCJjbGlja1wiLFxyXG5cdFx0XHRhc3luYyAoZXZlbnQ6TW91c2VFdmVudCkgPT57XHJcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHR0aGlzLnNlYXJjaFJhbmdlLmxhdGVzdCA9IHRoaXMuc2VhcmNoUmFuZ2UubGF0ZXN0LmFkZCh0aGlzLnNldHRpbmdzLmR1cmF0aW9uW2dyYW51bGFyaXR5XSxncmFudWxhcml0eSk7XHJcblx0XHRcdFx0dGhpcy5zZWFyY2hSYW5nZS5lYXJsaWVzdCA9IHRoaXMuc2VhcmNoUmFuZ2UuZWFybGllc3QuYWRkKHRoaXMuc2V0dGluZ3MuZHVyYXRpb25bZ3JhbnVsYXJpdHldLGdyYW51bGFyaXR5KTtcclxuXHRcdFx0XHR0aGlzLnJlZnJlc2hWaWV3KGZhbHNlLCB0cnVlLCB0cnVlKTtcclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHJcblx0XHQvL1x1MzBEQlx1MzBGQ1x1MzBFMFx1MzA2Qlx1NjIzQlx1MzA4QlxyXG5cdFx0bmF2QWN0aW9uQnV0dG9uID0gbmF2QnV0dG9uQ29udGFpbmVyLmNyZWF0ZURpdihcImNsaWNrYWJsZS1pY29uIG5hdi1hY3Rpb24tYnV0dG9uXCIpO1xyXG5cdFx0bmF2QWN0aW9uQnV0dG9uLmFyaWFMYWJlbCA9IFwiaG9tZVwiO1xyXG5cdFx0c2V0SWNvbihuYXZBY3Rpb25CdXR0b24sXCJob21lXCIsMjApO1xyXG5cdFx0bmF2QWN0aW9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFwiY2xpY2tcIixcclxuXHRcdFx0YXN5bmMgKGV2ZW50Ok1vdXNlRXZlbnQpID0+e1xyXG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0dGhpcy5yZXNldFNlYXJjaFJhbmdlKCk7XHJcblx0XHRcdFx0dGhpcy5yZWZyZXNoVmlldyhmYWxzZSwgdHJ1ZSwgdHJ1ZSk7XHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblxyXG5cdFx0Ly9cdTMwRUFcdTMwRDVcdTMwRUNcdTMwQzNcdTMwQjdcdTMwRTVcclxuXHRcdG5hdkFjdGlvbkJ1dHRvbiA9IG5hdkJ1dHRvbkNvbnRhaW5lci5jcmVhdGVEaXYoXCJjbGlja2FibGUtaWNvbiBuYXYtYWN0aW9uLWJ1dHRvblwiKTtcclxuXHRcdG5hdkFjdGlvbkJ1dHRvbi5hcmlhTGFiZWwgPSBcInJlZnJlc2hcIjtcclxuXHRcdHNldEljb24obmF2QWN0aW9uQnV0dG9uLFwicmVmcmVzaC1jd1wiLDIwKTtcclxuXHRcdG5hdkFjdGlvbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFxyXG5cdFx0XHRcImNsaWNrXCIsXHJcblx0XHRcdGFzeW5jIChldmVudDpNb3VzZUV2ZW50KSA9PntcclxuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdHRoaXMucmVzZXRTZWFyY2hSYW5nZSgpO1xyXG5cdFx0XHRcdHRoaXMucmVmcmVzaFZpZXcodHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblx0XHQvLyBcdThBMkRcdTVCOUFcclxuXHRcdG5hdkFjdGlvbkJ1dHRvbiA9IG5hdkJ1dHRvbkNvbnRhaW5lci5jcmVhdGVEaXYoXCJjbGlja2FibGUtaWNvbiBuYXYtYWN0aW9uLWJ1dHRvblwiKTtcclxuXHRcdG5hdkFjdGlvbkJ1dHRvbi5hcmlhTGFiZWwgPSBcIm9wZW4gc2V0dGluZ3NcIjtcclxuXHRcdHNldEljb24obmF2QWN0aW9uQnV0dG9uLFwic2V0dGluZ3NcIiwyMCk7XHJcblx0XHRuYXZBY3Rpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XCJjbGlja1wiLFxyXG5cdFx0XHRhc3luYyAoZXZlbnQ6TW91c2VFdmVudCkgPT57XHJcblx0XHRcdFx0dGhpcy5hcHAuc2V0dGluZy5vcGVuKCk7XHJcblx0XHRcdFx0dGhpcy5hcHAuc2V0dGluZy5vcGVuVGFiQnlJZCh0aGlzLnBsdWdpbi5tYW5pZmVzdC5pZCk7XHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblx0XHRuYXZBY3Rpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XCJjb250ZXh0bWVudVwiLFxyXG5cdFx0XHQoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdFx0XHRjb25zdCBtZW51ID0gbmV3IE1lbnUoKTtcclxuXHRcdFx0XHRmb3IgKGNvbnN0IGVsZW1lbnQgaW4gdGhpcy5zZXR0aW5ncy5zaG93RWxlbWVudHMpe1xyXG5cdFx0XHRcdFx0Y29uc3QgaWNvbiA9ICggdGhpcy5zZXR0aW5ncy5zaG93RWxlbWVudHNbZWxlbWVudF0gPT0gdHJ1ZSk/IFwiY2hlY2tcIjpcIlwiO1xyXG5cdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKT0+XHJcblx0XHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0XHQuc2V0VGl0bGUoYHNob3cgJHtlbGVtZW50fWApXHJcblx0XHRcdFx0XHRcdFx0LnNldEljb24oaWNvbilcclxuXHRcdFx0XHRcdFx0XHQub25DbGljayhhc3luYygpPT57XHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLnNob3dFbGVtZW50c1tlbGVtZW50XSA9ICF0aGlzLnNldHRpbmdzLnNob3dFbGVtZW50c1tlbGVtZW50XTtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSxmYWxzZSk7XHJcblx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnNob3dFbGVtZW50cy5saXN0SXRlbXMpe1xyXG5cdFx0XHRcdFx0Y29uc3QgaWNvbiA9ICh0aGlzLnNldHRpbmdzLnRhc2tPbmx5KT8gXCJjaGVja1wiOiBcIlwiO1xyXG5cdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKT0+XHJcblx0XHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0XHQuc2V0VGl0bGUoXCJ0YXNrcyBvbmx5XCIpXHJcblx0XHRcdFx0XHRcdFx0LnNldEljb24oaWNvbilcclxuXHRcdFx0XHRcdFx0XHQub25DbGljayhhc3luYygpPT57XHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLnRhc2tPbmx5ID0gIXRoaXMuc2V0dGluZ3MudGFza09ubHk7XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsZmFsc2UpO1xyXG5cdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRtZW51LmFkZFNlcGFyYXRvcigpO1xyXG5cdFx0XHRcdGlmIChncmFudWxhcml0eSA9PSdkYXknKXtcclxuXHRcdFx0XHRcdGZvciAobGV0IGluZGV4IGluIEZJTEVJTkZPX1RPX0RJU1BMQVlfREFZKXtcclxuXHRcdFx0XHRcdFx0Y29uc3QgaWNvbiA9ICggaW5kZXggPT0gdGhpcy5zZXR0aW5ncy5kaXNwbGF5RmlsZUluZm9EYWlseSk/IFwiY2hlY2tcIjpcIlwiO1xyXG5cdFx0XHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pPT5cclxuXHRcdFx0XHRcdFx0XHRpdGVtXHJcblx0XHRcdFx0XHRcdFx0XHQuc2V0VGl0bGUoRklMRUlORk9fVE9fRElTUExBWV9EQVlbaW5kZXhdKVxyXG5cdFx0XHRcdFx0XHRcdFx0LnNldEljb24oaWNvbilcclxuXHRcdFx0XHRcdFx0XHRcdC5vbkNsaWNrKCBhc3luYygpPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLmRpc3BsYXlGaWxlSW5mb0RhaWx5ID0gaW5kZXg7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLGZhbHNlKVxyXG5cdFx0XHRcdFx0XHRcdFx0fSkpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGZvciAobGV0IGluZGV4IGluIEZJTEVJTkZPX1RPX0RJU1BMQVkpe1xyXG5cdFx0XHRcdFx0XHRjb25zdCBpY29uID0gKCBpbmRleCA9PSB0aGlzLnNldHRpbmdzLmRpc3BsYXlGaWxlSW5mb1BlcmlvZGljKT8gXCJjaGVja1wiOlwiXCI7XHJcblx0XHRcdFx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSk9PlxyXG5cdFx0XHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0XHRcdC5zZXRUaXRsZShGSUxFSU5GT19UT19ESVNQTEFZW2luZGV4XSlcclxuXHRcdFx0XHRcdFx0XHRcdC5zZXRJY29uKGljb24pXHJcblx0XHRcdFx0XHRcdFx0XHQub25DbGljayggYXN5bmMoKT0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5kaXNwbGF5RmlsZUluZm9QZXJpb2RpYyA9IGluZGV4O1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSxmYWxzZSlcclxuXHRcdFx0XHRcdFx0XHRcdH0pKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRtZW51LmFkZFNlcGFyYXRvcigpO1xyXG5cclxuXHRcdFx0XHRjb25zdCBpY29uID0gKHRoaXMuc2V0dGluZ3MudG9vbHRpcFByZXZpZXcpPyBcImNoZWNrXCI6XCJcIjtcclxuXHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pPT5cclxuXHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0LnNldFRpdGxlKFwic2hvdyB0b29sdGlwIHByZXZpZXdcIilcclxuXHRcdFx0XHRcdFx0LnNldEljb24oaWNvbilcclxuXHRcdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMoKT0+e1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MudG9vbHRpcFByZXZpZXcgPSAhdGhpcy5zZXR0aW5ncy50b29sdGlwUHJldmlldztcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLGZhbHNlKTtcclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdG1lbnUuc2hvd0F0TW91c2VFdmVudChldmVudCk7XHJcblx0XHRcdH1cclxuXHRcdClcclxuXHJcblx0XHQvLyBcdTMwQzdcdTMwQTRcdTMwRUFcdTMwRkNcdTMwQ0VcdTMwRkNcdTMwQzhcdTRGNUNcdTYyMTBcclxuXHRcdG5hdkFjdGlvbkJ1dHRvbiA9IG5hdkJ1dHRvbkNvbnRhaW5lci5jcmVhdGVEaXYoXCJjbGlja2FibGUtaWNvbiBuYXYtYWN0aW9uLWJ1dHRvblwiKTtcclxuXHJcblx0XHQvLyBwZXJpb2RpYyBub3RlXHUzMDZFXHUzMEFBXHUzMEYzXHUzMEFBXHUzMEQ1XHUzMDg0XHU3QzkyXHU1RUE2XHUzMDZCXHU1RjkzXHUzMDYzXHUzMDY2XHUzMEU5XHUzMEQ5XHUzMEVCXHUzMDkyXHU0RjVDXHU2MjEwXHJcblx0XHRsZXQgbGFiZWxGb3JUb2RheTogc3RyaW5nID0gJ2NyZWF0ZS9vcGVuICc7XHJcblx0XHRsZXQgbGFiZWxGb3JOZXh0OiBzdHJpbmcgPSAnY3JlYXRlL29wZW4gJztcclxuXHRcdGlmIChncmFudWxhcml0eSA9PSAnZGF5Jyl7XHJcblx0XHRcdGxhYmVsRm9yVG9kYXkgPSBsYWJlbEZvclRvZGF5ICsgXCJ0b2RheSdzIFwiO1xyXG5cdFx0XHRsYWJlbEZvck5leHQgPSBsYWJlbEZvck5leHQgKyBcInRvbW9ycm93J3MgXCI7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRsYWJlbEZvclRvZGF5ID0gbGFiZWxGb3JUb2RheSArIFwicHJlc2VudCBcIjtcclxuXHRcdFx0bGFiZWxGb3JOZXh0ID0gbGFiZWxGb3JOZXh0ICsgXCJuZXh0IFwiO1xyXG5cdFx0fVxyXG5cdFx0bGFiZWxGb3JUb2RheSA9IGxhYmVsRm9yVG9kYXkgKyBHUkFOVUxBUklUWV9UT19QRVJJT0RJQ0lUWVtncmFudWxhcml0eV0gKyAnIG5vdGUnO1xyXG5cdFx0bGFiZWxGb3JOZXh0ID0gbGFiZWxGb3JOZXh0ICsgR1JBTlVMQVJJVFlfVE9fUEVSSU9ESUNJVFlbZ3JhbnVsYXJpdHldICsgJyBub3RlJztcclxuXHJcblx0XHRpZiAodGhpcy52ZXJQTiA9PSAyKXtcclxuXHRcdFx0bGFiZWxGb3JUb2RheSA9IGxhYmVsRm9yVG9kYXkgKyAnIGZvciAnICsgdGhpcy5jYWxlbmRhclNldHNbdGhpcy5hY3RpdmVTZXRdLmlkO1xyXG5cdFx0XHRsYWJlbEZvck5leHQgPSBsYWJlbEZvck5leHQgKyAnIGZvciAnICsgdGhpcy5jYWxlbmRhclNldHNbdGhpcy5hY3RpdmVTZXRdLmlkO1xyXG5cdFx0fVxyXG5cclxuXHRcdG5hdkFjdGlvbkJ1dHRvbi5hcmlhTGFiZWwgPSBsYWJlbEZvclRvZGF5O1xyXG5cdFx0c2V0SWNvbihuYXZBY3Rpb25CdXR0b24sXCJjYWxlbmRhci1wbHVzXCIsMjApO1xyXG5cdFx0bmF2QWN0aW9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFwiY2xpY2tcIixcclxuXHRcdFx0YXN5bmMgKGV2ZW50Ok1vdXNlRXZlbnQpID0+e1xyXG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0O1xyXG5cdFx0XHRcdGNvbnN0IGRhdGUgPSB3aW5kb3cubW9tZW50KCk7XHJcblxyXG5cdFx0XHRcdGlmICh0aGlzLnZlclBOID09IDIpe1xyXG5cdFx0XHRcdFx0Y3JlYXRlQW5kT3BlblBlcmlvZGljTm90ZSggZ3JhbnVsYXJpdHksIGRhdGUsIHRoaXMuY2FsZW5kYXJTZXRzW3RoaXMuYWN0aXZlU2V0XSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGNyZWF0ZUFuZE9wZW5EYWlseU5vdGUoZ3JhbnVsYXJpdHksIGRhdGUsIHRoaXMuYWxsRGFpbHlOb3Rlcyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cdFx0bmF2QWN0aW9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFwiY29udGV4dG1lbnVcIixcclxuXHRcdFx0KGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgbWVudSA9IG5ldyBNZW51KCk7XHJcblx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PlxyXG5cdFx0XHRcdFx0aXRlbVxyXG5cdFx0XHRcdFx0XHQvLyAuc2V0VGl0bGUoXCJjcmVhdGUvb3BlbiB0b21vcnJvdydzIGRhaWx5IG5vdGVcIilcclxuXHRcdFx0XHRcdFx0LnNldFRpdGxlKGxhYmVsRm9yTmV4dClcclxuXHRcdFx0XHRcdFx0LnNldEljb24oXCJjYWxlbmRhci1wbHVzXCIpXHJcblx0XHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGRhdGUgPSB3aW5kb3cubW9tZW50KCkuYWRkKDEsZ3JhbnVsYXJpdHkpO1xyXG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLnZlclBOID09IDIpe1xyXG5cdFx0XHRcdFx0XHRcdFx0Y3JlYXRlQW5kT3BlblBlcmlvZGljTm90ZShncmFudWxhcml0eSwgZGF0ZSwgdGhpcy5jYWxlbmRhclNldHNbdGhpcy5hY3RpdmVTZXRdKTsgXHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdGNyZWF0ZUFuZE9wZW5EYWlseU5vdGUoZ3JhbnVsYXJpdHksIGRhdGUsIHRoaXMuYWxsRGFpbHlOb3Rlcyk7IFxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdG1lbnUuc2hvd0F0TW91c2VFdmVudChldmVudCk7XHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblxyXG5cdFx0Ly8gXHU2MkJEXHU1MUZBXHJcblx0XHRuYXZBY3Rpb25CdXR0b24gPSBuYXZCdXR0b25Db250YWluZXIuY3JlYXRlRGl2KFwiY2xpY2thYmxlLWljb24gbmF2LWFjdGlvbi1idXR0b25cIik7XHJcblx0XHRpZiAoIXRoaXMuZXh0cmFjdE1vZGUpe1xyXG5cdFx0XHQvL1x1NjJCRFx1NTFGQVx1MzA5Mlx1MzBBQVx1MzBGM1x1MzA2QlxyXG5cdFx0XHRuYXZBY3Rpb25CdXR0b24uYXJpYUxhYmVsID0gXCJleHRyYWN0XCI7XHJcblx0XHRcdHNldEljb24obmF2QWN0aW9uQnV0dG9uLFwic2VhcmNoXCIsMjApO1xyXG5cdFx0XHRuYXZBY3Rpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XCJjbGlja1wiLFxyXG5cdFx0XHRhc3luYyAoZXZlbnQ6TW91c2VFdmVudCkgPT57XHJcblx0XHRcdFx0Ly9cdTUxNjVcdTUyOUJcdTMwRTJcdTMwRkNcdTMwQzBcdTMwRUJcdTMwOTJcdTk1OEJcdTMwNEZcclxuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdDtcclxuXHRcdFx0XHRjb25zdCBvblN1Ym1pdCA9IChlbmFibGVFeHRyYWN0OiBib29sZWFuKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAoZW5hYmxlRXh0cmFjdCl7XHJcblx0XHRcdFx0XHRcdHRoaXMuZXh0cmFjdE1vZGUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLGZhbHNlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdG5ldyBNb2RhbEV4dHJhY3QodGhpcy5hcHAsIHRoaXMucGx1Z2luLCBvblN1Ym1pdCkub3BlbigpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vXHU2MkJEXHU1MUZBXHUzMDkyXHUzMEFBXHUzMEQ1XHUzMDZCXHJcblx0XHRcdG5hdkFjdGlvbkJ1dHRvbi5hcmlhTGFiZWwgPSBcInVuZXh0cmFjdFwiO1xyXG5cdFx0XHRzZXRJY29uKG5hdkFjdGlvbkJ1dHRvbixcIngtY2lyY2xlXCIsMjApO1xyXG5cdFx0XHRuYXZBY3Rpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XCJjbGlja1wiLFxyXG5cdFx0XHRhc3luYyAoZXZlbnQ6TW91c2VFdmVudCkgPT57XHJcblx0XHRcdFx0dGhpcy5leHRyYWN0TW9kZSA9IGZhbHNlO1xyXG5cdFx0XHRcdHRoaXMuZXh0cmFjdFRhc2sgPSBmYWxzZTtcclxuXHRcdFx0XHR0aGlzLnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLGZhbHNlKTtcclxuXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0bmF2QWN0aW9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFwiY29udGV4dG1lbnVcIixcclxuXHRcdFx0KGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgbWVudSA9IG5ldyBNZW51KCk7XHJcblx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PlxyXG5cdFx0XHRcdFx0aXRlbVxyXG5cdFx0XHRcdFx0XHQuc2V0VGl0bGUoXCJleHRyYWN0IHRhc2tzXCIpXHJcblx0XHRcdFx0XHRcdC5zZXRJY29uKFwiY2hlY2stc3F1YXJlXCIpXHJcblx0XHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuZXh0cmFjdE1vZGUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuZXh0cmFjdFRhc2sgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsZmFsc2UpOyBcclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdG1lbnUuc2hvd0F0TW91c2VFdmVudChldmVudCk7XHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblx0XHRcdFxyXG5cdFx0Ly8gXHU2NUU1XHU0RUQ4XHUzMDZFXHU3QkM0XHU1NkYyXHUzMDZFXHU2M0NGXHU3NTNCXHJcblx0XHRjb25zdCBuYXZEYXRlUmFuZ2U6IEhUTUxFbGVtZW50ID0gbmF2SGVhZGVyLmNyZWF0ZURpdihcIm5hdi1kYXRlLXJhbmdlXCIpO1xyXG5cdFx0bGV0IGxhdGVzdCA9IHRoaXMuc2VhcmNoUmFuZ2UubGF0ZXN0LmNsb25lKCk7XHJcblx0XHRsZXQgZWFybGllc3QgPSB0aGlzLnNlYXJjaFJhbmdlLmVhcmxpZXN0LmNsb25lKCk7XHJcblxyXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MuaW5pdGlhbFNlYXJjaFR5cGUgPT0nYmFja3dhcmQnKXtcclxuXHRcdFx0ZWFybGllc3QgPSBsYXRlc3QuY2xvbmUoKS5zdWJ0cmFjdCh0aGlzLnNldHRpbmdzLmR1cmF0aW9uW2dyYW51bGFyaXR5XSAtIDEgLGdyYW51bGFyaXR5KTtcclxuXHRcdFx0aWYgKGxhdGVzdC5pc1NhbWUod2luZG93Lm1vbWVudCgpLFwiZGF5XCIpKXtcclxuXHRcdFx0XHRsYXRlc3QgPSBsYXRlc3QuYWRkKE1hdGguY2VpbCh0aGlzLnNldHRpbmdzLm9mZnNldC9EQVlTX1BFUl9VTklUW2dyYW51bGFyaXR5XSksZ3JhbnVsYXJpdHkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5pbml0aWFsU2VhcmNoVHlwZSA9PSdmb3J3YXJkJyl7XHJcblx0XHRcdGxhdGVzdCA9IGVhcmxpZXN0LmNsb25lKCkuYWRkKHRoaXMuc2V0dGluZ3MuZHVyYXRpb25bZ3JhbnVsYXJpdHldIC0xICxncmFudWxhcml0eSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZGF0ZVJhbmdlOiBzdHJpbmcgPSBlYXJsaWVzdC5mb3JtYXQoXCJZWVlZL01NL0REIFstXSBcIikgKyBcclxuXHRcdFx0bGF0ZXN0LmZvcm1hdCggZWFybGllc3QuaXNTYW1lKGxhdGVzdCwneWVhcicpID8gIFwiTU0vRERcIjogXCJZWVlZL01NL0REXCIpO1xyXG5cdFx0bmF2RGF0ZVJhbmdlLmNyZWF0ZURpdihcIm5hdi1kYXRlLXJhbmdlLWNvbnRlbnRcIikuc2V0VGV4dChkYXRlUmFuZ2UpO1xyXG5cclxuXHRcdC8vXHU2NUU1XHU0RUQ4XHU3QkM0XHU1NkYyXHUzMEFGXHUzMEVBXHUzMEMzXHUzMEFGXHU2NjQyXHUzMDZFXHU1MkQ1XHU0RjVDIFx1NUY4Q1x1MzA2N1x1NTkwOVx1NjZGNFx1MzA1OVx1MzA4QlxyXG5cdFx0bmF2RGF0ZVJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFwiY2xpY2tcIixcclxuXHRcdFx0YXN5bmMgKGV2ZW50Ok1vdXNlRXZlbnQpID0+e1xyXG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0Y29uc3Qgb25zZXREYXRlID0gd2luZG93Lm1vbWVudCh0aGlzLnNldHRpbmdzLm9uc2V0LFwiWVlZWS1NTS1ERFwiKTtcclxuXHRcdFx0XHRpZiAob25zZXREYXRlLmlzVmFsaWQoKSl7XHJcblx0XHRcdFx0XHR0aGlzLnNlYXJjaFJhbmdlLmVhcmxpZXN0ID0gb25zZXREYXRlO1xyXG5cdFx0XHRcdFx0dGhpcy5zZWFyY2hSYW5nZS5sYXRlc3QgPSBvbnNldERhdGUuY2xvbmUoKS5hZGQodGhpcy5zZXR0aW5ncy5kdXJhdGlvbi5kYXkgLTEsJ2RheXMnKTtcclxuXHRcdFx0XHR9IGVsc2UgeyAgXHJcblx0XHRcdFx0XHQvLyBvbnNldERhdGVcdTMwNENcdTRFMERcdTZCNjNcdTMwNkFcdTMwODlcdTVGNTNcdTY1RTVcdThENzdcdTcwQjlcdTMwNkViYWNrd2FyZCBzZWFyY2hcdTMwOTJcdTg4NENcdTMwNDZcclxuXHRcdFx0XHRcdHRoaXMuc2VhcmNoUmFuZ2UubGF0ZXN0ID0gd2luZG93Lm1vbWVudCgpLnN0YXJ0T2YoJ2RheScpO1xyXG5cdFx0XHRcdFx0dGhpcy5zZWFyY2hSYW5nZS5lYXJsaWVzdCA9IHdpbmRvdy5tb21lbnQoKS5zdGFydE9mKCdkYXknKS5zdWJ0cmFjdCh0aGlzLnNldHRpbmdzLmR1cmF0aW9uLmRheSAtIDEsJ2RheXMnKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLnJlZnJlc2hWaWV3KGZhbHNlLCB0cnVlLCB0cnVlKTtcclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHJcblx0XHQvLyBQZXJpb2RpYyBOb3RlcyBcdTdDOTJcdTVFQTZcdTYzQ0ZcdTc1M0IgJiBcdTdDOTJcdTVFQTZcdTUyMDdcdTMwOEFcdTY2RkZcdTMwNDhcdTUxRTZcdTc0MDZcclxuXHRcdGlmICh0aGlzLnNldHRpbmdzLnBlcmlvZGljTm90ZXNFbmFibGVkKXtcclxuXHRcdFx0Y29uc3QgbmF2R3JhbnVsYXJpdHk6IEhUTUxFbGVtZW50ID0gbmF2SGVhZGVyLmNyZWF0ZURpdihcIm5hdi1kYXRlLXJhbmdlXCIpO1xyXG5cdFx0XHRuYXZHcmFudWxhcml0eS5jcmVhdGVEaXYoXCJuYXYtZGF0ZS1yYW5nZS1jb250ZW50XCIpLnNldFRleHQoR1JBTlVMQVJJVFlfTElTVFt0aGlzLmFjdGl2ZUdyYW51bGFyaXR5XSk7XHJcblxyXG5cdFx0XHRuYXZHcmFudWxhcml0eS5hZGRFdmVudExpc3RlbmVyKFxyXG5cdFx0XHRcdFwiY2xpY2tcIixcclxuXHRcdFx0XHQoZXZldDpNb3VzZUV2ZW50KSA9PntcclxuXHRcdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnNob3dEZWJ1Z0luZm8pe1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnRE5POmNsaWNrZWQgdG8gY2hhbmdlIGdyYW51bGFyaXR5LiB2ZXJQTiwgY2FsZW5kYXJTZXRzOicsdGhpcy5hY3RpdmVHcmFudWxhcml0eSwgdGhpcy52ZXJQTiwgdGhpcy5jYWxlbmRhclNldHMpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Y29uc3QgaW5pdGlhbEdyYW51bGFyaXR5ID0gdGhpcy5hY3RpdmVHcmFudWxhcml0eTtcclxuXHRcdFx0XHRcdGRvIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5hY3RpdmVHcmFudWxhcml0eSA9ICh0aGlzLmFjdGl2ZUdyYW51bGFyaXR5ICsgMSkgJSBHUkFOVUxBUklUWV9MSVNULmxlbmd0aDtcclxuXHRcdFx0XHRcdH0gd2hpbGUgKChcclxuXHRcdFx0XHRcdFx0KHRoaXMudmVyUE4gPT0gMiAmJiAhdGhpcy5jYWxlbmRhclNldHNbdGhpcy5hY3RpdmVTZXRdW0dSQU5VTEFSSVRZX0xJU1RbdGhpcy5hY3RpdmVHcmFudWxhcml0eV1dPy5lbmFibGVkKSB8fFxyXG5cdFx0XHRcdFx0XHQodGhpcy52ZXJQTiA9PSAxICYmICF0aGlzLmFwcC5wbHVnaW5zLmdldFBsdWdpbihcInBlcmlvZGljLW5vdGVzXCIpLnNldHRpbmdzPy5bR1JBTlVMQVJJVFlfVE9fUEVSSU9ESUNJVFlbR1JBTlVMQVJJVFlfTElTVFt0aGlzLmFjdGl2ZUdyYW51bGFyaXR5XV1dPy5lbmFibGVkKVxyXG5cdFx0XHRcdFx0XHQpICYmIHRoaXMuYWN0aXZlR3JhbnVsYXJpdHkgIT0gaW5pdGlhbEdyYW51bGFyaXR5KVxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5yZXF1ZXN0U2F2ZUxheW91dCgpO1xyXG5cdFx0XHRcdFx0dGhpcy5yZWZyZXNoVmlldyh0cnVlLCB0cnVlLCB0cnVlKTsgXHJcblx0XHRcdFx0fVxyXG5cdFx0XHQpXHJcblxyXG5cdFx0XHQvLyBcdTMwQjNcdTMwRjNcdTMwQzZcdTMwQURcdTMwQjlcdTMwQzhcdTMwRTFcdTMwQ0JcdTMwRTVcdTMwRkNcclxuXHRcdFx0bmF2R3JhbnVsYXJpdHkuYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XHRcImNvbnRleHRtZW51XCIsXHJcblx0XHRcdFx0KGV2ZW50OiBNb3VzZUV2ZW50KSA9PntcclxuXHRcdFx0XHRcdGNvbnN0IG1lbnUgPSBuZXcgTWVudSgpO1xyXG5cdFx0XHRcdFx0Zm9yIChsZXQgaT0wIDsgaTxHUkFOVUxBUklUWV9MSVNULmxlbmd0aDsgaSsrKXtcclxuXHRcdFx0XHRcdFx0aWYgKFxyXG5cdFx0XHRcdFx0XHRcdCh0aGlzLnZlclBOID09MiAmJiB0aGlzLmNhbGVuZGFyU2V0c1t0aGlzLmFjdGl2ZVNldF1bR1JBTlVMQVJJVFlfTElTVFtpXV0/LmVuYWJsZWQpfHxcclxuXHRcdFx0XHRcdFx0XHQodGhpcy52ZXJQTiA9PTEgJiYgdGhpcy5hcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKS5zZXR0aW5ncz8uW0dSQU5VTEFSSVRZX1RPX1BFUklPRElDSVRZW0dSQU5VTEFSSVRZX0xJU1RbaV1dXT8uZW5hYmxlZClcclxuXHRcdFx0XHRcdFx0XHQpe1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGljb24gPSAoIGkgPT0gdGhpcy5hY3RpdmVHcmFudWxhcml0eSk/IFwiY2hlY2tcIjpcIlwiO1xyXG5cdFx0XHRcdFx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSk9PlxyXG5cdFx0XHRcdFx0XHRcdFx0aXRlbVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQuc2V0VGl0bGUoR1JBTlVMQVJJVFlfTElTVFtpXSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0LnNldEljb24oaWNvbilcclxuXHRcdFx0XHRcdFx0XHRcdFx0Lm9uQ2xpY2soICgpPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuYWN0aXZlR3JhbnVsYXJpdHkgPSBpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5yZXF1ZXN0U2F2ZUxheW91dCgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMucmVmcmVzaFZpZXcodHJ1ZSx0cnVlLHRydWUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdG1lbnUuc2hvd0F0TW91c2VFdmVudChldmVudCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHQpXHJcblx0XHR9XHJcblx0XHQvLyBQZXJpb2RpYyBOb3RlcyBcdTMwQUJcdTMwRUNcdTMwRjNcdTMwQzBcdTMwRkNcdTMwQkJcdTMwQzNcdTMwQzhcdTYzQ0ZcdTc1M0IgJiBcdTMwQkJcdTMwQzNcdTMwQzhcdTUyMDdcdTMwOEFcdTY2RkZcdTMwNDhcdTUxRTZcdTc0MDZcclxuXHRcdGlmICh0aGlzLnNldHRpbmdzLmNhbGVuZGFyU2V0c0VuYWJsZWQpe1xyXG5cdFx0XHRjb25zdCBuYXZDYWxlbmRhclNldDogSFRNTEVsZW1lbnQgPSBuYXZIZWFkZXIuY3JlYXRlRGl2KFwibmF2LWRhdGUtcmFuZ2VcIik7XHJcblx0XHRcdG5hdkNhbGVuZGFyU2V0LmNyZWF0ZURpdihcIm5hdi1kYXRlLXJhbmdlLWNvbnRlbnRcIikuc2V0VGV4dCh0aGlzLmNhbGVuZGFyU2V0c1t0aGlzLmFjdGl2ZVNldF0uaWQpO1xyXG5cdFx0XHJcblx0XHRcdG5hdkNhbGVuZGFyU2V0LmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFx0XCJjbGlja1wiLFxyXG5cdFx0XHRcdChldmV0Ok1vdXNlRXZlbnQpID0+e1xyXG5cdFx0XHRcdFx0dGhpcy5hY3RpdmVTZXQgPSAodGhpcy5hY3RpdmVTZXQgKyAxKSAlIHRoaXMuY2FsZW5kYXJTZXRzLmxlbmd0aDtcclxuXHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5yZXF1ZXN0U2F2ZUxheW91dCgpO1xyXG5cdFx0XHRcdFx0dGhpcy5yZWZyZXNoVmlldyhmYWxzZSx0cnVlLHRydWUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0KVxyXG5cclxuXHRcdFx0Ly8gXHUzMEIzXHUzMEYzXHUzMEM2XHUzMEFEXHUzMEI5XHUzMEM4XHUzMEUxXHUzMENCXHUzMEU1XHUzMEZDXHJcblx0XHRcdG5hdkNhbGVuZGFyU2V0LmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFx0XCJjb250ZXh0bWVudVwiLFxyXG5cdFx0XHRcdChldmVudDogTW91c2VFdmVudCkgPT57XHJcblx0XHRcdFx0XHRjb25zdCBtZW51ID0gbmV3IE1lbnUoKTtcclxuXHRcdFx0XHRcdGZvciAobGV0IGk9MCA7IGk8dGhpcy5jYWxlbmRhclNldHMubGVuZ3RoOyBpKyspe1xyXG5cdFx0XHRcdFx0XHRjb25zdCBpY29uID0gKCBpID09IHRoaXMuYWN0aXZlU2V0KT8gXCJjaGVja1wiOlwiXCI7XHJcblx0XHRcdFx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSk9PlxyXG5cdFx0XHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0XHRcdC5zZXRUaXRsZSh0aGlzLmNhbGVuZGFyU2V0c1tpXS5pZClcclxuXHRcdFx0XHRcdFx0XHRcdC5zZXRJY29uKGljb24pXHJcblx0XHRcdFx0XHRcdFx0XHQub25DbGljayggKCk9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuYWN0aXZlU2V0ID0gaTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLnJlcXVlc3RTYXZlTGF5b3V0KCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMucmVmcmVzaFZpZXcoZmFsc2UsdHJ1ZSx0cnVlKTtcclxuXHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRtZW51LnNob3dBdE1vdXNlRXZlbnQoZXZlbnQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0KVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFx1NjNDRlx1NzUzQlxyXG5cdFx0dGhpcy5jb250ZW50RWwuZW1wdHkoKTtcclxuXHRcdHRoaXMuY29udGVudEVsLmFwcGVuZENoaWxkKG5hdkhlYWRlcik7XHJcblx0fVxyXG5cclxuXHQvLyAgXHUzMEEyXHUzMEE2XHUzMEM4XHUzMEU5XHUzMEE0XHUzMEYzXHU2M0NGXHU3NTNCXHRcclxuXHRwcml2YXRlIGRyYXdPdXRsaW5lKCBmaWxlczogVEZpbGVbXSwgaW5mbzogRmlsZUluZm9bXSwgZGF0YTogT3V0bGluZURhdGFbXVtdKTp2b2lkIHtcclxuXHJcblx0XHRjb25zdCBjb250YWluZXJFbDogSFRNTEVsZW1lbnQgPSBjcmVhdGVEaXYoXCJuYXYtZmlsZXMtY29udGFpbmVyIG5vZGUtaW5zZXJ0LWV2ZW50XCIpO1xyXG5cdFx0Y29uc3Qgcm9vdEVsOiBIVE1MRWxlbWVudCA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdihcInRyZWUtaXRlbSBuYXYtZm9sZGVyIG1vZC1yb290XCIpOyBcclxuXHRcdGNvbnN0IHJvb3RDaGlsZHJlbkVsOiBIVE1MRWxlbWVudCA9IHJvb3RFbC5jcmVhdGVEaXYoXCJ0cmVlLWl0ZW0tY2hpbGRyZW4gbmF2LWZvbGRlci1jaGlsZHJlblwiKTsgXHJcblxyXG5cdFx0aWYgKGZpbGVzLmxlbmd0aCA9PSAwKXtcclxuXHRcdFx0cm9vdENoaWxkcmVuRWwuY3JlYXRlRWwoXCJoNFwiLHtcclxuXHRcdFx0XHR0ZXh0OiBcIk5vIGRhaWx5L3BlcmlvZGljIG5vdGUgZm91bmRcIlxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBpbmNsdWRlIG9ubHkgbW9kZVx1MzA0Q1x1MzBBQVx1MzBGM1x1MzA2Qlx1MzA2QVx1MzA2M1x1MzA2Nlx1MzA0NFx1MzA4Qlx1MzA0QlxyXG5cdFx0bGV0IGluY2x1ZGVNb2RlOiBib29sZWFuID0gKHRoaXMuc2V0dGluZ3MuaW5jbHVkZU9ubHkgIT0gJ25vbmUnKSAmJiAoQm9vbGVhbih0aGlzLnNldHRpbmdzLndvcmRzVG9JbmNsdWRlLmxlbmd0aCkgfHwgKHRoaXMuc2V0dGluZ3MuaW5jbHVkZUJlZ2lubmluZykpO1xyXG5cclxuXHRcdC8vIFx1ODg2OFx1NzkzQVx1MzBBQVx1MzBGM1x1MzA2Qlx1MzA2QVx1MzA2M1x1MzA2Nlx1MzA0NFx1MzA4Qlx1ODk4Qlx1NTFGQVx1MzA1N1x1MzBFQ1x1MzBEOVx1MzBFQlx1MzA2RVx1NjcwMFx1OUFEOFx1NTAyNFxyXG5cdFx0bGV0IG1heExldmVsID0gdGhpcy5zZXR0aW5ncy5oZWFkaW5nTGV2ZWwuaW5kZXhPZih0cnVlKTtcclxuXHJcblx0XHRcclxuXHJcblxyXG5cdFx0Zm9yIChsZXQgaT0wOyBpPGZpbGVzLmxlbmd0aCA7IGkrKyl7XHJcblxyXG5cdFx0XHQvLyBcdTY3MDBcdTY1QjBcdTMwNkVcdTg5OEJcdTUxRkFcdTMwNTdcdTMwRUNcdTMwRDlcdTMwRUJcclxuXHRcdFx0bGV0IGxhdGVzdEhlYWRpbmdMZXZlbCA9IDA7XHJcblxyXG5cdFx0XHQvLyBcdTMwQzdcdTMwQTRcdTMwRUFcdTMwRkNcdTMwQ0VcdTMwRkNcdTMwQzhcdTMwNkVcdTMwQkZcdTMwQTRcdTMwQzhcdTMwRUJcdTkwRThcdTUyMDZcdTRGNUNcdTYyMTAgPSBcdTMwRDVcdTMwQTlcdTMwRUJcdTMwQzBcdTRGNUNcdTYyMTBcclxuXHRcdFx0Y29uc3QgZGFpbHlOb3RlRWw6IEhUTUxEaXZFbGVtZW50ID0gcm9vdENoaWxkcmVuRWwuY3JlYXRlRGl2KFwidHJlZS1pdGVtIG5hdi1mb2xkZXJcIik7XHJcblx0XHRcdGNvbnN0IGRhaWx5Tm90ZVRpdGxlRWw6IEhUTUxEaXZFbGVtZW50ID0gZGFpbHlOb3RlRWwuY3JlYXRlRGl2KFwidHJlZS1pdGVtLXNlbGYgaXMtY2xpY2thYmxlIG1vZC1jb2xsYXBzaWJsZSBuYXYtZm9sZGVyLXRpdGxlXCIpO1xyXG5cdFx0XHRjb25zdCBkYWlseU5vdGVDaGlsZHJlbkVsOiBIVE1MRGl2RWxlbWVudCA9IGRhaWx5Tm90ZUVsLmNyZWF0ZURpdihcInRyZWUtaXRlbS1jaGlsZHJlbiBuYXYtZm9sZGVyLWNoaWxkcmVuXCIpO1xyXG5cdFx0XHQvL2NvbnN0IGNvbGxhcHNlSWNvbkVsOiBIVE1MRGl2RWxlbWVudCA9IGRhaWx5Tm90ZVRpdGxlRWwuY3JlYXRlRGl2KFwibmF2LWZvbGRlci1jb2xsYXBzZS1pbmRpY2F0b3IgY29sbGFwc2UtaWNvblwiKTtcclxuXHRcdFx0XHJcblx0XHRcdC8qXHUzMDQ0XHUzMDVBXHUzMDhDXHUzMENFXHUzMEZDXHUzMEM4XHUzMDZFXHU2Mjk4XHUzMDhBXHUzMDVGXHUzMDVGXHUzMDdGXHU1MUU2XHU3NDA2XHUzMDkyXHUyMDI2XHJcblx0XHRcdGNvbGxhcHNlSWNvbkVsLmlubmVySFRNTCA9IENPTExBUFNFX0lDT047XHJcblx0XHRcdGlmIChub3RlQ29sbGFwc2VkW2ldKSB7XHJcblx0XHRcdFx0KGNvbGxhcHNlSWNvbkVsLmNoaWxkTm9kZXNbMF0gYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnRyYW5zZm9ybSA9IFwicm90YXRlKC05MGRlZylcIjtcclxuXHRcdFx0fVxyXG5cdFx0XHQqL1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gIE1OT1x1MzA2Qlx1NTAyM1x1MzA2M1x1MzA1Rlx1MzBBMlx1MzBBNFx1MzBCM1x1MzBGM1x1ODg2OFx1NzkzQSAgXHUzMDVGXHUzMDYwXHUzMDU3IGNvbGxhcHNlLWljb24gXHUzMEFGXHUzMEU5XHUzMEI5XHUzMDkyXHUzMDY0XHUzMDUxXHUzMDhCXHUzMDY4XHU3RTJFXHU1QzBGXHUzMDU1XHUzMDhDXHUzMDVGXHUzMDZFXHUzMDY3XHU5NjY0XHU1M0JCXHJcblx0XHRcdGNvbnN0IG5vdGVDb2xsYXBzZUljb246SFRNTEVsZW1lbnQgPSBkYWlseU5vdGVUaXRsZUVsLmNyZWF0ZURpdihcInRyZWUtaXRlbS1pY29uIG5hdi1mb2xkZXItY29sbGFwc2UtaW5kaWNhdG9yXCIpO1xyXG5cclxuXHRcdFx0Ly9cdTMwRDVcdTMwQTFcdTMwQTRcdTMwRUJcdTU0MERcdTMwNkJcdTMwQTJcdTMwQTRcdTMwQjNcdTMwRjNcdTMwOTJcdTRFRDhcdTUyQTBcclxuXHRcdFx0c3dpdGNoKHRoaXMuc2V0dGluZ3MuaWNvbi5ub3RlKXtcclxuXHRcdFx0XHRjYXNlICdub25lJzpcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgJ2N1c3RvbSc6XHJcblx0XHRcdFx0XHRzZXRJY29uKG5vdGVDb2xsYXBzZUljb24sIHRoaXMuc2V0dGluZ3MuY3VzdG9tSWNvbi5ub3RlKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5pY29uLm5vdGUpe1xyXG5cdFx0XHRcdFx0XHRzZXRJY29uKG5vdGVDb2xsYXBzZUljb24sIHRoaXMuc2V0dGluZ3MuaWNvbi5ub3RlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRcclxuXHJcblx0XHRcdC8vd2Vla2x5IG5vdGVcdTMwNkVcdTU4MzRcdTU0MDhcdTY1RTVcdTRFRDhcdTMwNkVcdTdCQzRcdTU2RjJcdTMwOTJcdTRFRDhcdTUyQTBcdTg4NjhcdTc5M0FcclxuXHRcdFx0bGV0IG5hbWUgPSBmaWxlc1tpXS5iYXNlbmFtZTtcclxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MuYXR0YWNoV2Vla2x5Tm90ZXNOYW1lICYmIEdSQU5VTEFSSVRZX0xJU1RbdGhpcy5hY3RpdmVHcmFudWxhcml0eV0gPT0nd2Vlaycpe1xyXG5cdFx0XHRcdG5hbWUgPSBuYW1lICsgXCIgKFwiICt0aGlzLmZpbGVJbmZvW2ldLmRhdGUuY2xvbmUoKS5zdGFydE9mKCd3ZWVrJykuZm9ybWF0KFwiTU0vREQgWy1dIFwiKSArIHRoaXMuZmlsZUluZm9baV0uZGF0ZS5jbG9uZSgpLmVuZE9mKCd3ZWVrJykuZm9ybWF0KFwiTU0vRERcIikgK1wiKVwiO1xyXG5cdFx0XHR9XHJcblx0XHRcdGRhaWx5Tm90ZVRpdGxlRWwuY3JlYXRlRGl2KFwidHJlZS1pdGVtLWlubmVyIG5hdi1mb2xkZXItdGl0bGUtY29udGVudFwiKS5zZXRUZXh0KG5hbWUpO1xyXG5cclxuXHRcdFx0Ly9cdTMwRDVcdTMwQTFcdTMwQTRcdTMwRUJcdTU0MERcdTMwNkVcdTVGOENcdTMwNkVcdTYwQzVcdTU4MzFcdTMwOTJcdTg4NjhcdTc5M0FcclxuXHRcdFx0Y29uc3QgaW5mb1RvRGlzcGxheSA9ICh0aGlzLmFjdGl2ZUdyYW51bGFyaXR5ID09IDAgKSA/IHRoaXMuc2V0dGluZ3MuZGlzcGxheUZpbGVJbmZvRGFpbHkgOiB0aGlzLnNldHRpbmdzLmRpc3BsYXlGaWxlSW5mb1BlcmlvZGljO1xyXG5cclxuXHRcdFx0c3dpdGNoIChpbmZvVG9EaXNwbGF5KSB7XHJcblx0XHRcdFx0Y2FzZSAnbGluZXMnOlxyXG5cdFx0XHRcdFx0ZGFpbHlOb3RlVGl0bGVFbC5kYXRhc2V0LnN1YmluZm8gPSBpbmZvW2ldLm51bU9mTGluZXMudG9TdHJpbmcoKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgJ2RheXMnOlxyXG5cdFx0XHRcdFx0bGV0IGJhc2VkYXRlID0gKHRoaXMuc2V0dGluZ3MuaW5pdGlhbFNlYXJjaFR5cGUgPT0gXCJiYWNrd2FyZFwiKT8gd2luZG93Lm1vbWVudCgpOiB3aW5kb3cubW9tZW50KHRoaXMuc2V0dGluZ3Mub25zZXQpO1xyXG5cdFx0XHRcdFx0ZGFpbHlOb3RlVGl0bGVFbC5kYXRhc2V0LnN1YmluZm8gPSBNYXRoLmFicyhpbmZvW2ldLmRhdGUuZGlmZihiYXNlZGF0ZS5zdGFydE9mKEdSQU5VTEFSSVRZX0xJU1RbdGhpcy5hY3RpdmVHcmFudWxhcml0eV0pLEdSQU5VTEFSSVRZX0xJU1RbdGhpcy5hY3RpdmVHcmFudWxhcml0eV0pKS50b1N0cmluZygpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAnZG93JzpcclxuXHRcdFx0XHRcdGRhaWx5Tm90ZVRpdGxlRWwuZGF0YXNldC5zdWJpbmZvID0gaW5mb1tpXS5kYXRlLmZvcm1hdChcImRkZGRcIik7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlICdkb3dzaG9ydCc6XHJcblx0XHRcdFx0XHRkYWlseU5vdGVUaXRsZUVsLmRhdGFzZXQuc3ViaW5mbyA9IGluZm9baV0uZGF0ZS5mb3JtYXQoXCJkZGRcIik7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlICd3ZWVrbnVtYmVyJzpcclxuXHRcdFx0XHRcdGRhaWx5Tm90ZVRpdGxlRWwuZGF0YXNldC5zdWJpbmZvID0gaW5mb1tpXS5kYXRlLmZvcm1hdChcIlt3XXd3XCIpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAndGFnJzpcclxuXHRcdFx0XHRcdGxldCBmaXJzdHRhZ0luZGV4ID0gZGF0YVtpXS5maW5kSW5kZXgoIChlbGVtZW50LGluZGV4KSA9PlxyXG5cdFx0XHRcdFx0XHRkYXRhW2ldW2luZGV4XS50eXBlT2ZFbGVtZW50ID09J3RhZycpO1xyXG5cdFx0XHRcdFx0aWYgKGZpcnN0dGFnSW5kZXggPj0gMCl7XHJcblx0XHRcdFx0XHRcdGRhaWx5Tm90ZVRpdGxlRWwuZGF0YXNldC5zdWJpbmZvID0gZGF0YVtpXVtmaXJzdHRhZ0luZGV4XS5kaXNwbGF5VGV4dDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0Y2FzZSAnbm9uZSc6XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vXHUzMENFXHUzMEZDXHUzMEM4XHUzMEJGXHUzMEE0XHUzMEM4XHUzMEVCXHUzMDkyXHUzMEFGXHUzMEVBXHUzMEMzXHUzMEFGXHUzMDU3XHUzMDVGXHUzMDg5XHUzMDVEXHUzMDZFXHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXHUzMDkyb3BlblxyXG5cdFx0XHRkYWlseU5vdGVUaXRsZUVsLmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFx0XCJjbGlja1wiLFxyXG5cdFx0XHRcdChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCkub3BlbkZpbGUoZmlsZXNbaV0pO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0ZmFsc2VcclxuXHRcdFx0KTtcclxuXHRcdFx0Ly8gXHUzMEIzXHUzMEYzXHUzMEM2XHUzMEFEXHUzMEI5XHUzMEM4XHUzMEUxXHUzMENCXHUzMEU1XHUzMEZDXHJcblx0XHRcdGRhaWx5Tm90ZVRpdGxlRWwuYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XHRcImNvbnRleHRtZW51XCIsXHJcblx0XHRcdFx0KGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBtZW51ID0gbmV3IE1lbnUoKTtcclxuXHJcblx0XHRcdFx0XHQvL1x1NjVCMFx1ODk4Rlx1MzBCRlx1MzBENlx1MzA2Qlx1OTU4Qlx1MzA0RlxyXG5cdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKT0+XHJcblx0XHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0XHQuc2V0VGl0bGUoXCJPcGVuIGluIG5ldyB0YWJcIilcclxuXHRcdFx0XHRcdFx0XHQuc2V0SWNvbihcImZpbGUtcGx1c1wiKVxyXG5cdFx0XHRcdFx0XHRcdC5vbkNsaWNrKCgpPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCd0YWInKS5vcGVuRmlsZShmaWxlc1tpXSk7XHJcblx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHQvL1x1NTNGM1x1MzA2Qlx1OTU4Qlx1MzA0RlxyXG5cdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKT0+XHJcblx0XHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0XHQuc2V0VGl0bGUoXCJPcGVuIHRvIHRoZSByaWdodFwiKVxyXG5cdFx0XHRcdFx0XHRcdC5zZXRJY29uKFwic2VwYXJhdG9yLXZlcnRpY2FsXCIpXHJcblx0XHRcdFx0XHRcdFx0Lm9uQ2xpY2soKCk9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoJ3NwbGl0Jykub3BlbkZpbGUoZmlsZXNbaV0pO1xyXG5cdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHQpO1xyXG5cclxuXHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS50cmlnZ2VyKFxyXG5cdFx0XHRcdFx0XHRcImZpbGUtbWVudVwiLFxyXG5cdFx0XHRcdFx0XHRtZW51LFxyXG5cdFx0XHRcdFx0XHRmaWxlc1tpXSxcclxuXHRcdFx0XHRcdFx0J2xpbmstY29udGV4dC1tZW51J1xyXG5cdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdG1lbnUuc2hvd0F0TW91c2VFdmVudChldmVudCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHQpXHJcblxyXG5cdFx0XHQvLyBpbmNsdWRlIG1vZGUgXHU3NTI4XHUzMDZFXHU1OTA5XHU2NTcwXHUzMDkyXHU1QkEzXHU4QTAwXHJcblx0XHRcdGxldCBpc0luY2x1ZGVkID0gdGhpcy5zZXR0aW5ncy5pbmNsdWRlQmVnaW5uaW5nO1xyXG5cdFx0XHRsZXQgaW5jbHVkZU1vZGVIZWFkaW5nTGV2ZWw6IG51bWJlcjtcclxuXHRcdFx0Ly8gZXhjbHVkZSBtb2RlIFx1NzUyOFx1NTkwOVx1NjU3MFxyXG5cdFx0XHRsZXQgaXNFeGNsdWRlZCA9IGZhbHNlO1xyXG5cdFx0XHRsZXQgZXhjbHVkZVR5cGU6IHN0cmluZztcclxuXHRcdFx0bGV0IGV4Y2x1ZGVNb2RlSGVhZGluZ0xldmVsOiBudW1iZXI7XHJcblx0XHRcdGxldCBwcmltZVR5cGUgPSB0aGlzLnNldHRpbmdzLmluY2x1ZGVPbmx5ID09ICdub25lJyA/IHRoaXMuc2V0dGluZ3MucHJpbWVFbGVtZW50IDogdGhpcy5zZXR0aW5ncy5pbmNsdWRlT25seTtcclxuXHRcdFx0Ly8gZXh0cmFjdCBcdTMwREVcdTMwQzNcdTMwQzFcdTMwNTlcdTMwOEJcdTk4MDVcdTc2RUVcdTMwNENcdTMwNDJcdTMwNjNcdTMwNUZcdTMwNEJcdTMwNjlcdTMwNDZcdTMwNEJcclxuXHRcdFx0bGV0IGlzRXh0cmFjdGVkID0gZmFsc2U7XHJcblxyXG5cdFx0XHQvL1x1MzBBMlx1MzBBNlx1MzBDOFx1MzBFOVx1MzBBNFx1MzBGM1x1ODk4MVx1N0QyMFx1MzA2RVx1NjNDRlx1NzUzQlx1MzAwMmRhdGFbaV1cdTMwNENcdTg5ODFcdTdEMjAwXHUzMDZBXHUzMDg5XHUzMEI5XHUzMEFEXHUzMEMzXHUzMEQ3XHJcblx0XHRcdC8vXHU0RThDXHU5MUNEXHUzMEVCXHUzMEZDXHUzMEQ3XHUzMDRCXHUzMDg5XHU2MjlDXHUzMDUxXHUzMDhCXHUzMDVGXHUzMDgxXHUzMEU5XHUzMEQ5XHUzMEVCZWxlbWVudGxvb3BcdTMwOTJcdTMwNjRcdTMwNTFcdTMwNUZcclxuXHRcdFx0aWYgKGRhdGFbaV0ubGVuZ3RoID4gMCl7XHJcblxyXG5cdFx0XHRcdGVsZW1lbnRsb29wOiBmb3IgKGxldCBqPTA7IGo8ZGF0YVtpXS5sZW5ndGg7IGorKyl7XHJcblxyXG5cdFx0XHRcdFx0Ly8gXHU3M0ZFXHUzMEEyXHUzMEE2XHUzMEM4XHUzMEU5XHUzMEE0XHUzMEYzXHU4OTgxXHU3RDIwXHUzMDZFXHU3QTJFXHU1MjI1XHUzMDkyXHU1M0Q2XHU1Rjk3XHJcblx0XHRcdFx0XHRjb25zdCBlbGVtZW50ID0gZGF0YVtpXVtqXS50eXBlT2ZFbGVtZW50O1xyXG5cclxuXHRcdFx0XHRcdC8vLy8gaW5jbHVkZSBtb2RlXHJcblx0XHRcdFx0XHRpZiAoaW5jbHVkZU1vZGUgJiYgdGhpcy5zZXR0aW5ncy5pbmNsdWRlT25seSA9PSBlbGVtZW50KXtcclxuXHRcdFx0XHRcdFx0aWYgKGlzSW5jbHVkZWQgPT0gdHJ1ZSAmJiBlbGVtZW50ID09ICdoZWFkaW5nJyAmJiBkYXRhW2ldW2pdLmxldmVsID4gaW5jbHVkZU1vZGVIZWFkaW5nTGV2ZWwgICl7XHJcblx0XHRcdFx0XHRcdFx0Ly9cdTRFMEJcdTRGNERcdTg5OEJcdTUxRkFcdTMwNTdcdTMwNkVcdTU4MzRcdTU0MDhcdTMwNkZcdTUxRTZcdTc0MDZcdTMwOTJcdTMwQjlcdTMwQURcdTMwQzNcdTMwRDdcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHQvLyBcdTdENDRcdTMwN0ZcdTUxNjVcdTMwOENcdTMwOEJcdTMwRUZcdTMwRkNcdTMwQzlcdTMwNkJcdTMwREVcdTMwQzNcdTMwQzFcdTMwNTlcdTMwOEJcdTMwNEJcdTUyMjRcdTVCOUFcclxuXHRcdFx0XHRcdFx0XHRpc0luY2x1ZGVkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdFx0Zm9yIChjb25zdCB2YWx1ZSBvZiB0aGlzLnNldHRpbmdzLndvcmRzVG9JbmNsdWRlKXtcclxuXHRcdFx0XHRcdFx0XHRcdGlmICggKHZhbHVlKSAmJiBkYXRhW2ldW2pdLmRpc3BsYXlUZXh0LmluY2x1ZGVzKHZhbHVlKSl7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlzSW5jbHVkZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoZWxlbWVudCA9PSAnaGVhZGluZycpe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGluY2x1ZGVNb2RlSGVhZGluZ0xldmVsID0gZGF0YVtpXVtqXS5sZXZlbDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYgKCFpc0luY2x1ZGVkKXtcclxuXHRcdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdC8vLy8gZXhjbHVkZSBtb2RlXHJcblx0XHRcdFx0XHRpZiAoIWlzRXhjbHVkZWQgfHwgKGlzRXhjbHVkZWQgJiYgKGV4Y2x1ZGVUeXBlID09IGVsZW1lbnQgfHwgcHJpbWVUeXBlID09IGVsZW1lbnQpKSl7XHJcblx0XHRcdFx0XHRcdGlmIChlbGVtZW50ID09ICdoZWFkaW5nJyAmJiBkYXRhW2ldW2pdLmxldmVsID4gZXhjbHVkZU1vZGVIZWFkaW5nTGV2ZWwpe1xyXG5cdFx0XHRcdFx0XHQvLyBcdTRFMEJcdTRGNERcdTg5OEJcdTUxRkFcdTMwNTdcdTMwNkVcdTU4MzRcdTU0MDhcdTMwNkZcdTUxRTZcdTc0MDZcdTMwOTJcdTMwQjlcdTMwQURcdTMwQzNcdTMwRDdcdFxyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGlzRXhjbHVkZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0XHRmb3IgKGNvbnN0IHZhbHVlIG9mIHRoaXMuc2V0dGluZ3Mud29yZHNUb0V4Y2x1ZGVbZWxlbWVudF0pe1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCAodmFsdWUpICYmIGRhdGFbaV1bal0uZGlzcGxheVRleHQuaW5jbHVkZXModmFsdWUpKXtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aXNFeGNsdWRlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGV4Y2x1ZGVUeXBlID0gZWxlbWVudDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGVsZW1lbnQgPT0gJ2hlYWRpbmcnKXtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRleGNsdWRlTW9kZUhlYWRpbmdMZXZlbCA9IGRhdGFbaV1bal0ubGV2ZWw7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9ICAgXHJcblx0XHRcdFx0XHRpZiAoaXNFeGNsdWRlZCl7XHJcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vXHU4OTgxXHU3RDIwXHUzMDU0XHUzMDY4XHUzMDZFXHU5NzVFXHU4ODY4XHU3OTNBXHU1MjI0XHU1QjlBICBcdThBMkRcdTVCOUFcdTMwNjdcdTk3NUVcdTg4NjhcdTc5M0FcdTMwNkJcdTMwNkFcdTMwNjNcdTMwNjZcdTMwNDRcdTMwOENcdTMwNzBcdTMwQjlcdTMwQURcdTMwQzNcdTMwRDdcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0aWYgKHRoaXMuc2V0dGluZ3Muc2hvd0VsZW1lbnRzW2VsZW1lbnRdID09IGZhbHNlKXtcclxuXHRcdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gc2ltcGxlIGZpbHRlciBcdTk2NjRcdTU5MTZcdTMwRUZcdTMwRkNcdTMwQzlcdTMwNkJcdTMwREVcdTMwQzNcdTMwQzFcdTMwNTlcdTMwOENcdTMwNzBcdTMwQjlcdTMwQURcdTMwQzNcdTMwRDdcclxuXHJcblx0XHRcdFx0XHRmb3IgKGNvbnN0IHZhbHVlIG9mIHRoaXMuc2V0dGluZ3Mud29yZHNUb0lnbm9yZVtlbGVtZW50XSl7XHJcblx0XHRcdFx0XHRcdGlmKCAodmFsdWUpICYmIGRhdGFbaV1bal0uZGlzcGxheVRleHQuaW5jbHVkZXModmFsdWUpKXtcclxuXHRcdFx0XHRcdFx0XHRjb250aW51ZSBlbGVtZW50bG9vcDtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vLy8gXHU2MkJEXHU1MUZBIGV4dHJhY3RcclxuXHJcblx0XHRcdFx0XHRpZiAodGhpcy5leHRyYWN0TW9kZSA9PSB0cnVlKSB7XHJcblx0XHRcdFx0XHRcdGlmICh0aGlzLmV4dHJhY3RUYXNrID09IGZhbHNlICYmICFkYXRhW2ldW2pdLmRpc3BsYXlUZXh0LmluY2x1ZGVzKHRoaXMuc2V0dGluZ3Mud29yZHNUb0V4dHJhY3QpKXtcclxuXHRcdFx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIGlmICh0aGlzLmV4dHJhY3RUYXNrID09IHRydWUgJiYgZGF0YVtpXVtqXS50YXNrID09PSB2b2lkIDApe1xyXG5cdFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGlzRXh0cmFjdGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vLy8gXHU4OTgxXHU3RDIwXHU3QTJFXHU1MjI1XHUzMDU0XHUzMDY4XHUzMDZFXHU1MUU2XHU3NDA2XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdC8vIGhlYWRpbmdzXHJcblx0XHRcdFx0XHRpZiAoZWxlbWVudCA9PSAnaGVhZGluZycpe1xyXG5cdFx0XHRcdFx0XHQvLyBcdTY3MDBcdTY1QjBcdTMwNkVcdTg5OEJcdTUxRkFcdTMwNTdcdTMwRUNcdTMwRDlcdTMwRUJcdTMwOTJcdTUzRDZcdTVGOTdcclxuXHRcdFx0XHRcdFx0bGF0ZXN0SGVhZGluZ0xldmVsID0gZGF0YVtpXVtqXS5sZXZlbDtcclxuXHRcdFx0XHRcdFx0Ly8gXHU3Mjc5XHU1QjlBXHUzMDZFXHU4OThCXHU1MUZBXHUzMDU3XHUzMEVDXHUzMEQ5XHUzMEVCXHUzMDRDXHU5NzVFXHU4ODY4XHU3OTNBXHUzMDZFXHU1ODM0XHU1NDA4XHUzMDAxXHU4QTcyXHU1RjUzXHUzMDU5XHUzMDhDXHUzMDcwXHUzMEI5XHUzMEFEXHUzMEMzXHUzMEQ3XHJcblx0XHRcdFx0XHRcdGlmICggIXRoaXMuc2V0dGluZ3MuaGVhZGluZ0xldmVsW2RhdGFbaV1bal0ubGV2ZWwgLSAxXSl7XHJcblx0XHRcdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyBsaW5rc1xyXG5cdFx0XHRcdFx0aWYgKGVsZW1lbnQgPT0gJ2xpbmsnKXtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyB0YWdzXHJcblx0XHRcdFx0XHRpZiAoZWxlbWVudCA9PSAndGFnJyl7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0XHRcdC8vIGxpc3RJdGVtc1xyXG5cclxuXHRcdFx0XHRcdGlmIChlbGVtZW50ID09ICdsaXN0SXRlbXMnKXtcclxuXHRcdFx0XHRcdFx0Ly8gXHU1QjhDXHU0RTg2XHUzMEJGXHUzMEI5XHUzMEFGXHU5NzVFXHU4ODY4XHU3OTNBXHU4QTJEXHU1QjlBXHUzMDY3XHUzMDQyXHUzMDhDXHUzMDcwXHU1QjhDXHU0RTg2XHUzMEJGXHUzMEI5XHUzMEFGXHUzMDZGXHUzMEI5XHUzMEFEXHUzMEMzXHUzMEQ3XHJcblx0XHRcdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLmhpZGVDb21wbGV0ZWRUYXNrcyA9PSB0cnVlICYmIGRhdGFbaV1bal0udGFzayA9PSd4Jyl7XHJcblx0XHRcdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0XHRcdC8vIFx1OTc1RVx1MzBCRlx1MzBCOVx1MzBBRlx1OTc1RVx1ODg2OFx1NzkzQVx1OEEyRFx1NUI5QVx1MzA2N1x1MzA0Mlx1MzA4Q1x1MzA3MFx1OTc1RVx1MzBCRlx1MzBCOVx1MzBBRlx1MzA2Rlx1MzBCOVx1MzBBRFx1MzBDM1x1MzBEN1xyXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKHRoaXMuc2V0dGluZ3MudGFza09ubHkgPT0gdHJ1ZSAmJiBkYXRhW2ldW2pdLnRhc2sgPT09IHZvaWQgMCl7XHJcblx0XHRcdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0XHRcdC8vIFx1OTc1RVx1MzBCRlx1MzBCOVx1MzBBRlx1MzA2RVx1OTAxQVx1NUUzOFx1MzBFQVx1MzBCOVx1MzBDOFx1MzBBMlx1MzBBNFx1MzBDNlx1MzBFMFx1MzAwMVx1MzA3RVx1MzA1Rlx1MzA2RiBcdTMwQkZcdTMwQjlcdTMwQUZcdTMwNkZcdTUxNjhcdTg4NjhcdTc5M0FcdTMwNkVcdThBMkRcdTVCOUFcdTMwNjdcdTcxMjFcdTMwNTFcdTMwOENcdTMwNzBcdTMwRUNcdTMwRDlcdTMwRUJcdTMwNkJcdTVGRENcdTMwNThcdTMwNjZcdTMwQjlcdTMwQURcdTMwQzNcdTMwRDdcclxuXHRcdFx0XHRcdFx0fSBlbHNlIGlmICh0aGlzLnNldHRpbmdzLmFsbFRhc2tzID09IGZhbHNlIHx8IGRhdGFbaV1bal0udGFzayA9PT0gdm9pZCAwKXtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIChkYXRhW2ldW2pdLmxldmVsID09IDIpIHx8IChkYXRhW2ldW2pdLmxldmVsID09MSAmJiB0aGlzLnNldHRpbmdzLmFsbFJvb3RJdGVtcyA9PSBmYWxzZSkpe1xyXG5cdFx0XHRcdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly9cdTMwQTJcdTMwQTZcdTMwQzhcdTMwRTlcdTMwQTRcdTMwRjNcdTg5ODFcdTdEMjBcdTkwRThcdTUyMDZcdTRGNUNcdTYyMTBcclxuXHRcdFx0XHRcdGNvbnN0IG91dGxpbmVFbDogSFRNTEVsZW1lbnQgPSBkYWlseU5vdGVDaGlsZHJlbkVsXHJcblx0XHRcdFx0XHRcdFx0LmNyZWF0ZURpdihcInRyZWUtaXRlbSBuYXYtZmlsZVwiKTtcclxuXHRcdFx0XHRcdC8vXHU0RTJEXHU4RUFCXHUzMDkyXHU4QTJEXHU1QjlBXHJcblx0XHRcdFx0XHRjb25zdCBvdXRsaW5lVGl0bGU6IEhUTUxFbGVtZW50ID0gb3V0bGluZUVsLmNyZWF0ZURpdihcInRyZWUtaXRlbS1zZWxmIGlzLWNsaWNrYWJsZSBuYXYtZmlsZS10aXRsZVwiKTtcclxuXHJcblx0XHRcdFx0XHQvL1x1MzBBMlx1MzBBNFx1MzBCM1x1MzBGMyBpY29uXHJcblx0XHRcdFx0XHRzd2l0Y2godGhpcy5zZXR0aW5ncy5pY29uW2VsZW1lbnRdKXtcclxuXHRcdFx0XHRcdFx0Y2FzZSAnbm9uZSc6XHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ2hlYWRpbmd3aXRobnVtYmVyJzpcclxuXHRcdFx0XHRcdFx0XHRzZXRJY29uKG91dGxpbmVUaXRsZSwgYGhlYWRpbmctJHtkYXRhW2ldW2pdLmxldmVsfWApO1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRjYXNlICdjdXN0b20nOlxyXG5cdFx0XHRcdFx0XHRcdHNldEljb24ob3V0bGluZVRpdGxlLCB0aGlzLnNldHRpbmdzLmN1c3RvbUljb25bZWxlbWVudF0pO1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdFx0XHRcdHNldEljb24ob3V0bGluZVRpdGxlLCB0aGlzLnNldHRpbmdzLmljb25bZWxlbWVudF0pO1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Ly8gXHUzMEJGXHUzMEI5XHUzMEFGXHUzMDYwXHUzMDYzXHUzMDVGXHU1ODM0XHU1NDA4XHUzMEEyXHUzMEE0XHUzMEIzXHUzMEYzXHU0RTBBXHU2NkY4XHUzMDREXHJcblx0XHRcdFx0XHRpZiAoZWxlbWVudCA9PSdsaXN0SXRlbXMnICYmIGRhdGFbaV1bal0udGFzayAhPT0gdm9pZCAwKXtcclxuXHRcdFx0XHRcdFx0aWYgKGRhdGFbaV1bal0udGFzayA9PSAneCcpe1xyXG5cdFx0XHRcdFx0XHRcdHNldEljb24ob3V0bGluZVRpdGxlLCB0aGlzLnNldHRpbmdzLmljb24udGFza0RvbmUgPT0gJ2N1c3RvbScgPyBcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MuY3VzdG9tSWNvbi50YXNrRG9uZSA6IHRoaXMuc2V0dGluZ3MuaWNvbi50YXNrRG9uZSk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0c2V0SWNvbihvdXRsaW5lVGl0bGUsIHRoaXMuc2V0dGluZ3MuaWNvbi50YXNrID09J2N1c3RvbScgP1xyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5jdXN0b21JY29uLnRhc2sgOiB0aGlzLnNldHRpbmdzLmljb24udGFzayk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly9wcmVmaXhcdTMwMDFcdTMwQTRcdTMwRjNcdTMwQzdcdTMwRjNcdTMwQzhcclxuXHRcdFx0XHRcdGxldCBwcmVmaXggPSB0aGlzLnNldHRpbmdzLnByZWZpeFtlbGVtZW50XTtcclxuXHRcdFx0XHRcdGlmICggZWxlbWVudCA9PSAnaGVhZGluZycpe1xyXG5cdFx0XHRcdFx0XHRzd2l0Y2ggKHRoaXMuc2V0dGluZ3MucmVwZWF0SGVhZGluZ1ByZWZpeCl7XHJcblx0XHRcdFx0XHRcdFx0Y2FzZSAnbGV2ZWwnOlxyXG5cdFx0XHRcdFx0XHRcdFx0cHJlZml4ID0gcHJlZml4LnJlcGVhdChkYXRhW2ldW2pdLmxldmVsKTtcclxuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRcdGNhc2UgJ2xldmVsbWludXMxJzpcclxuXHRcdFx0XHRcdFx0XHRcdHByZWZpeCA9IHByZWZpeC5yZXBlYXQoZGF0YVtpXVtqXS5sZXZlbCAtIDEgKTtcclxuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0bGV0IGluZGVudDogbnVtYmVyID0gMC41O1xyXG5cdFx0XHRcdFx0Ly8gXHU4OThCXHU1MUZBXHUzMDU3XHUzMDZFXHUzMEE0XHUzMEYzXHUzMEM3XHUzMEYzXHUzMEM4XHJcblx0XHRcdFx0XHRpZiAoZWxlbWVudCA9PSdoZWFkaW5nJyAmJiB0aGlzLnNldHRpbmdzLmluZGVudC5oZWFkaW5nID09IHRydWUpe1xyXG5cdFx0XHRcdFx0XHRpbmRlbnQgPSBpbmRlbnQgKyAoZGF0YVtpXVtqXS5sZXZlbCAtIChtYXhMZXZlbCArIDEpKSoxLjU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQvLyBcdTg5OEJcdTUxRkFcdTMwNTdcdTRFRTVcdTU5MTZcdTMwNkVcdTMwQTRcdTMwRjNcdTMwQzdcdTMwRjNcdTMwQzhcclxuXHRcdFx0XHRcdGlmIChlbGVtZW50ICE9J2hlYWRpbmcnICYmIHRoaXMuc2V0dGluZ3MuaW5kZW50Rm9sbG93SGVhZGluZyl7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGFkZGl0aW9uYWxJbmRlbnQgPSAobGF0ZXN0SGVhZGluZ0xldmVsIC0gKG1heExldmVsICsgMSkgKyAodGhpcy5zZXR0aW5ncy5pbmRlbnRGb2xsb3dIZWFkaW5nID09IDIgPyAxOiAwKSkqMS41O1xyXG5cdFx0XHRcdFx0XHRpbmRlbnQgPSBpbmRlbnQgKyAoYWRkaXRpb25hbEluZGVudCA+IDAgPyBhZGRpdGlvbmFsSW5kZW50IDogMCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQvLyBcdTMwRUFcdTMwRjNcdTMwQUZcdTMwNENcdTUyNERcdTMwNkVcdTMwQThcdTMwRUNcdTMwRTFcdTMwRjNcdTMwQzhcdTMwNjhcdTU0MENcdTMwNThcdTg4NENcdTMwNjBcdTMwNjNcdTMwNUZcdTU4MzRcdTU0MDhcdTMwQTRcdTMwRjNcdTMwQzdcdTMwRjNcdTMwQzhcdTRFRDhcdTUyQTBcclxuXHRcdFx0XHRcdGlmIChlbGVtZW50ID09J2xpbmsnICYmIGRhdGFbaV1bal0ucG9zaXRpb24uc3RhcnQubGluZSA9PSBkYXRhW2ldW2otMV0/LnBvc2l0aW9uLnN0YXJ0LmxpbmUpe1xyXG5cdFx0XHRcdFx0XHRpbmRlbnQgPSBpbmRlbnQgKyAxLjU7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0b3V0bGluZVRpdGxlLnN0eWxlLnBhZGRpbmdMZWZ0ID0gYCR7aW5kZW50fWVtYDtcclxuXHJcblxyXG5cdFx0XHRcdFx0aWYgKGVsZW1lbnQgPT0nbGlzdEl0ZW1zJyAmJiBkYXRhW2ldW2pdLnRhc2sgIT09IHZvaWQgMCkge1xyXG5cdFx0XHRcdFx0XHRcdHByZWZpeCA9IGRhdGFbaV1bal0udGFzayA9PSAneCcgPyBcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MucHJlZml4LnRhc2tEb25lIDogdGhpcy5zZXR0aW5ncy5wcmVmaXgudGFzaztcclxuXHRcdFx0XHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5hZGRDaGVja2JveFRleHQpe1xyXG5cdFx0XHRcdFx0XHRcdFx0cHJlZml4ID0gcHJlZml4ICsgJ1snK2RhdGFbaV1bal0udGFzaysnXSAnO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGxldCBkaXNwVGV4dCA9IHRoaXMuc3RyaXBNYXJrZG93blN5bXBvbChkYXRhW2ldW2pdLmRpc3BsYXlUZXh0KTtcclxuXHJcblx0XHRcdFx0XHRvdXRsaW5lVGl0bGUuY3JlYXRlRGl2KFwidHJlZS1pdGVtLWlubmVyIG5hdi1maWxlLXRpdGxlLWNvbnRlbnRcIikuc2V0VGV4dChwcmVmaXggKyBkaXNwVGV4dCk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gXHUzMEE0XHUzMEYzXHUzMEU5XHUzMEE0XHUzMEYzXHUzMEQ3XHUzMEVDXHUzMEQzXHUzMEU1XHUzMEZDXHJcblx0XHRcdFx0XHQvLyBcdTMwRUFcdTMwRjNcdTMwQUZcdTMwNjhcdTMwQkZcdTMwQjBcdTMwNkZcdTMwMDFcdTMwQTJcdTMwQTZcdTMwQzhcdTMwRTlcdTMwQTRcdTMwRjNcdTg5ODFcdTdEMjBcdTMwNkVcdTMwNDJcdTMwNjhcdTMwNkJcdTY1ODdcdTVCNTdcdTUyMTdcdTMwNENcdTdEOUFcdTMwNEZcdTU4MzRcdTU0MDhcdTMwNURcdTMwNkVcdTg4NENcdTMwOTJcdTMwRDdcdTMwRUNcdTMwRDNcdTMwRTVcdTMwRkNcdTMwMDFcdTMwNURcdTMwNDZcdTMwNjdcdTMwNkFcdTMwNTFcdTMwOENcdTMwNzBcdTZCMjFcdTMwNkVcdTg4NENcdTMwOTJcdTMwRDdcdTMwRUNcdTMwRDNcdTMwRTVcdTMwRkNcclxuXHRcdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLmlubGluZVByZXZpZXcpIHtcclxuXHRcdFx0XHRcdFx0bGV0IHByZXZpZXdUZXh0OiBzdHJpbmcgPScnO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0aWYgKChlbGVtZW50ID09ICdsaW5rJyB8fCBlbGVtZW50ID09ICd0YWcnKSAmJiBkYXRhW2ldW2pdLnBvc2l0aW9uLmVuZC5jb2wgPCBpbmZvW2ldLmxpbmVzWyBkYXRhW2ldW2pdLnBvc2l0aW9uLnN0YXJ0LmxpbmUgXS5sZW5ndGgpe1xyXG5cdFx0XHRcdFx0XHRcdHByZXZpZXdUZXh0ID0gaW5mb1tpXS5saW5lc1sgZGF0YVtpXVtqXS5wb3NpdGlvbi5zdGFydC5saW5lIF0uc2xpY2UoZGF0YVtpXVtqXS5wb3NpdGlvbi5lbmQuY29sKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRwcmV2aWV3VGV4dCA9ICggZGF0YVtpXVtqXS5wb3NpdGlvbi5zdGFydC5saW5lIDwgaW5mb1tpXS5udW1PZkxpbmVzIC0xICk/XHJcblx0XHRcdFx0XHRcdFx0XHRpbmZvW2ldLmxpbmVzWyBkYXRhW2ldW2pdLnBvc2l0aW9uLnN0YXJ0LmxpbmUgKyAxXSA6IFwiXCI7IFxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdG91dGxpbmVUaXRsZS5jcmVhdGVEaXYoXCJuYXYtZmlsZS10aXRsZS1wcmV2aWV3XCIpLnNldFRleHQocHJldmlld1RleHQpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Ly8gXHUzMEM0XHUzMEZDXHUzMEVCXHUzMEMxXHUzMEMzXHUzMEQ3XHUzMEQ3XHUzMEVDXHUzMEQzXHUzMEU1XHUzMEZDXHJcblx0XHRcdFx0XHQvLyBcdTMwNURcdTMwNkVcdTg5ODFcdTdEMjBcdTMwNkVcdTg4NENcdTMwNEJcdTMwODlcdTZCMjFcdTMwNkVcdTg5ODFcdTdEMjBcdTMwNkVcdTUyNERcdTMwN0VcdTMwNjdcdTMwOTJcdTMwRDdcdTMwRUNcdTMwRDNcdTMwRTVcdTMwRkNcclxuXHRcdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnRvb2x0aXBQcmV2aWV3KXtcclxuXHRcdFx0XHRcdFx0bGV0IHByZXZpZXdUZXh0MjpzdHJpbmcgPScnO1xyXG5cdFx0XHRcdFx0XHQvLyBcdTMwN0VcdTMwNUFcdTZCMjFcdTMwNkVcdTg4NjhcdTc5M0FcdTg5ODFcdTdEMjBcdTMwNkVcdTVGMTVcdTY1NzBcdTMwOTJcdTcyNzlcdTVCOUFcclxuXHRcdFx0XHRcdFx0bGV0IGVuZExpbmU6bnVtYmVyID0gaW5mb1tpXS5udW1PZkxpbmVzIC0gMTsgIC8vXHU1MjFEXHU2NzFGXHU1MDI0XHUzMDZGXHU2NTg3XHU3QUUwXHU2NzJCXHJcblx0XHRcdFx0XHRcdGxldCBrID0gaiArMTsgLy8gXHU3M0ZFXHU1NzI4XHUzMDZFXHUzMEEyXHUzMEE2XHUzMEM4XHUzMEU5XHUzMEE0XHUzMEYzXHU1RjE1XHU2NTcwKzFcdTMwNEJcdTMwODlcdTMwRUJcdTMwRkNcdTMwRDdcdTk1OEJcdTU5Q0JcclxuXHRcdFx0XHRcdFx0ZW5kcHJldmlld2xvb3A6IHdoaWxlIChrPCBkYXRhW2ldLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0XHRcdC8vXHU4ODY4XHU3OTNBXHUzMDU5XHUzMDhCXHUzMEE4XHUzMEVDXHUzMEUxXHUzMEYzXHUzMEM4XHUzMEJGXHUzMEE0XHUzMEQ3XHUzMDY3XHUzMDQyXHUzMDhDXHUzMDcwXHU4ODRDXHUzMDkyXHU1M0Q2XHU1Rjk3XHUzMDU3XHUzMDY2XHUzMEVCXHUzMEZDXHUzMEQ3XHUzMDkyXHU2MjUzXHUzMDYxXHU1MjA3XHUzMDhCXHJcblx0XHRcdFx0XHRcdFx0aWYgKHRoaXMuc2V0dGluZ3Muc2hvd0VsZW1lbnRzW2RhdGFbaV1ba10udHlwZU9mRWxlbWVudF0pe1xyXG5cdFx0XHRcdFx0XHRcdFx0Ly9cdTMwNUZcdTMwNjBcdTMwNTdcdTU0MDRcdTdBMkVcdTMwNkVcdTVCOUZcdTk2OUJcdTMwNkJcdTMwNkZcdTk3NUVcdTg4NjhcdTc5M0FcdTMwNjhcdTMwNkFcdTMwOEJcdTY3NjFcdTRFRjZcdTMwOTJcdTZFODBcdTMwNUZcdTMwNTdcdTMwNjZcdTMwNDRcdTMwNUZcdTMwODlcdTYyNTNcdTMwNjFcdTUyMDdcdTMwODlcdTMwNkFcdTMwNDRcclxuXHRcdFx0XHRcdFx0XHRcdC8vIFx1MzBFQVx1MzBCOVx1MzBDOFx1MzA2RVx1OEEyRFx1NUI5QVx1MzA2Qlx1MzA4OFx1MzA4Qlx1OTc1RVx1ODg2OFx1NzkzQVxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGRhdGFbaV1ba10udHlwZU9mRWxlbWVudCA9PSAnbGlzdEl0ZW1zJyAmJiBcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQoIGRhdGFbaV1ba10ubGV2ZWwgPj0yIHx8XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0KCh0aGlzLnNldHRpbmdzLmFsbFJvb3RJdGVtcyA9PSBmYWxzZSAmJiBkYXRhW2ldW2tdLmxldmVsID09IDEpICYmICh0aGlzLnNldHRpbmdzLmFsbFRhc2tzID09IGZhbHNlIHx8IGRhdGFbaV1ba10udGFzayA9PT0gdm9pZCAwKSkgfHxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQodGhpcy5zZXR0aW5ncy50YXNrT25seSAmJiBkYXRhW2ldW2tdLnRhc2sgPT09IHZvaWQgMCkgfHxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQodGhpcy5zZXR0aW5ncy5oaWRlQ29tcGxldGVkVGFza3MgJiYgZGF0YVtpXVtrXS50YXNrID09ICd4JykpKXtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aysrO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHRcdFx0XHRcdC8vIFx1ODk4Qlx1NTFGQVx1MzA1N1x1MzA2RVx1MzBFQ1x1MzBEOVx1MzBFQlx1MzA2Qlx1MzA4OFx1MzA4Qlx1OTc1RVx1ODg2OFx1NzkzQVxyXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmIChkYXRhW2ldW2tdLnR5cGVPZkVsZW1lbnQgPT0gJ2hlYWRpbmcnICYmXHJcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MuaGVhZGluZ0xldmVsW2RhdGFbaV1ba10ubGV2ZWwgLSAxXSA9PSBmYWxzZSl7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGsrKztcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0XHRcdFx0XHQvLyBzaW1wbGUgZmlsdGVyXHUzMDZCXHUzMDg4XHUzMDhCXHU5NzVFXHU4ODY4XHU3OTNBXHJcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRmb3IgKGNvbnN0IHZhbHVlIG9mIHRoaXMuc2V0dGluZ3Mud29yZHNUb0lnbm9yZVtkYXRhW2ldW2tdLnR5cGVPZkVsZW1lbnRdKXtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiggKHZhbHVlKSAmJiBkYXRhW2ldW2tdLmRpc3BsYXlUZXh0LmluY2x1ZGVzKHZhbHVlKSl7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRrKys7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb250aW51ZSBlbmRwcmV2aWV3bG9vcDtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9IFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdGVuZExpbmUgPSBkYXRhW2ldW2tdLnBvc2l0aW9uLnN0YXJ0LmxpbmUgLTE7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRrKys7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0Zm9yIChsZXQgbCA9IGRhdGFbaV1bal0ucG9zaXRpb24uc3RhcnQubGluZTsgbCA8PSBlbmRMaW5lOyBsKyspe1xyXG5cdFx0XHRcdFx0XHRcdHByZXZpZXdUZXh0MiA9IHByZXZpZXdUZXh0MiArIGluZm9baV0ubGluZXNbbF0gKydcXG4nO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdC8vIFx1N0E3QVx1ODg0Q1x1MzA5Mlx1OTY2NFx1NTNCQlxyXG5cdFx0XHRcdFx0XHRwcmV2aWV3VGV4dDIgPSBwcmV2aWV3VGV4dDIucmVwbGFjZSgvXFxuJHxcXG4oPz1cXG4pL2csJycpO1xyXG5cdFx0XHRcdFx0XHRvdXRsaW5lVGl0bGUuYXJpYUxhYmVsID0gcHJldmlld1RleHQyO1xyXG5cdFx0XHRcdFx0XHRvdXRsaW5lVGl0bGUuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsLXBvc2l0aW9uJyx0aGlzLnNldHRpbmdzLnRvb2x0aXBQcmV2aWV3RGlyZWN0aW9uKTtcclxuXHRcdFx0XHRcdFx0b3V0bGluZVRpdGxlLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbC1jbGFzc2VzJywnZGFpbHktbm90ZS1wcmV2aWV3Jyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0b3V0bGluZVRpdGxlLmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFx0XHRcdFwiY2xpY2tcIixcclxuXHRcdFx0XHRcdFx0YXN5bmMoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCkub3BlbkZpbGUoZmlsZXNbaV0pO1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IHZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpO1xyXG5cdFx0XHRcdFx0XHRcdGlmICh2aWV3KSB7XHJcblx0XHRcdFx0XHRcdFx0XHR2aWV3LmVkaXRvci5mb2N1cygpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdHZpZXcuZWRpdG9yLnNldEN1cnNvciAoZGF0YVtpXVtqXS5wb3NpdGlvbi5zdGFydC5saW5lLCBkYXRhW2ldW2pdLnBvc2l0aW9uLnN0YXJ0LmNvbCk7XHJcblx0XHRcdFx0XHRcdFx0XHR2aWV3LmVkaXRvci5zY3JvbGxJbnRvVmlldygge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRmcm9tOiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bGluZTogZGF0YVtpXVtqXS5wb3NpdGlvbi5zdGFydC5saW5lLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoOjBcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0dG86IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRsaW5lOiBkYXRhW2ldW2pdLnBvc2l0aW9uLnN0YXJ0LmxpbmUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2g6MFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9LCB0cnVlKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdGZhbHNlXHJcblx0XHRcdFx0XHQpO1xyXG5cclxuXHRcdFx0XHRcdC8vaG92ZXIgcHJldmlldyBcclxuXHRcdFx0XHRcdG91dGxpbmVUaXRsZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLnRyaWdnZXIoJ2hvdmVyLWxpbmsnLCB7XHJcblx0XHRcdFx0XHRcdFx0ZXZlbnQsXHJcblx0XHRcdFx0XHRcdFx0c291cmNlOiBEYWlseU5vdGVPdXRsaW5lVmlld1R5cGUsXHJcblx0XHRcdFx0XHRcdFx0aG92ZXJQYXJlbnQ6IHJvb3RFbCxcclxuXHRcdFx0XHRcdFx0XHR0YXJnZXRFbDogb3V0bGluZVRpdGxlLFxyXG5cdFx0XHRcdFx0XHRcdGxpbmt0ZXh0OiBmaWxlc1tpXS5wYXRoLFxyXG5cdFx0XHRcdFx0XHRcdHN0YXRlOntzY3JvbGw6IGRhdGFbaV1bal0ucG9zaXRpb24uc3RhcnQubGluZX1cclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHQvLyBjb250ZXh0bWVudVxyXG5cdFx0XHRcdFx0b3V0bGluZVRpdGxlLmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFx0XHRcdFwiY29udGV4dG1lbnVcIixcclxuXHRcdFx0XHRcdFx0KGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgbWVudSA9IG5ldyBNZW51KCk7XHJcblx0XHRcdFx0XHRcdFx0Ly9cdTYyQkRcdTUxRkFcclxuXHRcdFx0XHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pID0+XHJcblx0XHRcdFx0XHRcdFx0XHRpdGVtXHJcblx0XHRcdFx0XHRcdFx0XHRcdC5zZXRUaXRsZShcIkV4dHJhY3RcIilcclxuXHRcdFx0XHRcdFx0XHRcdFx0LnNldEljb24oXCJzZWFyY2hcIilcclxuXHRcdFx0XHRcdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCk9PntcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3Jkc1RvRXh0cmFjdCA9IGRhdGFbaV1bal0uZGlzcGxheVRleHQ7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5leHRyYWN0TW9kZSA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5leHRyYWN0VGFzayA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsZmFsc2UpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdFx0bWVudS5hZGRTZXBhcmF0b3IoKTtcclxuXHRcdFx0XHRcdFx0XHQvLyBcdTMwRUFcdTMwRjNcdTMwQUZcdTMwNjBcdTMwNjNcdTMwNUZcdTMwODlcdTMwRUFcdTMwRjNcdTMwQUZcdTUxNDhcdTMwOTJcdTc2RjRcdTYzQTVcdTk1OEJcdTMwNEZcclxuXHRcdFx0XHRcdFx0XHRpZiAoZWxlbWVudCA9PSdsaW5rJyl7XHJcblx0XHRcdFx0XHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pPT5cclxuXHRcdFx0XHRcdFx0XHRcdFx0aXRlbVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5zZXRUaXRsZShcIk9wZW4gbGlua2VkIGZpbGVcIilcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQuc2V0SWNvbihcImxpbmtzLWdvaW5nLW91dFwiKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jKCk9PntcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IGxpbmtlZEZpbGUgPSBhcHAubWV0YWRhdGFDYWNoZS5nZXRGaXJzdExpbmtwYXRoRGVzdChkYXRhW2ldW2pdLmxpbmssIGZpbGVzW2ldLnBhdGgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoKS5vcGVuRmlsZShsaW5rZWRGaWxlKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0XHRcdG1lbnUuYWRkU2VwYXJhdG9yKCk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHQvL1x1NjVCMFx1ODk4Rlx1MzBCRlx1MzBENlx1MzA2Qlx1OTU4Qlx1MzA0RlxyXG5cdFx0XHRcdFx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSk9PlxyXG5cdFx0XHRcdFx0XHRcdFx0aXRlbVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQuc2V0VGl0bGUoXCJPcGVuIGluIG5ldyB0YWJcIilcclxuXHRcdFx0XHRcdFx0XHRcdFx0LnNldEljb24oXCJmaWxlLXBsdXNcIilcclxuXHRcdFx0XHRcdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMoKT0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZigndGFiJykub3BlbkZpbGUoZmlsZXNbaV0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuc2Nyb2xsVG9FbGVtZW50KGRhdGFbaV1bal0ucG9zaXRpb24uc3RhcnQubGluZSwgZGF0YVtpXVtqXS5wb3NpdGlvbi5zdGFydC5jb2wpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0XHRcdC8vXHU1M0YzXHUzMDZCXHU5NThCXHUzMDRGXHJcblx0XHRcdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKT0+XHJcblx0XHRcdFx0XHRcdFx0XHRpdGVtXHJcblx0XHRcdFx0XHRcdFx0XHRcdC5zZXRUaXRsZShcIk9wZW4gdG8gdGhlIHJpZ2h0XCIpXHJcblx0XHRcdFx0XHRcdFx0XHRcdC5zZXRJY29uKFwic2VwYXJhdG9yLXZlcnRpY2FsXCIpXHJcblx0XHRcdFx0XHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jKCk9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoJ3NwbGl0Jykub3BlbkZpbGUoZmlsZXNbaV0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuc2Nyb2xsVG9FbGVtZW50KGRhdGFbaV1bal0ucG9zaXRpb24uc3RhcnQubGluZSwgZGF0YVtpXVtqXS5wb3NpdGlvbi5zdGFydC5jb2wpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdFx0Ly9cdTY1QjBcdTg5OEZcdTMwQTZcdTMwQTNcdTMwRjNcdTMwQzlcdTMwQTZcdTMwNkJcdTk1OEJcdTMwNEZcclxuXHRcdFx0XHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pPT5cclxuXHRcdFx0XHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0XHRcdFx0LnNldFRpdGxlKFwiT3BlbiBpbiBuZXcgd2luZG93XCIpXHJcblx0XHRcdFx0XHRcdFx0XHRcdC5zZXRJY29uKFwic2NhblwiKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQub25DbGljayhhc3luYygpPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCd3aW5kb3cnKS5vcGVuRmlsZShmaWxlc1tpXSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5zY3JvbGxUb0VsZW1lbnQoZGF0YVtpXVtqXS5wb3NpdGlvbi5zdGFydC5saW5lLCBkYXRhW2ldW2pdLnBvc2l0aW9uLnN0YXJ0LmNvbCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0KTtcclxuXHJcblx0XHRcdFx0XHRcdFx0bWVudS5zaG93QXRNb3VzZUV2ZW50KGV2ZW50KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0KTtcclxuXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vXHU4OTgxXHU3RDIwMFx1MzA2MFx1MzA2M1x1MzA1Rlx1MzA2OFx1MzA0RFx1MzA2RVx1NTFFNlx1NzQwNlxyXG5cdFx0XHRcdC8vXHU1NDA0XHU4ODRDXHUzMDkyXHUzMEMxXHUzMEE3XHUzMEMzXHUzMEFGXHUzMDU3XHUzMDAxXHU3QTdBXHU4ODRDXHUzMDY3XHUzMDZBXHUzMDQ0XHU1MjFEXHUzMDgxXHUzMDZFXHU4ODRDXHUzMDkyXHU4ODY4XHU3OTNBXHUzMDU5XHUzMDhCKFx1NjJCRFx1NTFGQVx1MzBFMlx1MzBGQ1x1MzBDOVx1MzA2N1x1MzA2Rlx1ODg0Q1x1MzA4Rlx1MzA2QVx1MzA0NClcclxuXHRcdFx0XHRpZiAodGhpcy5leHRyYWN0TW9kZSA9PSBmYWxzZSl7XHJcblx0XHRcdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IGluZm9baV0ubGluZXMubGVuZ3RoOyBqKyspe1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKGluZm9baV0ubGluZXNbal0gPT0gXCJcIil7XHJcblx0XHRcdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3Qgb3V0bGluZUVsOiBIVE1MRWxlbWVudCA9IGRhaWx5Tm90ZUNoaWxkcmVuRWxcclxuXHRcdFx0XHRcdFx0XHRcdFx0LmNyZWF0ZURpdihcInRyZWUtaXRlbSBuYXYtZmlsZVwiKTtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBvdXRsaW5lVGl0bGU6IEhUTUxFbGVtZW50ID0gb3V0bGluZUVsLmNyZWF0ZURpdihcInRyZWUtaXRlbS1zZWxmIGlzLWNsaWNrYWJsZSBuYXYtZmlsZS10aXRsZVwiKTtcclxuXHRcdFx0XHRcdFx0XHRvdXRsaW5lVGl0bGUuY3JlYXRlRGl2KFwidHJlZS1pdGVtLWlubmVyIG5hdi1maWxlLXRpdGxlLWNvbnRlbnRcIikuc2V0VGV4dChpbmZvW2ldLmxpbmVzW2pdKTtcclxuXHRcdFx0XHRcdFx0XHRvdXRsaW5lVGl0bGUuYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XHRcdFx0XHRcdFwiY2xpY2tcIixcclxuXHRcdFx0XHRcdFx0XHRcdGFzeW5jKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCkub3BlbkZpbGUoZmlsZXNbaV0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHRcdGZhbHNlXHJcblx0XHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHJcblxyXG5cdFx0XHR9XHJcblx0XHRcdC8vIFx1NjJCRFx1NTFGQVx1MzBFMlx1MzBGQ1x1MzBDOVx1MzA2N1x1NjJCRFx1NTFGQVx1MzA1N1x1MzA1Rlx1ODk4MVx1N0QyMFx1MzA0Q1x1MzA2QVx1MzA0NFx1NTgzNFx1NTQwOFx1MzAwMVx1MzBDRVx1MzBGQ1x1MzBDOFx1ODFFQVx1NEY1M1x1MzA5Mlx1OTc1RVx1ODg2OFx1NzkzQVx1MzA2Qlx1MzAwMlxyXG5cdFx0XHRpZiAodGhpcy5leHRyYWN0TW9kZSA9PSB0cnVlICYmIGlzRXh0cmFjdGVkID09IGZhbHNlKXtcclxuXHRcdFx0XHRkYWlseU5vdGVFbC5yZW1vdmUoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Ly8gXHUzMEEyXHUzMEE2XHUzMEM4XHUzMEU5XHUzMEE0XHUzMEYzXHU5MEU4XHU1MjA2XHUzMDZFXHU2M0NGXHU3NTNCXHU1QjlGXHU4ODRDXHJcblx0XHR0aGlzLmNvbnRlbnRFbC5hcHBlbmRDaGlsZChjb250YWluZXJFbCk7XHJcblx0fVxyXG5cclxuXHQvLyBcdTMwQThcdTMwQzdcdTMwQTNcdTMwQkZcdTMwOTJcdTMwQTJcdTMwQTZcdTMwQzhcdTMwRTlcdTMwQTRcdTMwRjNcdTg5ODFcdTdEMjBcdTMwNkVcdTRGNERcdTdGNkVcdTMwN0VcdTMwNjdcdTMwQjlcdTMwQUZcdTMwRURcdTMwRkNcdTMwRUJcclxuXHRwcml2YXRlIHNjcm9sbFRvRWxlbWVudChsaW5lOiBudW1iZXIsIGNvbDogbnVtYmVyKTogdm9pZCB7XHJcblx0XHRjb25zdCB2aWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcclxuXHRcdGlmICh2aWV3KSB7XHJcblx0XHRcdHZpZXcuZWRpdG9yLmZvY3VzKCk7XHJcblx0XHRcdHZpZXcuZWRpdG9yLnNldEN1cnNvciAobGluZSwgY29sKTtcclxuXHRcdFx0dmlldy5lZGl0b3Iuc2Nyb2xsSW50b1ZpZXcoIHtcclxuXHRcdFx0XHRmcm9tOiB7XHJcblx0XHRcdFx0XHRsaW5lOiBsaW5lLFxyXG5cdFx0XHRcdFx0Y2g6MFxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0dG86IHtcclxuXHRcdFx0XHRcdGxpbmU6IGxpbmUsXHJcblx0XHRcdFx0XHRjaDowXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LCB0cnVlKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIFx1RkYzQiBcdUZGM0RcdTMwNkVcdTk2NjRcdTUzQkJcclxuXHRwcml2YXRlIHN0cmlwTWFya2Rvd25TeW1wb2wodGV4dDogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiAodGV4dC5yZXBsYWNlKC8oXFxbXFxbKXwoXFxdXFxdKS9nLCcnKSk7XHJcblx0fVxyXG5cclxuXHQvLyBcdTYzQTJcdTdEMjJcdTdCQzRcdTU2RjJcdTMwOTJcdThBMkRcdTVCOUFcdTMwNkJcdTU0MDhcdTMwOEZcdTMwNUJcdTMwNjZcdTUyMURcdTY3MUZcdTUzMTZcclxuXHRwdWJsaWMgcmVzZXRTZWFyY2hSYW5nZSgpOnZvaWQge1xyXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MuaW5pdGlhbFNlYXJjaFR5cGUgPT0gJ2ZvcndhcmQnKXtcclxuXHRcdFx0Y29uc3Qgb25zZXREYXRlID0gd2luZG93Lm1vbWVudCh0aGlzLnNldHRpbmdzLm9uc2V0LFwiWVlZWS1NTS1ERFwiKTtcclxuXHRcdFx0aWYgKG9uc2V0RGF0ZS5pc1ZhbGlkKCkpe1xyXG5cdFx0XHRcdHRoaXMuc2VhcmNoUmFuZ2UuZWFybGllc3QgPSBvbnNldERhdGU7XHJcblx0XHRcdFx0dGhpcy5zZWFyY2hSYW5nZS5sYXRlc3QgPSBvbnNldERhdGUuY2xvbmUoKS5hZGQodGhpcy5zZXR0aW5ncy5kdXJhdGlvbi5kYXkgLTEsJ2RheXMnKTtcclxuXHRcdFx0fSBlbHNlIHsgIFxyXG5cdFx0XHRcdC8vIG9uc2V0RGF0ZVx1MzA0Q1x1NEUwRFx1NkI2M1x1MzA2QVx1MzA4OVx1NUY1M1x1NjVFNVx1OEQ3N1x1NzBCOVx1MzA2RWJhY2t3YXJkIHNlYXJjaFx1MzA5Mlx1ODg0Q1x1MzA0NlxyXG5cdFx0XHRcdG5ldyBOb3RpY2UoJ29uc2V0IGRhdGUgaXMgaW52YWxpZCcpO1xyXG5cdFx0XHRcdHRoaXMuc2VhcmNoUmFuZ2UubGF0ZXN0ID0gd2luZG93Lm1vbWVudCgpLnN0YXJ0T2YoJ2RheScpO1xyXG5cdFx0XHRcdHRoaXMuc2VhcmNoUmFuZ2UuZWFybGllc3QgPSB3aW5kb3cubW9tZW50KCkuc3RhcnRPZignZGF5Jykuc3VidHJhY3QodGhpcy5zZXR0aW5ncy5kdXJhdGlvbi5kYXkgLSAxLCdkYXlzJylcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5pbml0aWFsU2VhcmNoVHlwZSA9PSAnYmFja3dhcmQnKXtcclxuXHRcdFx0dGhpcy5zZWFyY2hSYW5nZS5sYXRlc3QgPSB3aW5kb3cubW9tZW50KCkuc3RhcnRPZignZGF5Jyk7XHJcblx0XHRcdHRoaXMuc2VhcmNoUmFuZ2UuZWFybGllc3QgPSB3aW5kb3cubW9tZW50KCkuc3RhcnRPZignZGF5Jykuc3VidHJhY3QodGhpcy5zZXR0aW5ncy5kdXJhdGlvbi5kYXkgLSAxICwnZGF5cycpO1xyXG5cdFx0fSBcclxuXHR9XHJcblxyXG5cdC8vIFBlcmlvZGljIE5vdGVzXHUzMDZFXHU3MkI2XHU2MTRCXHUzMDkyXHUzMEMxXHUzMEE3XHUzMEMzXHUzMEFGICByZXR1cm4gMDpcdTMwQUFcdTMwRDUgMTp2MC54LnggMjp2MS4wLjAtXHJcblx0cHJpdmF0ZSBhc3luYyBjaGVja1BlcmlvZGljTm90ZXMoKTogUHJvbWlzZTxudW1iZXI+IHtcclxuXHRcdFxyXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3Muc2hvd0RlYnVnSW5mbyl7XHJcblx0XHRcdGNvbnNvbGUubG9nKCdETk86Y2hlY2tpbmcgdGhlIHZlcnNpb24gb2YgUGVyaW9kaWMgTm90ZXMgcGx1Z2luJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGFwcC5wbHVnaW5zLnBsdWdpbnNbJ3BlcmlvZGljLW5vdGVzJ10pe1xyXG5cdFx0XHRpZiAoTnVtYmVyKGFwcC5wbHVnaW5zLnBsdWdpbnNbJ3BlcmlvZGljLW5vdGVzJ10ubWFuaWZlc3QudmVyc2lvbi5zcGxpdChcIi5cIilbMF0pID49MSl7XHJcblx0XHRcdFx0Ly8gdmVyIDEuMC4wXHU0RUU1XHU0RTBBXHJcblx0XHRcdFx0dGhpcy5jYWxlbmRhclNldHMgPSB0aGlzLmFwcC5wbHVnaW5zLmdldFBsdWdpbihcInBlcmlvZGljLW5vdGVzXCIpPy5jYWxlbmRhclNldE1hbmFnZXIuZ2V0Q2FsZW5kYXJTZXRzKCk7XHJcblxyXG5cdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnNob3dEZWJ1Z0luZm8pe1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ3JldHVybiBvZiB0aGlzLmFwcC5QTi5jYWxlbmRhclNldE1hbmFnZXIuZ2V0Q2FsZW5kYXJTZXRzKCk6ICcsdGhpcy5hcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKT8uY2FsZW5kYXJTZXRNYW5hZ2VyLmdldENhbGVuZGFyU2V0cygpKTtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdyZXR1cm4gb2Ygd2luZG93LmFwcC5QTi5jYWxlbmRhclNldE1hbmFnZXIuZ2V0Q2FsZW5kYXJTZXRzKCk6ICcsd2luZG93LmFwcC5wbHVnaW5zLmdldFBsdWdpbihcInBlcmlvZGljLW5vdGVzXCIpPy5jYWxlbmRhclNldE1hbmFnZXIuZ2V0Q2FsZW5kYXJTZXRzKCkpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRcclxuXHRcdFx0XHRpZiAoIXRoaXMuY2FsZW5kYXJTZXRzLmxlbmd0aCl7XHJcblx0XHRcdFx0XHRuZXcgTm90aWNlKCdmYWlsZWQgdG8gaW1wb3J0IGNhbGVuZGFyIHNldHMgdG8gRGFpbHkgTm90ZSBPdXRsaW5lJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGNvbnN0IGluaXRpYWxHcmFudWxhcml0eSA9IHRoaXMuYWN0aXZlR3JhbnVsYXJpdHk7XHJcblx0XHRcdFx0d2hpbGUgKCF0aGlzLmNhbGVuZGFyU2V0c1t0aGlzLmFjdGl2ZVNldF1bR1JBTlVMQVJJVFlfTElTVFt0aGlzLmFjdGl2ZUdyYW51bGFyaXR5XV0/LmVuYWJsZWQpe1xyXG5cdFx0XHRcdFx0dGhpcy5hY3RpdmVHcmFudWxhcml0eSA9ICh0aGlzLmFjdGl2ZUdyYW51bGFyaXR5ICsgMSkgJSBHUkFOVUxBUklUWV9MSVNULmxlbmd0aDtcclxuXHRcdFx0XHRcdGlmKHRoaXMuYWN0aXZlR3JhbnVsYXJpdHkgPT0gaW5pdGlhbEdyYW51bGFyaXR5KXtcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVx0XHJcblx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLnJlcXVlc3RTYXZlTGF5b3V0KCk7XHJcblxyXG5cdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnNob3dEZWJ1Z0luZm8pe1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ29idGFpbmVkIHZlclBOOiAnLCB0aGlzLnZlclBOICwnIGNhbGVuZGFyU2V0czogJywgdGhpcy5jYWxlbmRhclNldHMpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gMjtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyB2ZXIgMC54LnhcclxuXHRcdFx0XHR0aGlzLnNldHRpbmdzLmNhbGVuZGFyU2V0c0VuYWJsZWQgPSBmYWxzZTtcclxuXHRcdFx0XHR0aGlzLmFjdGl2ZVNldCA9IDA7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7ICBcclxuXHJcblx0XHRcdFx0Y29uc3QgaW5pdGlhbEdyYW51bGFyaXR5ID0gdGhpcy5hY3RpdmVHcmFudWxhcml0eTtcclxuXHRcdFx0XHR3aGlsZSAoIXRoaXMuYXBwLnBsdWdpbnMuZ2V0UGx1Z2luKFwicGVyaW9kaWMtbm90ZXNcIikuc2V0dGluZ3M/LltHUkFOVUxBUklUWV9UT19QRVJJT0RJQ0lUWVtHUkFOVUxBUklUWV9MSVNUW3RoaXMuYWN0aXZlR3JhbnVsYXJpdHldXV0/LmVuYWJsZWQpe1xyXG5cdFx0XHRcdFx0dGhpcy5hY3RpdmVHcmFudWxhcml0eSA9ICh0aGlzLmFjdGl2ZUdyYW51bGFyaXR5ICsgMSkgJSBHUkFOVUxBUklUWV9MSVNULmxlbmd0aDtcclxuXHRcdFx0XHRcdGlmKHRoaXMuYWN0aXZlR3JhbnVsYXJpdHkgPT0gaW5pdGlhbEdyYW51bGFyaXR5KXtcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVx0XHJcblx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLnJlcXVlc3RTYXZlTGF5b3V0KCk7XHJcblx0XHRcdFx0cmV0dXJuIDE7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIFBlcmlvZGljIE5vdGVzXHUzMDRDXHUzMEFBXHUzMEQ1XHUzMDRCXHUzMEE0XHUzMEYzXHUzMEI5XHUzMEM4XHUzMEZDXHUzMEVCXHUzMDU1XHUzMDhDXHUzMDY2XHUzMDQ0XHUzMDZBXHUzMDQ0XHJcblx0XHRcdHRoaXMuc2V0dGluZ3MucGVyaW9kaWNOb3Rlc0VuYWJsZWQgPSBmYWxzZTtcclxuXHRcdFx0dGhpcy5zZXR0aW5ncy5jYWxlbmRhclNldHNFbmFibGVkID0gZmFsc2U7XHJcblx0XHRcdHRoaXMuYWN0aXZlR3JhbnVsYXJpdHkgPSAwO1xyXG5cdFx0XHR0aGlzLmFjdGl2ZVNldCA9IDA7XHJcblx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRyZXR1cm4gMDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIGdyYW51bGFyaXR5XHUzMDZCXHU1RjkzXHUzMDYzXHUzMDY2XHU1MTY4XHUzMDY2XHUzMDZFZGFpbHkvd2Vla2x5L21vbnRobHkvcXVhcnRlcmx5L3llYXJseVx1MzBDRVx1MzBGQ1x1MzBDOFx1MzA5Mlx1NTNENlx1NUY5N1xyXG5cdGdldEFsbE5vdGVzKCk6UmVjb3JkPHN0cmluZyxURmlsZT4ge1xyXG5cdFx0c3dpdGNoICh0aGlzLmFjdGl2ZUdyYW51bGFyaXR5KXtcclxuXHRcdFx0Y2FzZSAwOlxyXG5cdFx0XHRcdHJldHVybiBnZXRBbGxEYWlseU5vdGVzKCk7XHJcblx0XHRcdGNhc2UgMTpcclxuXHRcdFx0XHRyZXR1cm4gZ2V0QWxsV2Vla2x5Tm90ZXMoKTtcclxuXHRcdFx0Y2FzZSAyOlxyXG5cdFx0XHRcdHJldHVybiBnZXRBbGxNb250aGx5Tm90ZXMoKTtcclxuXHRcdFx0Y2FzZSAzOlxyXG5cdFx0XHRcdHJldHVybiBnZXRBbGxRdWFydGVybHlOb3RlcygpO1xyXG5cdFx0XHRjYXNlIDQ6XHJcblx0XHRcdFx0cmV0dXJuIGdldEFsbFllYXJseU5vdGVzKCk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgbW9tZW50ICBmcm9tIFwibW9tZW50XCI7XHJcbmltcG9ydCB7IFRGaWxlLCBXb3Jrc3BhY2VMZWFmIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgeyBjcmVhdGVEYWlseU5vdGUsIGdldERhaWx5Tm90ZSwgY3JlYXRlUGVyaW9kaWNOb3RlLCBJR3JhbnVsYXJpdHksIGdldERhdGVVSUQsIGNyZWF0ZVF1YXJ0ZXJseU5vdGUsIGNyZWF0ZVllYXJseU5vdGV9IGZyb20gXCJvYnNpZGlhbi1kYWlseS1ub3Rlcy1pbnRlcmZhY2VcIjtcclxuXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlQW5kT3BlbkRhaWx5Tm90ZSggZ3JhbnVsYXJpdHk6IElHcmFudWxhcml0eSwgZGF0ZTogbW9tZW50LCBhbGxGaWxlczogUmVjb3JkPHN0cmluZyxURmlsZT4pOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRjb25zdCB7IHdvcmtzcGFjZSB9ID0gd2luZG93LmFwcDtcclxuXHJcblx0Y29uc3QgY3JlYXRlRmlsZSA9IGFzeW5jICgpID0+IHtcclxuXHRcdC8vIGNyZWF0ZVBlcmlvZGljTm90ZVx1MzA2RnF1YXJ0ZXIveWVhclx1MzA2Qlx1MzA2Rlx1NUJGRVx1NUZEQ1x1MzA1N1x1MzA2Nlx1MzA0NFx1MzA2QVx1MzA0NFx1MzA4OFx1MzA0Nlx1MzA2QVx1MzA2RVx1MzA2N1x1NTIwNlx1NUM5MFx1MzAwMlxyXG5cdFx0bGV0IG5ld05vdGU6VEZpbGU7XHJcblx0XHRzd2l0Y2ggKGdyYW51bGFyaXR5KXtcclxuXHRcdFx0Y2FzZSAncXVhcnRlcic6XHJcblx0XHRcdFx0bmV3Tm90ZSA9IGF3YWl0IGNyZWF0ZVF1YXJ0ZXJseU5vdGUoZGF0ZSk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ3llYXInOlxyXG5cdFx0XHRcdG5ld05vdGUgPSBhd2FpdCBjcmVhdGVZZWFybHlOb3RlKGRhdGUpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdG5ld05vdGUgPSBhd2FpdCBjcmVhdGVQZXJpb2RpY05vdGUoZ3JhbnVsYXJpdHksIGRhdGUpO1xyXG5cdFx0fVxyXG5cdFx0XHRcdGF3YWl0IHdvcmtzcGFjZS5nZXRMZWFmKCkub3BlbkZpbGUobmV3Tm90ZSk7XHJcblxyXG5cdH07XHJcblx0Y29uc3QgZGFpbHlub3RlID0gYWxsRmlsZXNbZ2V0RGF0ZVVJRChkYXRlLCBncmFudWxhcml0eSldO1xyXG5cdC8vY29uc3QgZGFpbHlub3RlID0gZ2V0RGFpbHlOb3RlKGRhdGUsIGFsbEZpbGVzKTtcclxuXHRpZiAoIWRhaWx5bm90ZSl7XHJcblx0XHRhd2FpdCBjcmVhdGVGaWxlKCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdGF3YWl0IHdvcmtzcGFjZS5nZXRMZWFmKCkub3BlbkZpbGUoZGFpbHlub3RlKTtcclxuXHR9XHJcblxyXG59XHJcbiIsICJcclxuaW1wb3J0IHsgQXBwLCBNb2RhbCwgU2NvcGUsIFNldHRpbmcgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCBEYWlseU5vdGVPdXRsaW5lUGx1Z2luIGZyb20gJ3NyYy9tYWluJztcclxuZXhwb3J0IGNsYXNzIE1vZGFsRXh0cmFjdCBleHRlbmRzIE1vZGFsIHtcclxuXHRwbHVnaW46IERhaWx5Tm90ZU91dGxpbmVQbHVnaW47XHJcblx0c2NvcGU6IFNjb3BlO1xyXG5cclxuXHRpbnB1dGVkVmFsdWU6IHN0cmluZztcclxuXHRlbmFibGVFeHRyYWN0IDogYm9vbGVhbjtcclxuXHRvblN1Ym1pdDogKGVuYWJsZUV4dHJhY3Q6IGJvb2xlYW4pID0+IHZvaWQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IERhaWx5Tm90ZU91dGxpbmVQbHVnaW4sIG9uU3VibWl0OiAoZW5hYmxlRXh0cmFjdDogYm9vbGVhbikgPT4gdm9pZCkge1xyXG5cdFx0c3VwZXIoYXBwKTtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdFx0dGhpcy5vblN1Ym1pdCA9IG9uU3VibWl0O1xyXG5cdH1cclxuXHJcblx0b25PcGVuKCkge1xyXG5cdFx0dGhpcy5pbnB1dGVkVmFsdWUgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3Jkc1RvRXh0cmFjdDtcclxuXHJcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuXHRcdGNvbnRlbnRFbC5jcmVhdGVFbChcImJyXCIpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnRFbClcclxuXHRcdFx0LnNldE5hbWUoXCJFeHRyYWN0IGJ5IHdvcmQgb3IgcGhyYXNlOlwiKVxyXG5cdFx0XHQuYWRkVGV4dCgodGV4dCkgPT57XHJcblx0XHRcdFx0dGV4dC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3Jkc1RvRXh0cmFjdCkuaW5wdXRFbC5zZWxlY3QoKTtcclxuXHRcdFx0XHR0ZXh0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5pbnB1dGVkVmFsdWUgPSB2YWx1ZVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250ZW50RWwpXHJcblx0XHRcdC5hZGRCdXR0b24oKGJ0bikgPT5cclxuXHRcdFx0XHRidG5cclxuXHRcdFx0XHRcdC5zZXRCdXR0b25UZXh0KFwiRXh0cmFjdFwiKVxyXG5cdFx0XHRcdFx0LnNldEN0YSgpXHJcblx0XHRcdFx0XHQub25DbGljayhcclxuXHRcdFx0XHRcdFx0YXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLmV4ZWN1dGVFeHRyYWN0KCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdCkpXHJcblx0XHRcdC5hZGRCdXR0b24oKGJ0bikgPT5cclxuXHRcdFx0XHRidG5cclxuXHRcdFx0XHRcdC5zZXRCdXR0b25UZXh0KFwiQ2FuY2VsXCIpXHJcblx0XHRcdFx0XHQub25DbGljaygoKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMuY2xvc2UoKTtcclxuXHRcdFx0XHRcdH0pKTtcclxuXHRcdC8vIEVudGVyXHUzMDY3XHUzMDZFXHU1MTY1XHU1MjlCXHUzMDZCXHU1RjhDXHUzMDY3XHU1QkZFXHU1RkRDXHUzMDU3XHUzMDVGXHUzMDQ0IFxyXG5cdFx0dGhpcy5zY29wZS5yZWdpc3RlcihbXSwgJ0VudGVyJywgXHJcblx0XHRcdChldnQ6IEtleWJvYXJkRXZlbnQpPT57XHJcblx0XHRcdFx0dGhpcy5leGVjdXRlRXh0cmFjdCgpO1xyXG5cdFx0XHR9XHJcblx0XHQgXHQpO1xyXG5cdH1cclxuXHJcblx0b25DbG9zZSgpIHtcclxuXHRcdGxldCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgZXhlY3V0ZUV4dHJhY3QoKTpQcm9taXNlPHZvaWQ+e1xyXG5cdFx0dGhpcy5jbG9zZSgpO1xyXG5cdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mud29yZHNUb0V4dHJhY3QgPSB0aGlzLmlucHV0ZWRWYWx1ZTtcclxuXHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0dGhpcy5vblN1Ym1pdCh0cnVlKTtcclxuXHR9XHJcbn1cclxuIiwgIi8qXHJcbkNvZGVzIGluIHRoaXMgZmlsZSBpcyBhZGFwdGVkIGZyb20gUGVyaW9kaWMgTm90ZXMgYnkgTGlhbSBDYWluIGh0dHBzOi8vZ2l0aHViLmNvbS9saWFtY2Fpbi9vYnNpZGlhbi1wZXJpb2RpYy1ub3Rlc1xyXG5cclxuVGhlIG9yaWdpbmFsIHdvcmsgaXMgTUlULWxpY2Vuc2VkLlxyXG5cclxuTUlUIExpY2Vuc2VcclxuXHJcbkNvcHlyaWdodCAoYykgMjAyMSBMaWFtIENhaW5cclxuXHJcblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxyXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXHJcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcclxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXHJcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcblxyXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGxcclxuY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFXHJcblNPRlRXQVJFLlxyXG4qL1xyXG5cclxuXHJcbmltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiO1xyXG5pbXBvcnQgeyBBcHAsIFRGaWxlLCBXb3Jrc3BhY2VMZWFmLCBub3JtYWxpemVQYXRoLCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IElHcmFudWxhcml0eSB9IGZyb20gXCJvYnNpZGlhbi1kYWlseS1ub3Rlcy1pbnRlcmZhY2VcIjtcclxuXHJcbmltcG9ydCB7IENhbGVuZGFyU2V0IH0gZnJvbSBcIi4vcGVyaW9kaWNOb3Rlc1R5cGVzXCI7XHJcblxyXG5pbXBvcnQgeyBHcmFudWxhcml0eSwgUGVyaW9kaWNDb25maWcgfSBmcm9tIFwiLi9wZXJpb2RpY05vdGVzVHlwZXNcIjtcclxuXHJcbmNvbnN0IERFRkFVTFRfTk9URV9GT1JNQVQgPSB7XHJcblx0ZGF5OiBcIllZWVktTU0tRERcIixcclxuXHR3ZWVrOiBcImdnZ2ctW1ddd3dcIixcclxuXHRtb250aDogXCJZWVlZLU1NXCIsXHJcblx0cXVhcnRlcjogXCJZWVlZLVtRXVFcIixcclxuXHR5ZWFyOiBcIllZWVlcIlxyXG59XHJcblxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUFuZE9wZW5QZXJpb2RpY05vdGUoIGdyYW51bGFyaXR5OiBJR3JhbnVsYXJpdHksIGRhdGU6IG1vbWVudCwgY2FsZW5kYXJTZXQ6IENhbGVuZGFyU2V0KTogUHJvbWlzZTx2b2lkPiB7XHJcblx0Y29uc3QgeyB3b3Jrc3BhY2UgfSA9IHdpbmRvdy5hcHA7XHJcblxyXG5cclxuXHRsZXQgZmlsZSA9IHdpbmRvdy5hcHAucGx1Z2lucy5nZXRQbHVnaW4oXCJwZXJpb2RpYy1ub3Rlc1wiKS5jYWNoZS5nZXRQZXJpb2RpY05vdGUoXHJcblx0XHRjYWxlbmRhclNldC5pZCwgZ3JhbnVsYXJpdHksIGRhdGUgXHJcblx0KTtcclxuXHRpZiAoIWZpbGUpIHtcclxuXHRcdC8vICBmaWxlXHUzMDkyXHU0RjVDXHU2MjEwXHJcbiAgICBcdGNvbnN0IGNvbmZpZyA9IGNhbGVuZGFyU2V0W2dyYW51bGFyaXR5XTtcclxuICAgIFx0Y29uc3QgZm9ybWF0ID0gY2FsZW5kYXJTZXRbZ3JhbnVsYXJpdHldLmZvcm1hdDtcclxuXHJcblx0XHRjb25zdCBmaWxlbmFtZSA9IGRhdGUuZm9ybWF0KGZvcm1hdCA/IGZvcm1hdCA6IERFRkFVTFRfTk9URV9GT1JNQVRbZ3JhbnVsYXJpdHldKTtcclxuXHRcdGNvbnN0IHRlbXBsYXRlQ29udGVudHMgPSBhd2FpdCBnZXRUZW1wbGF0ZUNvbnRlbnRzKHdpbmRvdy5hcHAsIGNvbmZpZy50ZW1wbGF0ZVBhdGgpO1xyXG5cdFx0Y29uc3QgcmVuZGVyZWRDb250ZW50cyA9IGFwcGx5VGVtcGxhdGVUcmFuc2Zvcm1hdGlvbnMoXHJcblx0XHRcdGZpbGVuYW1lLFxyXG5cdFx0XHRncmFudWxhcml0eSBhcyBHcmFudWxhcml0eSxcclxuXHRcdFx0ZGF0ZSxcclxuXHRcdFx0Zm9ybWF0LFxyXG5cdFx0XHR0ZW1wbGF0ZUNvbnRlbnRzXHJcbiAgICBcdCk7XHJcbiAgICBjb25zdCBkZXN0UGF0aCA9IGF3YWl0IGdldE5vdGVDcmVhdGlvblBhdGgod2luZG93LmFwcCwgZmlsZW5hbWUsIGNvbmZpZyk7XHJcbiAgICBmaWxlID0gYXdhaXQgd2luZG93LmFwcC52YXVsdC5jcmVhdGUoZGVzdFBhdGgsIHJlbmRlcmVkQ29udGVudHMpO1xyXG5cdH1cclxuXHJcblx0YXdhaXQgd29ya3NwYWNlLmdldExlYWYoKS5vcGVuRmlsZShmaWxlKTtcclxufVxyXG5cclxuXHJcbi8vIFBlcmlvZGljIE5vdGVzIHV0aWwudHNcdTMwNEJcdTMwODlcclxuYXN5bmMgZnVuY3Rpb24gZ2V0VGVtcGxhdGVDb250ZW50cyhcclxuXHRhcHA6IEFwcCxcclxuXHR0ZW1wbGF0ZVBhdGg6IHN0cmluZyB8IHVuZGVmaW5lZFxyXG4gICk6IFByb21pc2U8c3RyaW5nPiB7XHJcblx0Y29uc3QgeyBtZXRhZGF0YUNhY2hlLCB2YXVsdCB9ID0gYXBwO1xyXG5cdGNvbnN0IG5vcm1hbGl6ZWRUZW1wbGF0ZVBhdGggPSBub3JtYWxpemVQYXRoKHRlbXBsYXRlUGF0aCA/PyBcIlwiKTtcclxuXHRpZiAodGVtcGxhdGVQYXRoID09PSBcIi9cIikge1xyXG5cdCAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShcIlwiKTtcclxuXHR9XHJcbiAgXHJcblx0dHJ5IHtcclxuXHQgIGNvbnN0IHRlbXBsYXRlRmlsZSA9IG1ldGFkYXRhQ2FjaGUuZ2V0Rmlyc3RMaW5rcGF0aERlc3Qobm9ybWFsaXplZFRlbXBsYXRlUGF0aCwgXCJcIik7XHJcblx0ICByZXR1cm4gdGVtcGxhdGVGaWxlID8gdmF1bHQuY2FjaGVkUmVhZCh0ZW1wbGF0ZUZpbGUpIDogXCJcIjtcclxuXHR9IGNhdGNoIChlcnIpIHtcclxuXHQgIGNvbnNvbGUuZXJyb3IoXHJcblx0XHRgRmFpbGVkIHRvIHJlYWQgdGhlIGRhaWx5IG5vdGUgdGVtcGxhdGUgJyR7bm9ybWFsaXplZFRlbXBsYXRlUGF0aH0nYCxcclxuXHRcdGVyclxyXG5cdCAgKTtcclxuXHQgIG5ldyBOb3RpY2UoXCJGYWlsZWQgdG8gcmVhZCB0aGUgZGFpbHkgbm90ZSB0ZW1wbGF0ZVwiKTtcclxuXHQgIHJldHVybiBcIlwiO1xyXG5cdH1cclxuICB9XHJcblxyXG5mdW5jdGlvbiBhcHBseVRlbXBsYXRlVHJhbnNmb3JtYXRpb25zKFxyXG5maWxlbmFtZTogc3RyaW5nLFxyXG5ncmFudWxhcml0eTogR3JhbnVsYXJpdHksXHJcbmRhdGU6IG1vbWVudCxcclxuZm9ybWF0OiBzdHJpbmcsXHJcbnJhd1RlbXBsYXRlQ29udGVudHM6IHN0cmluZ1xyXG4pOiBzdHJpbmcge1xyXG5sZXQgdGVtcGxhdGVDb250ZW50cyA9IHJhd1RlbXBsYXRlQ29udGVudHM7XHJcblxyXG50ZW1wbGF0ZUNvbnRlbnRzID0gcmF3VGVtcGxhdGVDb250ZW50c1xyXG5cdC5yZXBsYWNlKC97e1xccypkYXRlXFxzKn19L2dpLCBmaWxlbmFtZSlcclxuXHQucmVwbGFjZSgve3tcXHMqdGltZVxccyp9fS9naSwgd2luZG93Lm1vbWVudCgpLmZvcm1hdChcIkhIOm1tXCIpKVxyXG5cdC5yZXBsYWNlKC97e1xccyp0aXRsZVxccyp9fS9naSwgZmlsZW5hbWUpO1xyXG5cclxuaWYgKGdyYW51bGFyaXR5ID09PSBcImRheVwiKSB7XHJcblx0dGVtcGxhdGVDb250ZW50cyA9IHRlbXBsYXRlQ29udGVudHNcclxuXHQucmVwbGFjZSgve3tcXHMqeWVzdGVyZGF5XFxzKn19L2dpLCBkYXRlLmNsb25lKCkuc3VidHJhY3QoMSwgXCJkYXlcIikuZm9ybWF0KGZvcm1hdCkpXHJcblx0LnJlcGxhY2UoL3t7XFxzKnRvbW9ycm93XFxzKn19L2dpLCBkYXRlLmNsb25lKCkuYWRkKDEsIFwiZFwiKS5mb3JtYXQoZm9ybWF0KSlcclxuXHQucmVwbGFjZShcclxuXHRcdC97e1xccyooZGF0ZXx0aW1lKVxccyooKFsrLV1cXGQrKShbeXFtd2Roc10pKT9cXHMqKDouKz8pP319L2dpLFxyXG5cdFx0KF8sIF90aW1lT3JEYXRlLCBjYWxjLCB0aW1lRGVsdGEsIHVuaXQsIG1vbWVudEZvcm1hdCkgPT4ge1xyXG5cdFx0Y29uc3Qgbm93ID0gd2luZG93Lm1vbWVudCgpO1xyXG5cdFx0Y29uc3QgY3VycmVudERhdGUgPSBkYXRlLmNsb25lKCkuc2V0KHtcclxuXHRcdFx0aG91cjogbm93LmdldChcImhvdXJcIiksXHJcblx0XHRcdG1pbnV0ZTogbm93LmdldChcIm1pbnV0ZVwiKSxcclxuXHRcdFx0c2Vjb25kOiBub3cuZ2V0KFwic2Vjb25kXCIpLFxyXG5cdFx0fSk7XHJcblx0XHRpZiAoY2FsYykge1xyXG5cdFx0XHRjdXJyZW50RGF0ZS5hZGQocGFyc2VJbnQodGltZURlbHRhLCAxMCksIHVuaXQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChtb21lbnRGb3JtYXQpIHtcclxuXHRcdFx0cmV0dXJuIGN1cnJlbnREYXRlLmZvcm1hdChtb21lbnRGb3JtYXQuc3Vic3RyaW5nKDEpLnRyaW0oKSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gY3VycmVudERhdGUuZm9ybWF0KGZvcm1hdCk7XHJcblx0XHR9XHJcblx0KTtcclxufVxyXG5cclxuaWYgKGdyYW51bGFyaXR5ID09PSBcIndlZWtcIikge1xyXG5cdHRlbXBsYXRlQ29udGVudHMgPSB0ZW1wbGF0ZUNvbnRlbnRzLnJlcGxhY2UoXHJcblx0L3t7XFxzKihzdW5kYXl8bW9uZGF5fHR1ZXNkYXl8d2VkbmVzZGF5fHRodXJzZGF5fGZyaWRheXxzYXR1cmRheSlcXHMqOiguKj8pfX0vZ2ksXHJcblx0KF8sIGRheU9mV2VlaywgbW9tZW50Rm9ybWF0KSA9PiB7XHJcblx0XHRjb25zdCBkYXkgPSBnZXREYXlPZldlZWtOdW1lcmljYWxWYWx1ZShkYXlPZldlZWspO1xyXG5cdFx0cmV0dXJuIGRhdGUud2Vla2RheShkYXkpLmZvcm1hdChtb21lbnRGb3JtYXQudHJpbSgpKTtcclxuXHR9XHJcblx0KTtcclxufVxyXG5cclxuaWYgKGdyYW51bGFyaXR5ID09PSBcIm1vbnRoXCIpIHtcclxuXHR0ZW1wbGF0ZUNvbnRlbnRzID0gdGVtcGxhdGVDb250ZW50cy5yZXBsYWNlKFxyXG5cdC97e1xccyoobW9udGgpXFxzKigoWystXVxcZCspKFt5cW13ZGhzXSkpP1xccyooOi4rPyk/fX0vZ2ksXHJcblx0KF8sIF90aW1lT3JEYXRlLCBjYWxjLCB0aW1lRGVsdGEsIHVuaXQsIG1vbWVudEZvcm1hdCkgPT4ge1xyXG5cdFx0Y29uc3Qgbm93ID0gd2luZG93Lm1vbWVudCgpO1xyXG5cdFx0Y29uc3QgbW9udGhTdGFydCA9IGRhdGVcclxuXHRcdC5jbG9uZSgpXHJcblx0XHQuc3RhcnRPZihcIm1vbnRoXCIpXHJcblx0XHQuc2V0KHtcclxuXHRcdFx0aG91cjogbm93LmdldChcImhvdXJcIiksXHJcblx0XHRcdG1pbnV0ZTogbm93LmdldChcIm1pbnV0ZVwiKSxcclxuXHRcdFx0c2Vjb25kOiBub3cuZ2V0KFwic2Vjb25kXCIpLFxyXG5cdFx0fSk7XHJcblx0XHRpZiAoY2FsYykge1xyXG5cdFx0bW9udGhTdGFydC5hZGQocGFyc2VJbnQodGltZURlbHRhLCAxMCksIHVuaXQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChtb21lbnRGb3JtYXQpIHtcclxuXHRcdHJldHVybiBtb250aFN0YXJ0LmZvcm1hdChtb21lbnRGb3JtYXQuc3Vic3RyaW5nKDEpLnRyaW0oKSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbW9udGhTdGFydC5mb3JtYXQoZm9ybWF0KTtcclxuXHR9XHJcblx0KTtcclxufVxyXG5cclxuaWYgKGdyYW51bGFyaXR5ID09PSBcInF1YXJ0ZXJcIikge1xyXG5cdHRlbXBsYXRlQ29udGVudHMgPSB0ZW1wbGF0ZUNvbnRlbnRzLnJlcGxhY2UoXHJcblx0L3t7XFxzKihxdWFydGVyKVxccyooKFsrLV1cXGQrKShbeXFtd2Roc10pKT9cXHMqKDouKz8pP319L2dpLFxyXG5cdChfLCBfdGltZU9yRGF0ZSwgY2FsYywgdGltZURlbHRhLCB1bml0LCBtb21lbnRGb3JtYXQpID0+IHtcclxuXHRcdGNvbnN0IG5vdyA9IHdpbmRvdy5tb21lbnQoKTtcclxuXHRcdGNvbnN0IG1vbnRoU3RhcnQgPSBkYXRlXHJcblx0XHQuY2xvbmUoKVxyXG5cdFx0LnN0YXJ0T2YoXCJxdWFydGVyXCIpXHJcblx0XHQuc2V0KHtcclxuXHRcdFx0aG91cjogbm93LmdldChcImhvdXJcIiksXHJcblx0XHRcdG1pbnV0ZTogbm93LmdldChcIm1pbnV0ZVwiKSxcclxuXHRcdFx0c2Vjb25kOiBub3cuZ2V0KFwic2Vjb25kXCIpLFxyXG5cdFx0fSk7XHJcblx0XHRpZiAoY2FsYykge1xyXG5cdFx0bW9udGhTdGFydC5hZGQocGFyc2VJbnQodGltZURlbHRhLCAxMCksIHVuaXQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChtb21lbnRGb3JtYXQpIHtcclxuXHRcdHJldHVybiBtb250aFN0YXJ0LmZvcm1hdChtb21lbnRGb3JtYXQuc3Vic3RyaW5nKDEpLnRyaW0oKSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbW9udGhTdGFydC5mb3JtYXQoZm9ybWF0KTtcclxuXHR9XHJcblx0KTtcclxufVxyXG5cclxuaWYgKGdyYW51bGFyaXR5ID09PSBcInllYXJcIikge1xyXG5cdHRlbXBsYXRlQ29udGVudHMgPSB0ZW1wbGF0ZUNvbnRlbnRzLnJlcGxhY2UoXHJcblx0L3t7XFxzKih5ZWFyKVxccyooKFsrLV1cXGQrKShbeXFtd2Roc10pKT9cXHMqKDouKz8pP319L2dpLFxyXG5cdChfLCBfdGltZU9yRGF0ZSwgY2FsYywgdGltZURlbHRhLCB1bml0LCBtb21lbnRGb3JtYXQpID0+IHtcclxuXHRcdGNvbnN0IG5vdyA9IHdpbmRvdy5tb21lbnQoKTtcclxuXHRcdGNvbnN0IG1vbnRoU3RhcnQgPSBkYXRlXHJcblx0XHQuY2xvbmUoKVxyXG5cdFx0LnN0YXJ0T2YoXCJ5ZWFyXCIpXHJcblx0XHQuc2V0KHtcclxuXHRcdFx0aG91cjogbm93LmdldChcImhvdXJcIiksXHJcblx0XHRcdG1pbnV0ZTogbm93LmdldChcIm1pbnV0ZVwiKSxcclxuXHRcdFx0c2Vjb25kOiBub3cuZ2V0KFwic2Vjb25kXCIpLFxyXG5cdFx0fSk7XHJcblx0XHRpZiAoY2FsYykge1xyXG5cdFx0bW9udGhTdGFydC5hZGQocGFyc2VJbnQodGltZURlbHRhLCAxMCksIHVuaXQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChtb21lbnRGb3JtYXQpIHtcclxuXHRcdHJldHVybiBtb250aFN0YXJ0LmZvcm1hdChtb21lbnRGb3JtYXQuc3Vic3RyaW5nKDEpLnRyaW0oKSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbW9udGhTdGFydC5mb3JtYXQoZm9ybWF0KTtcclxuXHR9XHJcblx0KTtcclxufVxyXG5cclxucmV0dXJuIHRlbXBsYXRlQ29udGVudHM7XHJcbn1cclxuXHJcblxyXG5hc3luYyBmdW5jdGlvbiBnZXROb3RlQ3JlYXRpb25QYXRoKFxyXG5cdGFwcDogQXBwLFxyXG5cdGZpbGVuYW1lOiBzdHJpbmcsXHJcblx0cGVyaW9kaWNDb25maWc6IFBlcmlvZGljQ29uZmlnXHJcbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuXHRjb25zdCBkaXJlY3RvcnkgPSBwZXJpb2RpY0NvbmZpZy5mb2xkZXIgPz8gXCJcIjtcclxuXHRjb25zdCBmaWxlbmFtZVdpdGhFeHQgPSAhZmlsZW5hbWUuZW5kc1dpdGgoXCIubWRcIikgPyBgJHtmaWxlbmFtZX0ubWRgIDogZmlsZW5hbWU7XHJcbiAgXHJcblx0Y29uc3QgcGF0aCA9IG5vcm1hbGl6ZVBhdGgoam9pbihkaXJlY3RvcnksIGZpbGVuYW1lV2l0aEV4dCkpO1xyXG5cdGF3YWl0IGVuc3VyZUZvbGRlckV4aXN0cyhhcHAsIHBhdGgpO1xyXG5cdHJldHVybiBwYXRoO1xyXG4gIH1cclxuXHJcbi8vIENyZWRpdDogQGNyZWF0aW9uaXgvcGF0aC5qc1xyXG5mdW5jdGlvbiBqb2luKC4uLnBhcnRTZWdtZW50czogc3RyaW5nW10pOiBzdHJpbmcge1xyXG5cdC8vIFNwbGl0IHRoZSBpbnB1dHMgaW50byBhIGxpc3Qgb2YgcGF0aCBjb21tYW5kcy5cclxuXHRsZXQgcGFydHM6IHN0cmluZ1tdID0gW107XHJcblx0Zm9yIChsZXQgaSA9IDAsIGwgPSBwYXJ0U2VnbWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcblx0XHRwYXJ0cyA9IHBhcnRzLmNvbmNhdChwYXJ0U2VnbWVudHNbaV0uc3BsaXQoXCIvXCIpKTtcclxuXHR9XHJcblx0Ly8gSW50ZXJwcmV0IHRoZSBwYXRoIGNvbW1hbmRzIHRvIGdldCB0aGUgbmV3IHJlc29sdmVkIHBhdGguXHJcblx0Y29uc3QgbmV3UGFydHMgPSBbXTtcclxuXHRmb3IgKGxldCBpID0gMCwgbCA9IHBhcnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG5cdFx0Y29uc3QgcGFydCA9IHBhcnRzW2ldO1xyXG5cdFx0Ly8gUmVtb3ZlIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHNsYXNoZXNcclxuXHRcdC8vIEFsc28gcmVtb3ZlIFwiLlwiIHNlZ21lbnRzXHJcblx0XHRpZiAoIXBhcnQgfHwgcGFydCA9PT0gXCIuXCIpIGNvbnRpbnVlO1xyXG5cdFx0Ly8gUHVzaCBuZXcgcGF0aCBzZWdtZW50cy5cclxuXHRcdGVsc2UgbmV3UGFydHMucHVzaChwYXJ0KTtcclxuXHR9XHJcblx0Ly8gUHJlc2VydmUgdGhlIGluaXRpYWwgc2xhc2ggaWYgdGhlcmUgd2FzIG9uZS5cclxuXHRpZiAocGFydHNbMF0gPT09IFwiXCIpIG5ld1BhcnRzLnVuc2hpZnQoXCJcIik7XHJcblx0Ly8gVHVybiBiYWNrIGludG8gYSBzaW5nbGUgc3RyaW5nIHBhdGguXHJcblx0cmV0dXJuIG5ld1BhcnRzLmpvaW4oXCIvXCIpO1xyXG59XHJcblxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZW5zdXJlRm9sZGVyRXhpc3RzKGFwcDogQXBwLCBwYXRoOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRjb25zdCBkaXJzID0gcGF0aC5yZXBsYWNlKC9cXFxcL2csIFwiL1wiKS5zcGxpdChcIi9cIik7XHJcblx0ZGlycy5wb3AoKTsgLy8gcmVtb3ZlIGJhc2VuYW1lXHJcblxyXG5cdGlmIChkaXJzLmxlbmd0aCkge1xyXG5cdFx0Y29uc3QgZGlyID0gam9pbiguLi5kaXJzKTtcclxuXHRcdGlmICghYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChkaXIpKSB7XHJcblx0XHRhd2FpdCBhcHAudmF1bHQuY3JlYXRlRm9sZGVyKGRpcik7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZ2V0RGF5c09mV2VlaygpOiBzdHJpbmdbXSB7XHJcblx0Y29uc3QgeyBtb21lbnQgfSA9IHdpbmRvdztcclxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG5cdGxldCB3ZWVrU3RhcnQgPSAobW9tZW50LmxvY2FsZURhdGEoKSBhcyBhbnkpLl93ZWVrLmRvdztcclxuXHRjb25zdCBkYXlzT2ZXZWVrID0gW1xyXG5cdCAgXCJzdW5kYXlcIixcclxuXHQgIFwibW9uZGF5XCIsXHJcblx0ICBcInR1ZXNkYXlcIixcclxuXHQgIFwid2VkbmVzZGF5XCIsXHJcblx0ICBcInRodXJzZGF5XCIsXHJcblx0ICBcImZyaWRheVwiLFxyXG5cdCAgXCJzYXR1cmRheVwiLFxyXG5cdF07XHJcbiAgXHJcblx0d2hpbGUgKHdlZWtTdGFydCkge1xyXG5cdCAgY29uc3QgZGF5ID0gZGF5c09mV2Vlay5zaGlmdCgpO1xyXG5cdCAgaWYgKGRheSkgZGF5c09mV2Vlay5wdXNoKGRheSk7XHJcblx0ICB3ZWVrU3RhcnQtLTtcclxuXHR9XHJcblx0cmV0dXJuIGRheXNPZldlZWs7XHJcbiAgfVxyXG5cclxuZnVuY3Rpb24gZ2V0RGF5T2ZXZWVrTnVtZXJpY2FsVmFsdWUoZGF5T2ZXZWVrTmFtZTogc3RyaW5nKTogbnVtYmVyIHtcclxuXHRyZXR1cm4gZ2V0RGF5c09mV2VlaygpLmluZGV4T2YoZGF5T2ZXZWVrTmFtZS50b0xvd2VyQ2FzZSgpKTtcclxuICB9IiwgImltcG9ydCBEYWlseU5vdGVPdXRsaW5lUGx1Z2luLCB7IERFRkFVTFRfU0VUVElOR1MgfSBmcm9tIFwic3JjL21haW5cIjtcclxuaW1wb3J0IHsgQXBwLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7IGFwcEhhc0RhaWx5Tm90ZXNQbHVnaW5Mb2FkZWQgfSBmcm9tIFwib2JzaWRpYW4tZGFpbHktbm90ZXMtaW50ZXJmYWNlXCI7XHJcblxyXG5pbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgRGFpbHlOb3RlT3V0bGluZVNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcclxuICAgIHBsdWdpbjogRGFpbHlOb3RlT3V0bGluZVBsdWdpbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBEYWlseU5vdGVPdXRsaW5lUGx1Z2luKSB7XHJcbiAgICAgICAgc3VwZXIgKGFwcCwgcGx1Z2luKTtcclxuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuICAgIH1cclxuXHJcbiAgICBkaXNwbGF5KCk6IHZvaWQge1xyXG4gICAgICAgIGxldCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xyXG5cclxuICAgICAgICBjb250YWluZXJFbC5lbXB0eSgpO1xyXG5cclxuICAgICAgICAvLyBcdTMwQzdcdTMwQTRcdTMwRUFcdTMwRkNcdTMwQ0VcdTMwRkNcdTMwQzhcdTMwNkVcdTMwQzFcdTMwQTdcdTMwQzNcdTMwQUYocGVyaW9kaWMgbm90ZXMgXHUzMDYwXHUzMDUxXHUzMDY3XHUzMDgyb25cdTMwNkJcdTMwNkFcdTMwNjNcdTMwNjZcdTMwNDRcdTMwOENcdTMwNzBcdTU2REVcdTkwN0YpXHJcbiAgICAgICAgaWYgKCFhcHAuaW50ZXJuYWxQbHVnaW5zLnBsdWdpbnNbJ2RhaWx5LW5vdGVzJ10/LmVuYWJsZWQgJiYgIWFwcC5wbHVnaW5zLnBsdWdpbnNbJ3BlcmlvZGljLW5vdGVzJ10pIHtcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVEaXYoXCJzZXR0aW5ncy1iYW5uZXJcIiwgKGJhbm5lcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgYmFubmVyLmNyZWF0ZUVsKFwiaDNcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IFwiTmVpdGhlciBEYWlseSBOb3RlIHBsdWdpbiBub3IgUGVyaW9kaWMgTm90ZXMgY29tbXVuaXR5IHBsdWdpbiBpcyBlbmFibGVkXCIsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDRcIiwge1xyXG4gICAgICAgICAgICB0ZXh0OiBcIkJhc2ljc1wiLFxyXG4gICAgICAgICAgICBjbHM6ICdzZXR0aW5nLWNhdGVnb3J5J1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoXCJJbml0aWFsIHNlYXJjaCB0eXBlXCIpXHJcbiAgICAgICAgICAgIC5zZXREZXNjKFwic2VhcmNoIGJhY2t3YXJkIGZyb20gdG9kYXkgLyBmb3J3YXJkIGZyb20gYSBzcGVjaWZpYyBkYXRlXCIpXHJcbiAgICAgICAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcclxuICAgICAgICAgICAgICAgIGRyb3Bkb3duXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImJhY2t3YXJkXCIsIFwiYmFja3dhcmRcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiZm9yd2FyZFwiLFwiZm9yd2FyZFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbml0aWFsU2VhcmNoVHlwZSlcclxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbml0aWFsU2VhcmNoVHlwZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVzZXRTZWFyY2hSYW5nZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSx0cnVlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoXCJTZWFyY2ggZHVyYXRpb25cIilcclxuICAgICAgICAgICAgLnNldERlc2MoXCJudW1iZXIgb2YgZGF5cyB0byBzZWFyY2ggcGVyIHBhZ2UgKGRlZmF1bHQgPSAyOClcIilcclxuICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5zZXRBdHRyKCd0eXBlJywnbnVtYmVyJyk7XHJcbiAgICAgICAgICAgICAgICB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFN0cmluZyhERUZBVUxUX1NFVFRJTkdTLmR1cmF0aW9uLmRheSkpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKFN0cmluZyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kdXJhdGlvbi5kYXkpKVxyXG5cclxuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXJzZWQgPSBwYXJzZUludCgoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUsMTApO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWQgPD0gMCB8fCBwYXJzZWQgPj0zNjYpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWQgPSBERUZBVUxUX1NFVFRJTkdTLmR1cmF0aW9uLmRheVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kdXJhdGlvbi5kYXkgPSBwYXJzZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZXNldFNlYXJjaFJhbmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSx0cnVlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKFwiSW5jbHVkZSBmdXR1cmUgZGFpbHkgbm90ZXNcIilcclxuICAgICAgICAgICAgLnNldENsYXNzKCdzZXR0aW5nLWluZGVudCcpXHJcbiAgICAgICAgICAgIC5zZXREZXNjKFwiaW4gYmFja3dhcmQgc2VhcmNoLCBpbmNsdWRlIG4gZGF5cyBvZiBmdXR1cmUgZGFpbHkgbm90ZXMgKGRlZmF1bHQgPSA1KVwiKVxyXG4gICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLnNldEF0dHIoJ3R5cGUnLCdudW1iZXInKTtcclxuICAgICAgICAgICAgICAgIHRleHRcclxuICAgICAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoU3RyaW5nKERFRkFVTFRfU0VUVElOR1Mub2Zmc2V0KSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUoU3RyaW5nKHRoaXMucGx1Z2luLnNldHRpbmdzLm9mZnNldCkpXHJcblxyXG4gICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlucHV0ZWRWYWx1ZSA9IE51bWJlcigoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dGVkVmFsdWUgPCAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRlZFZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0ZWRWYWx1ZSA+PTM2Nikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dGVkVmFsdWUgPSAzNjZcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Mub2Zmc2V0ID0gaW5wdXRlZFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVzZXRTZWFyY2hSYW5nZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsdHJ1ZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIk9uc2V0IGRhdGVcIilcclxuICAgICAgICAgICAgLnNldENsYXNzKCdzZXR0aW5nLWluZGVudCcpXHJcbiAgICAgICAgICAgIC5zZXREZXNjKFwib25zZXQgZGF0ZSBpbiBmb3J3YXJkIHNlYXJjaCAoWVlZWS1NTS1ERClcIilcclxuICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRleHRcclxuICAgICAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoREVGQVVMVF9TRVRUSU5HUy5vbnNldClcclxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mub25zZXQpXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLm9uc2V0ID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlc2V0U2VhcmNoUmFuZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSx0cnVlLHRydWUpOyAgIFxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gXHU1MTY1XHU1MjlCXHU1ODM0XHU5NzYyXHUzMDY3XHUzMDZFXHUzMEQwXHUzMEVBXHUzMEM3XHUzMEZDXHUzMEI3XHUzMEU3XHUzMEYzXHUzMDAxXHU2NUFEXHU1RkY1XHUyMDI2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb21lbnQodmFsdWUgLCBcIllZWVktTU0tRERcIikuaXNWYWxpZCgpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLm9uc2V0ID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoNFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogXCJpbnZhbGlkIGRhdGVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKFwiU2hvdyBoZWFkaW5nc1wiKVxyXG4gICAgICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRvZ2dsZVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RWxlbWVudHMuaGVhZGluZylcclxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dFbGVtZW50cy5oZWFkaW5nID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIlNob3cgbGlua3NcIilcclxuICAgICAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0b2dnbGVcclxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0VsZW1lbnRzLmxpbmspXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RWxlbWVudHMubGluayA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIlNob3cgdGFnc1wiKVxyXG4gICAgICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRvZ2dsZVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RWxlbWVudHMudGFnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0VsZW1lbnRzLnRhZyA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoXCJTaG93IGxpc3QgaXRlbXMgJiB0YXNrc1wiKVxyXG4gICAgICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRvZ2dsZVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RWxlbWVudHMubGlzdEl0ZW1zKVxyXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0VsZW1lbnRzLmxpc3RJdGVtcyA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RWxlbWVudHMubGlzdEl0ZW1zKXtcclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIlNob3cgYWxsIHJvb3QgbGlzdCBpdGVtc1wiKVxyXG4gICAgICAgICAgICAgICAgLnNldERlc2MoXCJpZiBkaXNhYmxlZCwgb25seSB0b3AgaXRlbSBvZiB0aGUgbGlzdCBpcyBkaXNwbGF5ZWRcIilcclxuICAgICAgICAgICAgICAgIC5zZXRDbGFzcygnc2V0dGluZy1pbmRlbnQnKVxyXG4gICAgICAgICAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hbGxSb290SXRlbXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmFsbFJvb3RJdGVtcyA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIlNob3cgYWxsIHRhc2tzXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcInNob3cgYWxsIHRhc2sgaXRlbXMgcmVnYXJkbGVzcyBvZiB0aGVpciBsZXZlbFwiKVxyXG4gICAgICAgICAgICAgICAgLnNldENsYXNzKCdzZXR0aW5nLWluZGVudCcpXHJcbiAgICAgICAgICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0b2dnbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmFsbFRhc2tzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hbGxUYXNrcyA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiVGFzayBvbmx5XCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcImlmIGVuYWJsZWQsIG5vcm1hbCBsaXN0IGl0ZW1zIGFyZSBoaWRkZW5cIilcclxuICAgICAgICAgICAgICAgIC5zZXRDbGFzcygnc2V0dGluZy1pbmRlbnQnKVxyXG4gICAgICAgICAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy50YXNrT25seSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MudGFza09ubHkgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIkhpZGUgY29tcGxldGVkIHRhc2tzXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0Q2xhc3MoJ3NldHRpbmctaW5kZW50JylcclxuICAgICAgICAgICAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaGlkZUNvbXBsZXRlZFRhc2tzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5oaWRlQ29tcGxldGVkVGFza3MgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFx1ODg2OFx1NzkzQVx1MzA1OVx1MzA4Qlx1NjBDNVx1NTgzMVxyXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgIC5zZXROYW1lKFwiRGlzcGxheSBmaWxlIGluZm9ybWF0aW9uIGZvciBkYWlseSBub3Rlc1wiKVxyXG4gICAgICAgIC5zZXREZXNjKFwiY2hvb3NlIHR5cGUgb2YgZmlsZSBpbmZvcm1hdGlvbiB0byBkaXNwbGF5IHdpdGggdGhlIGZpbGUgbmFtZSBmb3IgZGFpbHkgbm90ZXNcIilcclxuICAgICAgICAuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XHJcbiAgICAgICAgICAgIGRyb3Bkb3duXHJcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwibm9uZVwiLCBcIm5vbmVcIilcclxuICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJsaW5lc1wiLFwibGluZXMgb2YgdGhlIG5vdGVcIilcclxuICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJkYXlzXCIsXCJkYXlzIGZyb20gYmFzZSBkYXRlXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiZG93XCIsXCJkYXkgb2YgdGhlIHdlZWtcIilcclxuICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJkb3dzaG9ydFwiLCBcImRheSBvZiB0aGUgd2VlayhzaG9ydClcIilcclxuICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJ3ZWVrbnVtYmVyXCIsIFwid2VlayBudW1iZXJcIilcclxuICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJ0YWdcIixcImZpcnN0IHRhZ1wiKSAgXHJcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGlzcGxheUZpbGVJbmZvRGFpbHkpXHJcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmRpc3BsYXlGaWxlSW5mb0RhaWx5ID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wZXJpb2RpY05vdGVzRW5hYmxlZCl7XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIkRpc3BsYXkgZmlsZSBpbmZvcm1hdGlvbiBmb3IgcGVyaW9kaWMgbm90ZXNcIilcclxuICAgICAgICAgICAgLnNldERlc2MoXCJjaG9vc2UgdHlwZSBvZiBmaWxlIGluZm9ybWF0aW9uIHRvIGRpc3BsYXkgZm9yIHBlcmlvZGljIG5vdGVzIG90aGVyIHRoYW4gZGFpbHkgbm90ZXNcIilcclxuICAgICAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgICAgICAgICAgZHJvcGRvd25cclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwibm9uZVwiLCBcIm5vbmVcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwibGluZXNcIixcImxpbmVzIG9mIHRoZSBub3RlXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImRheXNcIixcImRpc3RhbmNlIGZyb20gYmFzZSBkYXRlXCIpICAgLy8gcGVyaW9kaWMgbm90ZXMgXHUzMDZCXHU1QkZFXHU1RkRDXHUzMDU5XHUzMDhCXHUzMDZBXHUzMDg5ZGF5cyBcdTMwNkJcdTk2NTBcdTMwODlcdTMwNkFcdTMwNEZcdTMwNkFcdTMwOEJcdTMwNkVcdTMwNjdkaXN0YW5jZVx1MzA2OFx1MzA1N1x1MzA1RlxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJ0YWdcIixcImZpcnN0IHRhZ1wiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kaXNwbGF5RmlsZUluZm9QZXJpb2RpYylcclxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kaXNwbGF5RmlsZUluZm9QZXJpb2RpYyA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG5cclxuICAgICAgICAvLyB2aWV3XHUzMDkyXHU4ODY4XHU3OTNBXHUzMDU5XHUzMDhCXHU0RjREXHU3RjZFIFx1RkYwOFx1NTNGM1x1MzBCNVx1MzBBNFx1MzBDOVx1MzBEMFx1MzBGQ1x1MzAwMVx1NURFNlx1MzBCNVx1MzBBNFx1MzBDOVx1MzBEMFx1MzBGQ1x1MzAwMVx1MzBFMVx1MzBBNFx1MzBGM1x1MzBEQVx1MzBBNFx1MzBGM1x1RkYwOVxyXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgIC5zZXROYW1lKFwiUG9zaXRpb24gb2YgdGhlIHBsdWdpbiB2aWV3XCIpXHJcbiAgICAgICAgLnNldERlc2MoXCJTcGVjaWZ5IGRlZmF1bHQgcG9zaXRpb24gd2hlcmUgdGhpcyBwbHVnaW4ncyB2aWV3IGFwcGVhcnNcIilcclxuICAgICAgICAuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XHJcbiAgICAgICAgICAgIGRyb3Bkb3duXHJcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwicmlnaHRcIiwgXCJyaWdodCBzaWRlIHBhbmVcIilcclxuICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJsZWZ0XCIsXCJsZWZ0IHNpZGUgcGFuZVwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcInRhYlwiLFwibmV3IHRhYiBpbiBtYWluIHBhbmVcIilcclxuICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJzcGxpdFwiLFwic3BsaXR0ZWQgcGFuZVwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcInBvcG91dFwiLFwicG9wb3V0IHdpbmRvd1wiKVxyXG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnZpZXdQb3NpdGlvbilcclxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Mudmlld1Bvc2l0aW9uID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvLyBQZXJpb2RpYyBOb3Rlc1x1NUJGRVx1NUZEQ1x1MzA2RVx1MzBBQVx1MzBGM1x1MzBBQVx1MzBENVxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoNFwiLCB7XHJcbiAgICAgICAgICAgIHRleHQ6IFwiUGVyaW9kaWMgTm90ZXNcIixcclxuICAgICAgICAgICAgY2xzOiAnc2V0dGluZy1jYXRlZ29yeSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKCFhcHAucGx1Z2lucy5wbHVnaW5zWydwZXJpb2RpYy1ub3RlcyddKXtcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwge1xyXG4gICAgICAgICAgICAgICAgdGV4dDogXCJQZXJpb2RpYyBOb3RlcyBjb21tdW5pdHkgcGx1Z2luIGlzIG5vdCBlbmFibGVkXCIsXHJcbiAgICAgICAgICAgICAgICBjbHM6XCJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb25cIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgdmVyQ2hlY2sgPSAgTnVtYmVyKGFwcC5wbHVnaW5zLnBsdWdpbnNbJ3BlcmlvZGljLW5vdGVzJ10/Lm1hbmlmZXN0LnZlcnNpb24uc3BsaXQoXCIuXCIpWzBdKTtcclxuICAgICAgICAgICAgaWYgKHZlckNoZWNrID49IDEpIHsgICBcclxuICAgICAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiY2FsZW5kYXIgc2V0c1wiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXNjKFwiZW5hYmxlIGNhbGVuZGFyIHNldHMgZmVhdHVyZS4gWW91IGhhdmUgdG8gYWN0aXZhdGUgYW5kIGNvbmZpZ3VyZSB0aGUgYmV0YSB2ZXJzaW9uIG9mIHRoZSBQZXJpb2RpYyBOb3RlcyBQbHVnaW4gZmlyc3QuXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmNhbGVuZGFyU2V0c0VuYWJsZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuY2FsZW5kYXJTZXRzRW5hYmxlZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVzZXRTZWFyY2hSYW5nZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcodHJ1ZSx0cnVlLHRydWUpOyAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJwZXJpb2RpYyBub3Rlc1wiKVxyXG4gICAgICAgICAgICAgICAgLnNldERlc2MoXCJlbmFibGUgd2Vla2x5L21vbnRobHkvcXVhcnRlcmx5L3llYXJseSBub3Rlcy4gWW91IGhhdmUgdG8gYWN0aXZhdGUgYW5kIGNvbmZpZ3VyZSB0aGUgUGVyaW9kaWMgTm90ZXMgUGx1Z2luIGZpcnN0LlwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wZXJpb2RpY05vdGVzRW5hYmxlZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MucGVyaW9kaWNOb3Rlc0VuYWJsZWQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlc2V0U2VhcmNoUmFuZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcodHJ1ZSx0cnVlLHRydWUpOyAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MucGVyaW9kaWNOb3Rlc0VuYWJsZWQpe1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBcIlNlYXJjaCBkdXJhdGlvbiBmb3IgcGVyaW9kaWMgbm90ZXNcIixcclxuICAgICAgICAgICAgICAgICAgICBjbHM6ICdzZXR0aW5nLWNhdGVnb3J5J1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIndlZWtseSBub3Rlc1wiKVxyXG4gICAgICAgICAgICAgICAgLnNldENsYXNzKCdzZXR0aW5nLWluZGVudCcpXHJcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcIm51bWJlciBvZiB3ZWVrcyB0byBzZWFyY2ggcGVyIHBhZ2UgKGRlZmF1bHQgPSAxMilcIilcclxuICAgICAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLnNldEF0dHIoJ3R5cGUnLCdudW1iZXInKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihTdHJpbmcoREVGQVVMVF9TRVRUSU5HUy5kdXJhdGlvbi53ZWVrKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKFN0cmluZyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kdXJhdGlvbi53ZWVrKSlcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhcnNlZCA9IHBhcnNlSW50KChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSwxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWQgPD0gMCB8fCBwYXJzZWQgPj0zNjYpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkID0gREVGQVVMVF9TRVRUSU5HUy5kdXJhdGlvbi53ZWVrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZHVyYXRpb24ud2VlayA9IHBhcnNlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVzZXRTZWFyY2hSYW5nZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLHRydWUsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIm1vbnRobHkgbm90ZXNcIilcclxuICAgICAgICAgICAgICAgIC5zZXRDbGFzcygnc2V0dGluZy1pbmRlbnQnKVxyXG4gICAgICAgICAgICAgICAgLnNldERlc2MoXCJudW1iZXIgb2YgbW9udGhzIHRvIHNlYXJjaCBwZXIgcGFnZSAoZGVmYXVsdCA9IDEyKVwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuc2V0QXR0cigndHlwZScsJ251bWJlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFN0cmluZyhERUZBVUxUX1NFVFRJTkdTLmR1cmF0aW9uLm1vbnRoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKFN0cmluZyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kdXJhdGlvbi5tb250aCkpXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYXJzZWQgPSBwYXJzZUludCgoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUsMTApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VkIDw9IDAgfHwgcGFyc2VkID49MzY2KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZCA9IERFRkFVTFRfU0VUVElOR1MuZHVyYXRpb24ubW9udGhcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kdXJhdGlvbi5tb250aCA9IHBhcnNlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVzZXRTZWFyY2hSYW5nZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLHRydWUsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcInF1YXJ0ZXJseSBub3Rlc1wiKVxyXG4gICAgICAgICAgICAgICAgLnNldENsYXNzKCdzZXR0aW5nLWluZGVudCcpXHJcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcIm51bWJlciBvZiBxdWFydGVycyB0byBzZWFyY2ggcGVyIHBhZ2UgKGRlZmF1bHQgPSA4KVwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuc2V0QXR0cigndHlwZScsJ251bWJlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFN0cmluZyhERUZBVUxUX1NFVFRJTkdTLmR1cmF0aW9uLnF1YXJ0ZXIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUoU3RyaW5nKHRoaXMucGx1Z2luLnNldHRpbmdzLmR1cmF0aW9uLnF1YXJ0ZXIpKVxyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFyc2VkID0gcGFyc2VJbnQoKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlLDEwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZCA8PSAwIHx8IHBhcnNlZCA+PTM2Nil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWQgPSBERUZBVUxUX1NFVFRJTkdTLmR1cmF0aW9uLnF1YXJ0ZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kdXJhdGlvbi5xdWFydGVyID0gcGFyc2VkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZXNldFNlYXJjaFJhbmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsdHJ1ZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwieWVhcmx5IG5vdGVzXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0Q2xhc3MoJ3NldHRpbmctaW5kZW50JylcclxuICAgICAgICAgICAgICAgIC5zZXREZXNjKFwibnVtYmVyIG9mIHllYXJzIHRvIHNlYXJjaCBwZXIgcGFnZSAoZGVmYXVsdCA9IDEyKVwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuc2V0QXR0cigndHlwZScsJ251bWJlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFN0cmluZyhERUZBVUxUX1NFVFRJTkdTLmR1cmF0aW9uLnllYXIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUoU3RyaW5nKHRoaXMucGx1Z2luLnNldHRpbmdzLmR1cmF0aW9uLnllYXIpKVxyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFyc2VkID0gcGFyc2VJbnQoKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlLDEwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZCA8PSAwIHx8IHBhcnNlZCA+PTM2Nil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWQgPSBERUZBVUxUX1NFVFRJTkdTLmR1cmF0aW9uLnllYXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kdXJhdGlvbi55ZWFyID0gcGFyc2VkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZXNldFNlYXJjaFJhbmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsdHJ1ZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcImF0dGFjaCBkYXRlIHJhbmdlIHRvIHdlZWtseSBub3Rlc1wiKVxyXG4gICAgICAgICAgICAgICAgLnNldERlc2MoXCJkaXNwbGF5IGRhdGUgcmFuZ2UgbmV4dCB0byB3ZWVrbHkgbm90ZXMnIG5hbWVcIilcclxuICAgICAgICAgICAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYXR0YWNoV2Vla2x5Tm90ZXNOYW1lKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdHRhY2hXZWVrbHlOb3Rlc05hbWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL1x1ODg2OFx1NzkzQVx1MzA1OVx1MzA4Qlx1ODk4Qlx1NTFGQVx1MzA1N1x1MzBFQ1x1MzBEOVx1MzBFQlxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoNFwiLCB7XHJcbiAgICAgICAgICAgIHRleHQ6IFwiSGVhZGluZ3NcIixcclxuICAgICAgICAgICAgY2xzOlwic2V0dGluZy1jYXRlZ29yeVwiLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RWxlbWVudHMuaGVhZGluZyl7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHtcclxuICAgICAgICAgICAgICAgIHRleHQ6IFwiSGVhZGluZyBsZXZlbCB0byBkaXNwbGF5XCIsXHJcbiAgICAgICAgICAgICAgICBjbHM6XCJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb25cIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmhlYWRpbmdMZXZlbC5mb3JFYWNoKCAodmFsdWUsIGluZGV4LCBhcnJ5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgICAgICAgICAuc2V0TmFtZShgTGV2ZWwkeyBpbmRleCArIDF9YClcclxuICAgICAgICAgICAgICAgICAgICAuc2V0Q2xhc3MoJ3NldHRpbmctaW5kZW50JylcclxuICAgICAgICAgICAgICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5oZWFkaW5nTGV2ZWxbaW5kZXhdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmhlYWRpbmdMZXZlbFsgaW5kZXggXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwicFwiLCB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIlRvIGRpc3BsYXkgdGhpcyBzZWN0aW9uLCBhY3RpdmF0ZSAnU2hvdyBoZWFkaW5ncycgaW4gQmFzaWNzIHNlY3Rpb24uXCIsXHJcbiAgICAgICAgICAgICAgICBjbHM6XCJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb25cIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBcdTMwRDdcdTMwRUNcdTMwRDNcdTMwRTVcdTMwRkNcclxuICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDRcIiwge1xyXG4gICAgICAgICAgICB0ZXh0OiBcIlByZXZpZXdcIixcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgLnNldE5hbWUoXCJJbmxpbmUgcHJldmlld1wiKVxyXG4gICAgICAgIC5zZXREZXNjKFwiU2hvdyBhIGZldyBzdWJzZXF1ZW50IHdvcmRzIG5leHQgdG8gdGhlIG91dGxpbmUgZWxlbWVudCBuYW1lXCIpXHJcbiAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgICAgIHRvZ2dsZVxyXG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmlubGluZVByZXZpZXcpXHJcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5saW5lUHJldmlldyA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgLnNldE5hbWUoXCJUb29sdGlwIHByZXZpZXdcIilcclxuICAgICAgICAuc2V0RGVzYyhcIlNob3cgc3Vic2VxdWVudCBzZW50ZW5jZXMgYXMgYSB0b29sdGlwIHdoZW4gaG92ZXJcIilcclxuICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuICAgICAgICAgICAgdG9nZ2xlXHJcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MudG9vbHRpcFByZXZpZXcpXHJcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MudG9vbHRpcFByZXZpZXcgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy50b29sdGlwUHJldmlldyl7XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIlRvb2x0aXAgcHJldmlldyBkaXJlY3Rpb25cIilcclxuICAgICAgICAgICAgLnNldENsYXNzKCdzZXR0aW5nLWluZGVudCcpXHJcbiAgICAgICAgICAgIC5zZXREZXNjKFwic3BlY2lmeSB0aGUgZGlyZWN0aW9uIHRvIGRpc3BsYXkgdG9vbHRpcCBwcmV2aWV3XCIpXHJcbiAgICAgICAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcclxuICAgICAgICAgICAgICAgIGRyb3Bkb3duXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImxlZnRcIiwgXCJsZWZ0XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcInJpZ2h0XCIsXCJyaWdodFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJib3R0b21cIixcImJvdHRvbVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJ0b3BcIixcInRvcFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy50b29sdGlwUHJldmlld0RpcmVjdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MudG9vbHRpcFByZXZpZXdEaXJlY3Rpb24gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gXHUzMEQ1XHUzMEEzXHUzMEVCXHUzMEJGXHUzMEZDXHJcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcImg0XCIsIHtcclxuICAgICAgICAgICAgdGV4dDogXCJTaW1wbGUgZmlsdGVyXCIsXHJcbiAgICAgICAgICAgIGNsczogJ3NldHRpbmctY2F0ZWdvcnknXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dFbGVtZW50cy5oZWFkaW5nKXtcclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKFwiSGVhZGluZ3MgdG8gaWdub3JlXCIpXHJcbiAgICAgICAgICAgIC5zZXREZXNjKFwiSGVhZGluZ3Mgd2hpY2ggaW5jbHVkZSBsaXN0ZWQgd29yZHMgd2lsbCBub3QgYmUgZGlzcGxheWVkLiBTZXBhcmF0ZSB3aXRoIGEgbmV3IGxpbmUuXCIpXHJcbiAgICAgICAgICAgIC5hZGRUZXh0QXJlYSgodGV4dEFyZWEpID0+e1xyXG4gICAgICAgICAgICAgICAgdGV4dEFyZWEuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mud29yZHNUb0lnbm9yZS5oZWFkaW5nLmpvaW4oJ1xcbicpKTtcclxuICAgICAgICAgICAgICAgIHRleHRBcmVhLmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQgKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzVG9JZ25vcmUuaGVhZGluZyA9IGlucHV0ZWRWYWx1ZS5zcGxpdCgnXFxuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0VsZW1lbnRzLmxpbmspe1xyXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoXCJMaW5rcyB0byBpZ25vcmVcIilcclxuICAgICAgICAgICAgLnNldERlc2MoXCJMaW5rcyB3aGljaCBpbmNsdWRlIGxpc3RlZCB3b3JkcyB3aWxsIG5vdCBiZSBkaXNwbGF5ZWQuIFNlcGFyYXRlIHdpdGggYSBuZXcgbGluZS5cIilcclxuICAgICAgICAgICAgLmFkZFRleHRBcmVhKCh0ZXh0QXJlYSkgPT57XHJcbiAgICAgICAgICAgICAgICB0ZXh0QXJlYS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3Jkc1RvSWdub3JlLmxpbmsuam9pbignXFxuJykpO1xyXG4gICAgICAgICAgICAgICAgdGV4dEFyZWEuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCApID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dGVkVmFsdWUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Mud29yZHNUb0lnbm9yZS5saW5rID0gaW5wdXRlZFZhbHVlLnNwbGl0KCdcXG4nKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RWxlbWVudHMudGFnKXtcclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKFwiVGFncyB0byBpZ25vcmVcIilcclxuICAgICAgICAgICAgLnNldERlc2MoXCJ0YWdzIHdoaWNoIGluY2x1ZGUgbGlzdGVkIHdvcmRzIHdpbGwgbm90IGJlIGRpc3BsYXllZC4gU2VwYXJhdGUgd2l0aCBhIG5ldyBsaW5lLlwiKVxyXG4gICAgICAgICAgICAuYWRkVGV4dEFyZWEoKHRleHRBcmVhKSA9PntcclxuICAgICAgICAgICAgICAgIHRleHRBcmVhLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzVG9JZ25vcmUudGFnLmpvaW4oJ1xcbicpKTtcclxuICAgICAgICAgICAgICAgIHRleHRBcmVhLmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQgKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzVG9JZ25vcmUudGFnID0gaW5wdXRlZFZhbHVlLnNwbGl0KCdcXG4nKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RWxlbWVudHMubGlzdEl0ZW1zKXtcclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKFwiTGlzdCBpdGVtcyB0byBpZ25vcmVcIilcclxuICAgICAgICAgICAgLnNldERlc2MoXCJMaXN0IGl0ZW1zIHdoaWNoIGluY2x1ZGUgbGlzdGVkIHdvcmRzIHdpbGwgbm90IGJlIGRpc3BsYXllZC4gU2VwYXJhdGUgd2l0aCBhIG5ldyBsaW5lLlwiKVxyXG4gICAgICAgICAgICAuYWRkVGV4dEFyZWEoKHRleHRBcmVhKSA9PntcclxuICAgICAgICAgICAgICAgIHRleHRBcmVhLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzVG9JZ25vcmUubGlzdEl0ZW1zLmpvaW4oJ1xcbicpKTtcclxuICAgICAgICAgICAgICAgIHRleHRBcmVhLmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQgKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzVG9JZ25vcmUubGlzdEl0ZW1zID0gaW5wdXRlZFZhbHVlLnNwbGl0KCdcXG4nKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEluY2x1ZGUgLyBFeGNsdWRlXHJcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcImg0XCIsIHtcclxuICAgICAgICAgICAgdGV4dDogXCJJbmNsdWRlXCIsXHJcbiAgICAgICAgICAgIGNsczogJ3NldHRpbmctY2F0ZWdvcnknXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwge1xyXG4gICAgICAgICAgICB0ZXh0OiBcIklmIHlvdSBzcGVjaWZ5IG9uZSBvdXRsaW5lIGVsZW1lbnQgdHlwZSBhbmQgd29yZHMgdG8gaW5jbHVkZSwgb25seSBlbGVtZW50cyB3aGljaCBiZWxvbmcgdG8gdGhlIGluY2x1ZGVkIGVsZW1lbnRzIGFyZSBkaXNwbGF5ZWQuXCIsXHJcbiAgICAgICAgICAgIGNsczpcInNldHRpbmctaXRlbS1kZXNjcmlwdGlvblwiLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHtcclxuICAgICAgICAgICAgdGV4dDogXCIqKk5PVEUqKjogSWYgSW5jbHVkZSBmaWx0ZXIgaXMgc2V0IGluY29ycmVjdGx5LCBhIG51bWJlciBvZiBvdXRsaW5lcyBtYXkgbm90IGJlIGRpc3BsYXllZC4gSW4gc3VjaCBhIGNhc2UsIHRyeSBzZXR0aW5nICdFbGVtZW50IHR5cGUgZm9yIGluY2x1ZGUnIHRvICdubyBJbmNsdWRlIGZpbHRlcicuXCIsXHJcbiAgICAgICAgICAgIGNsczpcInNldHRpbmctaXRlbS1kZXNjcmlwdGlvblwiLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgIC5zZXROYW1lKFwiRWxlbWVudCB0eXBlIGZvciBpbmNsdWRlXCIpXHJcbiAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgICAgICBkcm9wZG93blxyXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcIm5vbmVcIiwgXCJubyBJbmNsdWRlIGZpbHRlclwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImhlYWRpbmdcIixcImhlYWRpbmdcIilcclxuICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJsaW5rXCIsXCJsaW5rXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwidGFnXCIsXCJ0YWdcIilcclxuICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJsaXN0SXRlbXNcIixcImxpc3RJdGVtc1wiKVxyXG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmluY2x1ZGVPbmx5KVxyXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbmNsdWRlT25seSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5jbHVkZU9ubHkgIT0gJ25vbmUnKXtcclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKFwiV29yZHMgdG8gaW5jbHVkZVwiKVxyXG4gICAgICAgICAgICAuc2V0Q2xhc3MoJ3NldHRpbmctaW5kZW50JylcclxuICAgICAgICAgICAgLnNldERlc2MoXCJPbmx5IGVsZW1lbnRzIHNwZWNpZmllZCBpbiAnRWxlbWVudCB0eXBlIGZvciBpbmNsdWRlJyB3aGljaCBpbmNsdWRlIGxpc3RlZCB3b3JkcyB3aWxsIGJlIGRpc3BsYXllZC4gU2VwYXJhdGUgd2l0aCBhIG5ldyBsaW5lLlwiKVxyXG4gICAgICAgICAgICAuYWRkVGV4dEFyZWEoKHRleHRBcmVhKSA9PntcclxuICAgICAgICAgICAgICAgIHRleHRBcmVhLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzVG9JbmNsdWRlLmpvaW4oJ1xcbicpKTtcclxuICAgICAgICAgICAgICAgIHRleHRBcmVhLmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQgKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzVG9JbmNsdWRlID0gaW5wdXRlZFZhbHVlLnNwbGl0KCdcXG4nKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIkluY2x1ZGUgdGhlIGJlZ2lubmluZyBwYXJ0XCIpXHJcbiAgICAgICAgICAgIC5zZXRDbGFzcygnc2V0dGluZy1pbmRlbnQnKVxyXG4gICAgICAgICAgICAuc2V0RGVzYyhcIlNwZWNpZnkgd2hldGhlciB0byBpbmNsdWRlIHRoZSBiZWdpbm5pbmcgcGFydHMgb2YgZWFjaCBkYWlseSBub3RlIHdpdGggbm8gZWxlbWVudCB0byBpbmNsdWRlIFwiKVxyXG4gICAgICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRvZ2dsZVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbmNsdWRlQmVnaW5uaW5nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5jbHVkZUJlZ2lubmluZyA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcImg0XCIsIHtcclxuICAgICAgICAgICAgdGV4dDogXCJFeGNsdWRlXCIsXHJcbiAgICAgICAgICAgIGNsczogJ3NldHRpbmctY2F0ZWdvcnknXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwge1xyXG4gICAgICAgICAgICB0ZXh0OiBcIlNwZWNpZmllZCBvdXRsaW5lIGVsZW1lbnRzIGFuZCBlbGVtZW50cyBiZWxvbmdpbmcgdG8gdGhhdCBlbGVtZW50IHdpbGwgbm90IGJlIGRpc3BsYXllZC5cIixcclxuICAgICAgICAgICAgY2xzOlwic2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uXCIsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgLnNldE5hbWUoXCJFeGNsdXNpb24gZW5kcyBhdFwiKVxyXG4gICAgICAgIC5zZXREZXNjKFwiRXhjbHVkaW5nIGVsZW1lbnRzIHNwZWNpZmllZCBiZWxvdyBlbmRzIGF0IHRoZSBzZWxlY3RlZCB0eXBlIG9mIGVsZW1lbnRzLiBJZiB5b3Ugc3BlY2lmaWVkICdFbGVtZW50IHR5cGUgZm9yIGluY2x1ZGUnIGFib3ZlLCB0aGlzIHZhbHVlIGlzIGlnbm9yZWQgYW5kIGV4Y2x1ZGVpbmcgZWxlbWVudHMgZW5kcyBhdCB0aGF0IHR5cGUgb2YgZWxlbWVudHMuXCIpXHJcbiAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgICAgICBkcm9wZG93blxyXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcIm5vbmVcIiwgXCJub25lXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiaGVhZGluZ1wiLFwiaGVhZGluZ1wiKVxyXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImxpbmtcIixcImxpbmtcIilcclxuICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJ0YWdcIixcInRhZ1wiKVxyXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImxpc3RJdGVtc1wiLFwibGlzdEl0ZW1zXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucHJpbWVFbGVtZW50KVxyXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcmltZUVsZW1lbnQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dFbGVtZW50cy5oZWFkaW5nKXtcclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKFwiSGVhZGluZ3MgdG8gZXhjbHVkZVwiKVxyXG4gICAgICAgICAgICAuc2V0RGVzYyhcIkhlYWRpbmdzIHdoaWNoIGluY2x1ZGUgbGlzdGVkIHdvcmRzIGFuZCBlbGVtZW50cyB3aGljaCBiZWxvbmcgdG8gdGhlbSB3aWxsIG5vdCBiZSBkaXNwbGF5ZWQuIFNlcGFyYXRlIHdpdGggYSBuZXcgbGluZS5cIilcclxuICAgICAgICAgICAgLmFkZFRleHRBcmVhKCh0ZXh0QXJlYSkgPT57XHJcbiAgICAgICAgICAgICAgICB0ZXh0QXJlYS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3Jkc1RvRXhjbHVkZS5oZWFkaW5nLmpvaW4oJ1xcbicpKTtcclxuICAgICAgICAgICAgICAgIHRleHRBcmVhLmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQgKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzVG9FeGNsdWRlLmhlYWRpbmcgPSBpbnB1dGVkVmFsdWUuc3BsaXQoJ1xcbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dFbGVtZW50cy5saW5rKXtcclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKFwiTGlua3MgdG8gZXhjbHVkZVwiKVxyXG4gICAgICAgICAgICAuc2V0RGVzYyhcIkxpbmtzIHdoaWNoIGluY2x1ZGUgbGlzdGVkIHdvcmRzIGFuZCBlbGVtZW50cyB3aGljaCBiZWxvbmcgdG8gdGhlbSB3aWxsIG5vdCBiZSBkaXNwbGF5ZWQuIFNlcGFyYXRlIHdpdGggYSBuZXcgbGluZS5cIilcclxuICAgICAgICAgICAgLmFkZFRleHRBcmVhKCh0ZXh0QXJlYSkgPT57XHJcbiAgICAgICAgICAgICAgICB0ZXh0QXJlYS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3Jkc1RvRXhjbHVkZS5saW5rLmpvaW4oJ1xcbicpKTtcclxuICAgICAgICAgICAgICAgIHRleHRBcmVhLmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQgKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzVG9FeGNsdWRlLmxpbmsgPSBpbnB1dGVkVmFsdWUuc3BsaXQoJ1xcbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RWxlbWVudHMudGFnKXtcclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKFwiVGFncyB0byBleGNsdWRlXCIpXHJcbiAgICAgICAgICAgIC5zZXREZXNjKFwidGFncyB3aGljaCBpbmNsdWRlIGxpc3RlZCB3b3JkcyBhbmQgZWxlbWVudHMgd2hpY2ggYmVsb25nIHRvIHRoZW0gd2lsbCBub3QgYmUgZGlzcGxheWVkLiBTZXBhcmF0ZSB3aXRoIGEgbmV3IGxpbmUuXCIpXHJcbiAgICAgICAgICAgIC5hZGRUZXh0QXJlYSgodGV4dEFyZWEpID0+e1xyXG4gICAgICAgICAgICAgICAgdGV4dEFyZWEuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mud29yZHNUb0V4Y2x1ZGUudGFnLmpvaW4oJ1xcbicpKTtcclxuICAgICAgICAgICAgICAgIHRleHRBcmVhLmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQgKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzVG9FeGNsdWRlLnRhZyA9IGlucHV0ZWRWYWx1ZS5zcGxpdCgnXFxuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0VsZW1lbnRzLmxpc3RJdGVtcyl7XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIkxpc3QgaXRlbXMgdG8gZXhjbHVkZVwiKVxyXG4gICAgICAgICAgICAuc2V0RGVzYyhcIkxpc3QgaXRlbXMgd2hpY2ggaW5jbHVkZSBsaXN0ZWQgd29yZHMgYW5kIGVsZW1lbnRzIHdoaWNoIGJlbG9uZyB0byB0aGVtIHdpbGwgbm90IGJlIGRpc3BsYXllZC4gU2VwYXJhdGUgd2l0aCBhIG5ldyBsaW5lLlwiKVxyXG4gICAgICAgICAgICAuYWRkVGV4dEFyZWEoKHRleHRBcmVhKSA9PntcclxuICAgICAgICAgICAgICAgIHRleHRBcmVhLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzVG9FeGNsdWRlLmxpc3RJdGVtcy5qb2luKCdcXG4nKSk7XHJcbiAgICAgICAgICAgICAgICB0ZXh0QXJlYS5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50ICkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ZWRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3Jkc1RvRXhjbHVkZS5saXN0SXRlbXMgPSBpbnB1dGVkVmFsdWUuc3BsaXQoJ1xcbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gXHU1OTE2XHU4OUIzXHJcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcImg0XCIsIHtcclxuICAgICAgICAgICAgdGV4dDogXCJBcHBlYXJhbmNlXCIsXHJcbiAgICAgICAgICAgIGNsczogJ3NldHRpbmctY2F0ZWdvcnknXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGhlYWRpbmdcdTMwNkVcdTMwQTRcdTMwRjNcdTMwQzdcdTMwRjNcdTMwQzhcdTMwRUNcdTMwRDlcdTMwRUJcdTMwNkJcdTMwNDJcdTMwOEZcdTMwNUJcdTMwNjZcdTRFRDZcdTMwNkVcdTg5ODFcdTdEMjBcdTMwOTJcdTMwQTRcdTMwRjNcdTMwQzdcdTMwRjNcdTMwQzhcdTMwNTlcdTMwOEJcdTMwNEJcclxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAuc2V0TmFtZShcIkluZGVudCBvdGhlciB0aGFuIGhlYWRpbmdzXCIpXHJcbiAgICAgICAgLnNldERlc2MoXCJXaGV0aGVyIG90aGVyIGVsZW1lbnRzIHNob3VsZCBiZSBpbmRlbnRlZCB0byBwcmVjZWRpbmcgaGVhZGluZ3NcIilcclxuICAgICAgICAuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XHJcbiAgICAgICAgICAgIGRyb3Bkb3duXHJcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiMFwiLFwibm9uZVwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcIjFcIixcImZvbGxvdyBwcmVjZWRpbmcgaGVhZGluZ1wiKVxyXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcIjJcIixcInByZWNlZGluZyBoZWFkaW5nICsgMVwiKVxyXG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKFN0cmluZyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbmRlbnRGb2xsb3dIZWFkaW5nKSlcclxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbmRlbnRGb2xsb3dIZWFkaW5nID0gTnVtYmVyKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gXHUzMEM3XHUzMEE0XHUzMEVBXHUzMEZDXHUzMENFXHUzMEZDXHUzMEM4XHJcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwge1xyXG4gICAgICAgICAgICB0ZXh0OiBcIk5vdGVzXCIsXHJcbiAgICAgICAgICAgIGNsczogJ3NldHRpbmctY2F0ZWdvcnknXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgLnNldE5hbWUoXCJJY29uXCIpXHJcbiAgICAgICAgLnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuICAgICAgICAuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XHJcbiAgICAgICAgICAgIGRyb3Bkb3duXHJcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwibm9uZVwiLCBcIm5vbmVcIilcclxuICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJmaWxlXCIsXCJmaWxlXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiY2FsZW5kYXJcIixcImNhbGVuZGFyXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiY2FsZW5kYXItZGF5c1wiLFwiY2FsZW5kYXItZGF5c1wiKVxyXG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmljb24ubm90ZSlcclxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLm5vdGUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmljb24ubm90ZSA9PSAnY3VzdG9tJyl7XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIkN1c3RvbSBpY29uXCIpXHJcbiAgICAgICAgICAgIC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50LTJcIilcclxuICAgICAgICAgICAgLnNldERlc2MoXCJlbnRlciBMdWNpZGUgSWNvbiBuYW1lXCIpXHJcbiAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuc2V0QXR0cigndHlwZScsJ3N0cmluZycpO1xyXG4gICAgICAgICAgICAgICAgdGV4dFxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihERUZBVUxUX1NFVFRJTkdTLmN1c3RvbUljb24ubm90ZSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tSWNvbi5ub3RlKTtcclxuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ZWRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXN0b21JY29uLm5vdGUgPSBpbnB1dGVkVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gXHU4OThCXHU1MUZBXHUzMDU3XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dFbGVtZW50cy5oZWFkaW5nKXtcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwge1xyXG4gICAgICAgICAgICAgICAgdGV4dDogXCJIZWFkaW5nc1wiLFxyXG4gICAgICAgICAgICAgICAgY2xzOiAnc2V0dGluZy1jYXRlZ29yeSdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIkljb25cIilcclxuICAgICAgICAgICAgLnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuICAgICAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgICAgICAgICAgZHJvcGRvd25cclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwibm9uZVwiLCBcIm5vbmVcIilcclxuICAgICAgICAgICAgICAgICAgICAvLy5hZGRPcHRpb24oXCJoZWFkaW5nXCIsXCJoZWFkaW5nXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImhhc2hcIixcImhhc2hcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiY2hldnJvbi1yaWdodFwiLFwiY2hldnJvbi1yaWdodFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vLmFkZE9wdGlvbihcImhlYWRpbmd3aXRobnVtYmVyXCIsXCJoZWFkaW5nIHdpdGggbnVtYmVyXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImN1c3RvbVwiLFwiY3VzdG9tXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmljb24uaGVhZGluZylcclxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLmhlYWRpbmcgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmljb24uaGVhZGluZyA9PSAnY3VzdG9tJyl7XHJcbiAgICAgICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiQ3VzdG9tIGljb25cIilcclxuICAgICAgICAgICAgICAgIC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50LTJcIilcclxuICAgICAgICAgICAgICAgIC5zZXREZXNjKFwiZW50ZXIgTHVjaWRlIEljb24gbmFtZVwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuc2V0QXR0cigndHlwZScsJ3N0cmluZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKERFRkFVTFRfU0VUVElOR1MuY3VzdG9tSWNvbi5oZWFkaW5nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tSWNvbi5oZWFkaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXN0b21JY29uLmhlYWRpbmcgPSBpbnB1dGVkVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIlByZWZpeFwiKVxyXG4gICAgICAgICAgICAgICAgLnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuICAgICAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLnNldEF0dHIoJ3R5cGUnLCdzdHJpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihERUZBVUxUX1NFVFRJTkdTLnByZWZpeC5oZWFkaW5nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucHJlZml4LmhlYWRpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dGVkVmFsdWUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnByZWZpeC5oZWFkaW5nID0gaW5wdXRlZFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnByZWZpeC5oZWFkaW5nICE9ICcnKXtcclxuICAgICAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiUmVwZWF0IGhlYWRpbmcgcHJlZml4XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldENsYXNzKFwic2V0dGluZy1pbmRlbnQtMlwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHJvcGRvd25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJub25lXCIsIFwibm9uZVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImxldmVsXCIsXCJhcyBtYW55IHRpbWVzIGFzIGl0cyBsZXZlbFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImxldmVsbWludXMxXCIsXCJsZXZlbCAtIDFcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZXBlYXRIZWFkaW5nUHJlZml4KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZXBlYXRIZWFkaW5nUHJlZml4ID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKFwiQWRkIGluZGVudFwiKVxyXG4gICAgICAgICAgICAuc2V0Q2xhc3MoJ3NldHRpbmctaW5kZW50JylcclxuICAgICAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0b2dnbGVcclxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5kZW50LmhlYWRpbmcpXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbmRlbnQuaGVhZGluZyA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gXHUzMEVBXHUzMEYzXHUzMEFGXHJcbiAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dFbGVtZW50cy5saW5rKXtcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwge1xyXG4gICAgICAgICAgICAgICAgdGV4dDogXCJMaW5rc1wiLFxyXG4gICAgICAgICAgICAgICAgY2xzOiAnc2V0dGluZy1jYXRlZ29yeSdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIkljb25cIilcclxuICAgICAgICAgICAgLnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuICAgICAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgICAgICAgICAgZHJvcGRvd25cclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwibm9uZVwiLCBcIm5vbmVcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwibGlua1wiLFwibGlua1wiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJsaW5rLTJcIixcImxpbmstMlwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJjdXN0b21cIixcImN1c3RvbVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLmxpbmspXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaWNvbi5saW5rID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLmxpbmsgPT0gJ2N1c3RvbScpe1xyXG4gICAgICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIkN1c3RvbSBpY29uXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0Q2xhc3MoXCJzZXR0aW5nLWluZGVudC0yXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcImVudGVyIEx1Y2lkZSBJY29uIG5hbWVcIilcclxuICAgICAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLnNldEF0dHIoJ3R5cGUnLCdzdHJpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihERUZBVUxUX1NFVFRJTkdTLmN1c3RvbUljb24ubGluaylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmN1c3RvbUljb24ubGluayk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ZWRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tSWNvbi5saW5rID0gaW5wdXRlZFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJQcmVmaXhcIilcclxuICAgICAgICAgICAgICAgIC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50XCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5zZXRBdHRyKCd0eXBlJywnc3RyaW5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoREVGQVVMVF9TRVRUSU5HUy5wcmVmaXgubGluaylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnByZWZpeC5saW5rKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcmVmaXgubGluayA9IGlucHV0ZWRWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBcdTMwQkZcdTMwQjBcclxuICAgICAgICBcclxuICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0VsZW1lbnRzLnRhZyl7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHtcclxuICAgICAgICAgICAgICAgIHRleHQ6IFwiVGFnc1wiLFxyXG4gICAgICAgICAgICAgICAgY2xzOiAnc2V0dGluZy1jYXRlZ29yeSdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIkljb25cIilcclxuICAgICAgICAgICAgLnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuICAgICAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgICAgICAgICAgZHJvcGRvd25cclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwibm9uZVwiLCBcIm5vbmVcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwidGFnXCIsXCJ0YWdcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiaGFzaFwiLFwiaGFzaFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJjdXN0b21cIixcImN1c3RvbVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLnRhZylcclxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLnRhZyA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuaWNvbi50YWcgPT0gJ2N1c3RvbScpe1xyXG4gICAgICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIkN1c3RvbSBpY29uXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0Q2xhc3MoXCJzZXR0aW5nLWluZGVudC0yXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcImVudGVyIEx1Y2lkZSBJY29uIG5hbWVcIilcclxuICAgICAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLnNldEF0dHIoJ3R5cGUnLCdzdHJpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihERUZBVUxUX1NFVFRJTkdTLmN1c3RvbUljb24udGFnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tSWNvbi50YWcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dGVkVmFsdWUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmN1c3RvbUljb24udGFnID0gaW5wdXRlZFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJQcmVmaXhcIilcclxuICAgICAgICAgICAgICAgIC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50XCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5zZXRBdHRyKCd0eXBlJywnc3RyaW5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoREVGQVVMVF9TRVRUSU5HUy5wcmVmaXgudGFnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucHJlZml4LnRhZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ZWRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MucHJlZml4LnRhZyA9IGlucHV0ZWRWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBcdTMwRUFcdTMwQjlcdTMwQzhcclxuICAgICAgICBcclxuICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0VsZW1lbnRzLmxpbmspe1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwicFwiLCB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIkxpc3QgaXRlbXNcIixcclxuICAgICAgICAgICAgICAgIGNsczogJ3NldHRpbmctY2F0ZWdvcnknXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoXCJJY29uXCIpXHJcbiAgICAgICAgICAgIC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50XCIpXHJcbiAgICAgICAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcclxuICAgICAgICAgICAgICAgIGRyb3Bkb3duXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcIm5vbmVcIiwgXCJub25lXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImxpc3RcIixcImxpc3RcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiY2hldnJvbi1yaWdodFwiLFwiY2hldnJvbi1yaWdodFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJtaW51c1wiLFwibWludXNcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiY2lyY2xlLWRvdFwiLFwiY2lyY2xlLWRvdFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJhc3Rlcmlza1wiLFwiYXN0ZXJpc2tcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiY3VzdG9tXCIsXCJjdXN0b21cIilcclxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaWNvbi5saXN0SXRlbXMpXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaWNvbi5saXN0SXRlbXMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmljb24ubGlzdEl0ZW1zID09ICdjdXN0b20nKXtcclxuICAgICAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJDdXN0b20gaWNvblwiKVxyXG4gICAgICAgICAgICAgICAgLnNldENsYXNzKFwic2V0dGluZy1pbmRlbnQtMlwiKVxyXG4gICAgICAgICAgICAgICAgLnNldERlc2MoXCJlbnRlciBMdWNpZGUgSWNvbiBuYW1lXCIpXHJcbiAgICAgICAgICAgICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5zZXRBdHRyKCd0eXBlJywnc3RyaW5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoREVGQVVMVF9TRVRUSU5HUy5jdXN0b21JY29uLmxpc3RJdGVtcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmN1c3RvbUljb24ubGlzdEl0ZW1zKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXN0b21JY29uLmxpc3RJdGVtcyA9IGlucHV0ZWRWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiUHJlZml4XCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0Q2xhc3MoXCJzZXR0aW5nLWluZGVudFwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuc2V0QXR0cigndHlwZScsJ3N0cmluZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKERFRkFVTFRfU0VUVElOR1MucHJlZml4Lmxpc3RJdGVtcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnByZWZpeC5saXN0SXRlbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dGVkVmFsdWUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnByZWZpeC5saXN0SXRlbXMgPSBpbnB1dGVkVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4udmlldy5yZWZyZXNoVmlldyhmYWxzZSxmYWxzZSx0cnVlKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy9cdTY3MkFcdTVCOENcdTRFODZcdTMwQkZcdTMwQjlcdTMwQUZcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwge1xyXG4gICAgICAgICAgICAgICAgdGV4dDogXCJUYXNrc1wiLFxyXG4gICAgICAgICAgICAgICAgY2xzOiAnc2V0dGluZy1jYXRlZ29yeSdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIkljb25cIilcclxuICAgICAgICAgICAgLnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuICAgICAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgICAgICAgICAgZHJvcGRvd25cclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwibm9uZVwiLCBcIm5vbmVcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwic3F1YXJlXCIsXCJzcXVhcmVcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiY2lyY2xlXCIsXCJjaXJjbGVcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwibGlzdC1jaGVja3NcIixcImxpc3QtY2hlY2tzXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImN1c3RvbVwiLFwiY3VzdG9tXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmljb24udGFzaylcclxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5pY29uLnRhc2sgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmljb24udGFzayA9PSAnY3VzdG9tJyl7XHJcbiAgICAgICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiQ3VzdG9tIGljb25cIilcclxuICAgICAgICAgICAgICAgIC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50LTJcIilcclxuICAgICAgICAgICAgICAgIC5zZXREZXNjKFwiZW50ZXIgTHVjaWRlIEljb24gbmFtZVwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuc2V0QXR0cigndHlwZScsJ3N0cmluZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKERFRkFVTFRfU0VUVElOR1MuY3VzdG9tSWNvbi50YXNrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tSWNvbi50YXNrKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwub25ibHVyID0gYXN5bmMgKGU6IEZvY3VzRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRlZFZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXN0b21JY29uLnRhc2sgPSBpbnB1dGVkVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIlByZWZpeFwiKVxyXG4gICAgICAgICAgICAgICAgLnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuICAgICAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLnNldEF0dHIoJ3R5cGUnLCdzdHJpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihERUZBVUxUX1NFVFRJTkdTLnByZWZpeC50YXNrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucHJlZml4LnRhc2spO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dGVkVmFsdWUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnByZWZpeC50YXNrID0gaW5wdXRlZFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKFwiQWRkIGNoZWNrYm94IHRleHQgdG8gcHJlZml4XCIpXHJcbiAgICAgICAgICAgIC5zZXREZXNjKFwiYWRkIFsgXSBvciBbeF1cIilcclxuICAgICAgICAgICAgLnNldENsYXNzKCdzZXR0aW5nLWluZGVudCcpXHJcbiAgICAgICAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdG9nZ2xlXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmFkZENoZWNrYm94VGV4dClcclxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmFkZENoZWNrYm94VGV4dCA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvL1x1NUI4Q1x1NEU4Nlx1NkUwOFx1MzA3Rlx1MzBCRlx1MzBCOVx1MzBBRlxyXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwicFwiLCB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIkNvbXBsZXRlZCB0YXNrc1wiLFxyXG4gICAgICAgICAgICAgICAgY2xzOiAnc2V0dGluZy1jYXRlZ29yeSdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZShcIkljb25cIilcclxuICAgICAgICAgICAgLnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuICAgICAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgICAgICAgICAgZHJvcGRvd25cclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwibm9uZVwiLCBcIm5vbmVcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiY2hlY2stc3F1YXJlXCIsXCJjaGVjay1zcXVhcmVcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiY2hlY2stY2lyY2xlXCIsXCJjaGVjay1jaXJjbGVcIilcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwiY2hlY2tcIixcImNoZWNrXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcImN1c3RvbVwiLFwiY3VzdG9tXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmljb24udGFza0RvbmUpXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaWNvbi50YXNrRG9uZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuaWNvbi50YXNrRG9uZSA9PSAnY3VzdG9tJyl7XHJcbiAgICAgICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiQ3VzdG9tIGljb25cIilcclxuICAgICAgICAgICAgICAgIC5zZXRDbGFzcyhcInNldHRpbmctaW5kZW50LTJcIilcclxuICAgICAgICAgICAgICAgIC5zZXREZXNjKFwiZW50ZXIgTHVjaWRlIEljb24gbmFtZVwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuc2V0QXR0cigndHlwZScsJ3N0cmluZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKERFRkFVTFRfU0VUVElOR1MuY3VzdG9tSWNvbi50YXNrRG9uZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmN1c3RvbUljb24udGFza0RvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5vbmJsdXIgPSBhc3luYyAoZTogRm9jdXNFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dGVkVmFsdWUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmN1c3RvbUljb24udGFza0RvbmUgPSBpbnB1dGVkVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIlByZWZpeFwiKVxyXG4gICAgICAgICAgICAgICAgLnNldENsYXNzKFwic2V0dGluZy1pbmRlbnRcIilcclxuICAgICAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLnNldEF0dHIoJ3R5cGUnLCdzdHJpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihERUZBVUxUX1NFVFRJTkdTLnByZWZpeC50YXNrRG9uZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnByZWZpeC50YXNrRG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLm9uYmx1ciA9IGFzeW5jIChlOiBGb2N1c0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ZWRWYWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MucHJlZml4LnRhc2tEb25lID0gaW5wdXRlZFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICBcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDRcIiwge1xyXG4gICAgICAgICAgICB0ZXh0OiBcIk90aGVyc1wiLFxyXG4gICAgICAgICAgICBjbHM6ICdzZXR0aW5nLWNhdGVnb3J5J1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAuc2V0TmFtZShcIlNob3cgb25seSAubWQgZmlsZXNcIilcclxuICAgICAgICAuc2V0RGVzYyhcIlR1cm4gb24gaWYgbm9uLW1kIGZpbGVzIGFyZSBkaXNwbGF5ZWQgaW4gdGhlIHZpZXdcIilcclxuICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuICAgICAgICAgICAgdG9nZ2xlXHJcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubWFya2Rvd25Pbmx5KVxyXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLm1hcmtkb3duT25seSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnZpZXcucmVmcmVzaFZpZXcoZmFsc2UsZmFsc2UsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAuc2V0TmFtZShcIlNob3cgb25seSBleGFjdGx5IG1hdGNoZWQgZmlsZXNcIilcclxuICAgICAgICAuc2V0RGVzYyhcIlR1cm4gb24gaWYgeW91IGRvIG5vdCB3YW50IHRvIHNlZSBmaWxlcyB0aGF0IGRvIG5vdCBleGFjdGx5IG1hdGNoIHRoZSBmb3JtYXRcIilcclxuICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuICAgICAgICAgICAgdG9nZ2xlXHJcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZXhhY3RNYXRjaE9ubHkpXHJcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZXhhY3RNYXRjaE9ubHkgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi52aWV3LnJlZnJlc2hWaWV3KGZhbHNlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoNFwiLCB7XHJcbiAgICAgICAgICAgIHRleHQ6IFwiRGVidWdcIixcclxuICAgICAgICAgICAgY2xzOiAnc2V0dGluZy1jYXRlZ29yeSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcInNob3cgZGVidWcgaW5mb3JtYXRpb25cIilcclxuICAgICAgICAgICAgICAgIC5zZXREZXNjKFwiZGlzcGxheSBkZWJ1ZyBpbmZvcm1hdGlvbiBpbiB0aGUgY29uc29sZVwiKVxyXG4gICAgICAgICAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RGVidWdJbmZvKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RGVidWdJbmZvID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUVBLFdBQU8sZUFBZSxTQUFTLGNBQWMsRUFBRSxPQUFPO0FBRXRELFFBQUksV0FBVyxRQUFRO0FBRXZCLFFBQU0sNEJBQTRCO0FBQ2xDLFFBQU0sNkJBQTZCO0FBQ25DLFFBQU0sOEJBQThCO0FBQ3BDLFFBQU0sZ0NBQWdDO0FBQ3RDLFFBQU0sNkJBQTZCO0FBRW5DLDRDQUF3QyxhQUFhO0FBWnJEO0FBY0ksWUFBTSxnQkFBZ0IsT0FBTyxJQUFJLFFBQVEsVUFBVTtBQUNuRCxhQUFPLGlCQUFpQiwyQkFBYyxhQUFkLG1CQUF5QixpQkFBekIsbUJBQXVDO0FBQUE7QUFNbkUsb0NBQWdD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
